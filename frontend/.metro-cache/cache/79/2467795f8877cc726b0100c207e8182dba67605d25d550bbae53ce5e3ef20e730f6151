{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../CarPlay","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":176},"end":{"line":5,"column":39,"index":197}}],"key":"RiNCvoWyZI7K4qdFELl/VaTk1+4=","exportNames":["*"],"imports":1}},{"name":"./Template","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":19,"index":218},"end":{"line":6,"column":40,"index":239}}],"key":"phmpLZ57Orvpn0MWzwbRkDH/M8M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SearchTemplate = void 0;\n  const react_native_1 = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  const CarPlay_1 = require(_dependencyMap[1], \"../CarPlay\");\n  const Template_1 = require(_dependencyMap[2], \"./Template\");\n  class SearchTemplate extends Template_1.Template {\n    get type() {\n      return 'search';\n    }\n    get eventMap() {\n      return {\n        searchButtonPressed: 'onSearchButtonPressed',\n        backButtonPressed: 'onBackButtonPressed'\n      };\n    }\n    constructor(config) {\n      // parse out any images in the results\n      super(config);\n      this.config = config;\n      let subscription = CarPlay_1.CarPlay.emitter.addListener('updatedSearchText', async e => {\n        if (config.onSearch && e.templateId === this.id) {\n          const result = await config.onSearch(e.searchText).catch(() => null);\n          if (result == null) {\n            return;\n          }\n          const parsedResults = result.map(item => ({\n            ...item,\n            image: item.image ? react_native_1.Image.resolveAssetSource(item.image) : undefined\n          }));\n          if (react_native_1.Platform.OS === 'ios') {\n            CarPlay_1.CarPlay.bridge.reactToUpdatedSearchText(e.templateId, parsedResults);\n          } else if (react_native_1.Platform.OS === 'android') {\n            this.config = {\n              ...this.config,\n              items: parsedResults\n            };\n            CarPlay_1.CarPlay.bridge.updateTemplate(e.templateId, JSON.parse(JSON.stringify({\n              ...this.config,\n              type: this.type\n            })));\n          }\n        }\n      });\n      this.listenerSubscriptions.push(subscription);\n      subscription = CarPlay_1.CarPlay.emitter.addListener('selectedResult', e => {\n        if (config.onItemSelect && e.templateId === this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => react_native_1.Platform.OS === 'ios' && CarPlay_1.CarPlay.bridge.reactToSelectedResult(true));\n        }\n      });\n      this.listenerSubscriptions.push(subscription);\n      subscription = CarPlay_1.CarPlay.emitter.addListener('didSelectListItem', e => {\n        if (config.onItemSelect && e.templateId === this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => {\n            if (react_native_1.Platform.OS === 'ios') {\n              CarPlay_1.CarPlay.bridge.reactToSelectedResult(true);\n            }\n          });\n        }\n      });\n      this.listenerSubscriptions.push(subscription);\n    }\n  }\n  exports.SearchTemplate = SearchTemplate;\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"SearchTemplate"],[7,24,3,22],[7,27,3,25],[7,32,3,30],[7,33,3,31],[8,2,3,32],[8,8,3,32,"react_native_1"],[8,22,3,32],[8,25,3,32,"require"],[8,32,3,32],[8,33,3,32,"_dependencyMap"],[8,47,3,32],[9,2,5,0],[9,8,5,6,"CarPlay_1"],[9,17,5,15],[9,20,5,18,"require"],[9,27,5,25],[9,28,5,25,"_dependencyMap"],[9,42,5,25],[9,59,5,38],[9,60,5,39],[10,2,6,0],[10,8,6,6,"Template_1"],[10,18,6,16],[10,21,6,19,"require"],[10,28,6,26],[10,29,6,26,"_dependencyMap"],[10,43,6,26],[10,60,6,39],[10,61,6,40],[11,2,7,0],[11,8,7,6,"SearchTemplate"],[11,22,7,20],[11,31,7,29,"Template_1"],[11,41,7,39],[11,42,7,40,"Template"],[11,50,7,48],[11,51,7,49],[12,4,9,4],[12,8,9,8,"type"],[12,12,9,12,"type"],[12,13,9,12],[12,15,9,15],[13,6,10,8],[13,13,10,15],[13,21,10,23],[14,4,11,4],[15,4,12,4],[15,8,12,8,"eventMap"],[15,16,12,16,"eventMap"],[15,17,12,16],[15,19,12,19],[16,6,13,8],[16,13,13,15],[17,8,14,12,"searchButtonPressed"],[17,27,14,31],[17,29,14,33],[17,52,14,56],[18,8,15,12,"backButtonPressed"],[18,25,15,29],[18,27,15,31],[19,6,16,8],[19,7,16,9],[20,4,17,4],[21,4,18,4,"constructor"],[21,15,18,15,"constructor"],[21,16,18,16,"config"],[21,22,18,22],[21,24,18,24],[22,6,19,8],[23,6,20,8],[23,11,20,13],[23,12,20,14,"config"],[23,18,20,20],[23,19,20,21],[24,6,21,8],[24,10,21,12],[24,11,21,13,"config"],[24,17,21,19],[24,20,21,22,"config"],[24,26,21,28],[25,6,22,8],[25,10,22,12,"subscription"],[25,22,22,24],[25,25,22,27,"CarPlay_1"],[25,34,22,36],[25,35,22,37,"CarPlay"],[25,42,22,44],[25,43,22,45,"emitter"],[25,50,22,52],[25,51,22,53,"addListener"],[25,62,22,64],[25,63,22,65],[25,82,22,84],[25,84,22,86],[25,90,22,93,"e"],[25,91,22,94],[25,95,22,99],[26,8,23,12],[26,12,23,16,"config"],[26,18,23,22],[26,19,23,23,"onSearch"],[26,27,23,31],[26,31,23,35,"e"],[26,32,23,36],[26,33,23,37,"templateId"],[26,43,23,47],[26,48,23,52],[26,52,23,56],[26,53,23,57,"id"],[26,55,23,59],[26,57,23,61],[27,10,24,16],[27,16,24,22,"result"],[27,22,24,28],[27,25,24,31],[27,31,24,37,"config"],[27,37,24,43],[27,38,24,44,"onSearch"],[27,46,24,52],[27,47,24,53,"e"],[27,48,24,54],[27,49,24,55,"searchText"],[27,59,24,65],[27,60,24,66],[27,61,24,67,"catch"],[27,66,24,72],[27,67,24,73],[27,73,24,79],[27,77,24,83],[27,78,24,84],[28,10,25,16],[28,14,25,20,"result"],[28,20,25,26],[28,24,25,30],[28,28,25,34],[28,30,25,36],[29,12,26,20],[30,10,27,16],[31,10,28,16],[31,16,28,22,"parsedResults"],[31,29,28,35],[31,32,28,38,"result"],[31,38,28,44],[31,39,28,45,"map"],[31,42,28,48],[31,43,28,49,"item"],[31,47,28,53],[31,52,28,58],[32,12,29,20],[32,15,29,23,"item"],[32,19,29,27],[33,12,30,20,"image"],[33,17,30,25],[33,19,30,27,"item"],[33,23,30,31],[33,24,30,32,"image"],[33,29,30,37],[33,32,30,40,"react_native_1"],[33,46,30,54],[33,47,30,55,"Image"],[33,52,30,60],[33,53,30,61,"resolveAssetSource"],[33,71,30,79],[33,72,30,80,"item"],[33,76,30,84],[33,77,30,85,"image"],[33,82,30,90],[33,83,30,91],[33,86,30,94,"undefined"],[34,10,31,16],[34,11,31,17],[34,12,31,18],[34,13,31,19],[35,10,32,16],[35,14,32,20,"react_native_1"],[35,28,32,34],[35,29,32,35,"Platform"],[35,37,32,43],[35,38,32,44,"OS"],[35,40,32,46],[35,45,32,51],[35,50,32,56],[35,52,32,58],[36,12,33,20,"CarPlay_1"],[36,21,33,29],[36,22,33,30,"CarPlay"],[36,29,33,37],[36,30,33,38,"bridge"],[36,36,33,44],[36,37,33,45,"reactToUpdatedSearchText"],[36,61,33,69],[36,62,33,70,"e"],[36,63,33,71],[36,64,33,72,"templateId"],[36,74,33,82],[36,76,33,84,"parsedResults"],[36,89,33,97],[36,90,33,98],[37,10,34,16],[37,11,34,17],[37,17,35,21],[37,21,35,25,"react_native_1"],[37,35,35,39],[37,36,35,40,"Platform"],[37,44,35,48],[37,45,35,49,"OS"],[37,47,35,51],[37,52,35,56],[37,61,35,65],[37,63,35,67],[38,12,36,20],[38,16,36,24],[38,17,36,25,"config"],[38,23,36,31],[38,26,36,34],[39,14,36,36],[39,17,36,39],[39,21,36,43],[39,22,36,44,"config"],[39,28,36,50],[40,14,36,52,"items"],[40,19,36,57],[40,21,36,59,"parsedResults"],[41,12,36,73],[41,13,36,74],[42,12,37,20,"CarPlay_1"],[42,21,37,29],[42,22,37,30,"CarPlay"],[42,29,37,37],[42,30,37,38,"bridge"],[42,36,37,44],[42,37,37,45,"updateTemplate"],[42,51,37,59],[42,52,37,60,"e"],[42,53,37,61],[42,54,37,62,"templateId"],[42,64,37,72],[42,66,37,74,"JSON"],[42,70,37,78],[42,71,37,79,"parse"],[42,76,37,84],[42,77,37,85,"JSON"],[42,81,37,89],[42,82,37,90,"stringify"],[42,91,37,99],[42,92,37,100],[43,14,37,102],[43,17,37,105],[43,21,37,109],[43,22,37,110,"config"],[43,28,37,116],[44,14,37,118,"type"],[44,18,37,122],[44,20,37,124],[44,24,37,128],[44,25,37,129,"type"],[45,12,37,134],[45,13,37,135],[45,14,37,136],[45,15,37,137],[45,16,37,138],[46,10,38,16],[47,8,39,12],[48,6,40,8],[48,7,40,9],[48,8,40,10],[49,6,41,8],[49,10,41,12],[49,11,41,13,"listenerSubscriptions"],[49,32,41,34],[49,33,41,35,"push"],[49,37,41,39],[49,38,41,40,"subscription"],[49,50,41,52],[49,51,41,53],[50,6,42,8,"subscription"],[50,18,42,20],[50,21,42,23,"CarPlay_1"],[50,30,42,32],[50,31,42,33,"CarPlay"],[50,38,42,40],[50,39,42,41,"emitter"],[50,46,42,48],[50,47,42,49,"addListener"],[50,58,42,60],[50,59,42,61],[50,75,42,77],[50,77,42,80,"e"],[50,78,42,81],[50,82,42,86],[51,8,43,12],[51,12,43,16,"config"],[51,18,43,22],[51,19,43,23,"onItemSelect"],[51,31,43,35],[51,35,43,39,"e"],[51,36,43,40],[51,37,43,41,"templateId"],[51,47,43,51],[51,52,43,56],[51,56,43,60],[51,57,43,61,"id"],[51,59,43,63],[51,61,43,65],[52,10,44,16],[52,15,44,21,"Promise"],[52,22,44,28],[52,23,44,29,"resolve"],[52,30,44,36],[52,31,44,37,"config"],[52,37,44,43],[52,38,44,44,"onItemSelect"],[52,50,44,56],[52,51,44,57,"e"],[52,52,44,58],[52,53,44,59],[52,54,44,60],[52,55,44,61,"then"],[52,59,44,65],[52,60,44,66],[52,66,44,72,"react_native_1"],[52,80,44,86],[52,81,44,87,"Platform"],[52,89,44,95],[52,90,44,96,"OS"],[52,92,44,98],[52,97,44,103],[52,102,44,108],[52,106,44,112,"CarPlay_1"],[52,115,44,121],[52,116,44,122,"CarPlay"],[52,123,44,129],[52,124,44,130,"bridge"],[52,130,44,136],[52,131,44,137,"reactToSelectedResult"],[52,152,44,158],[52,153,44,159],[52,157,44,163],[52,158,44,164],[52,159,44,165],[53,8,45,12],[54,6,46,8],[54,7,46,9],[54,8,46,10],[55,6,47,8],[55,10,47,12],[55,11,47,13,"listenerSubscriptions"],[55,32,47,34],[55,33,47,35,"push"],[55,37,47,39],[55,38,47,40,"subscription"],[55,50,47,52],[55,51,47,53],[56,6,48,8,"subscription"],[56,18,48,20],[56,21,48,23,"CarPlay_1"],[56,30,48,32],[56,31,48,33,"CarPlay"],[56,38,48,40],[56,39,48,41,"emitter"],[56,46,48,48],[56,47,48,49,"addListener"],[56,58,48,60],[56,59,48,61],[56,78,48,80],[56,80,48,83,"e"],[56,81,48,84],[56,85,48,89],[57,8,49,12],[57,12,49,16,"config"],[57,18,49,22],[57,19,49,23,"onItemSelect"],[57,31,49,35],[57,35,49,39,"e"],[57,36,49,40],[57,37,49,41,"templateId"],[57,47,49,51],[57,52,49,56],[57,56,49,60],[57,57,49,61,"id"],[57,59,49,63],[57,61,49,65],[58,10,50,16],[58,15,50,21,"Promise"],[58,22,50,28],[58,23,50,29,"resolve"],[58,30,50,36],[58,31,50,37,"config"],[58,37,50,43],[58,38,50,44,"onItemSelect"],[58,50,50,56],[58,51,50,57,"e"],[58,52,50,58],[58,53,50,59],[58,54,50,60],[58,55,50,61,"then"],[58,59,50,65],[58,60,50,66],[58,66,50,72],[59,12,51,20],[59,16,51,24,"react_native_1"],[59,30,51,38],[59,31,51,39,"Platform"],[59,39,51,47],[59,40,51,48,"OS"],[59,42,51,50],[59,47,51,55],[59,52,51,60],[59,54,51,62],[60,14,52,24,"CarPlay_1"],[60,23,52,33],[60,24,52,34,"CarPlay"],[60,31,52,41],[60,32,52,42,"bridge"],[60,38,52,48],[60,39,52,49,"reactToSelectedResult"],[60,60,52,70],[60,61,52,71],[60,65,52,75],[60,66,52,76],[61,12,53,20],[62,10,54,16],[62,11,54,17],[62,12,54,18],[63,8,55,12],[64,6,56,8],[64,7,56,9],[64,8,56,10],[65,6,57,8],[65,10,57,12],[65,11,57,13,"listenerSubscriptions"],[65,32,57,34],[65,33,57,35,"push"],[65,37,57,39],[65,38,57,40,"subscription"],[65,50,57,52],[65,51,57,53],[66,4,58,4],[67,2,59,0],[68,2,60,0,"exports"],[68,9,60,7],[68,10,60,8,"SearchTemplate"],[68,24,60,22],[68,27,60,25,"SearchTemplate"],[68,41,60,39],[69,0,60,40],[69,3]],"functionMap":{"names":["<global>","SearchTemplate","get__type","get__eventMap","constructor","CarPlay_1.CarPlay.emitter.addListener$argument_1","config.onSearch._catch$argument_0","result.map$argument_0","Promise.resolve.then$argument_0"],"mappings":"AAA;ACM;ICE;KDE;IEC;KFK;IGC;sFCI;yECE,UD;iDEI;kBFG;SDS;+ECE;kEGE,kGH;SDE;kFCE;kEGE;iBHI;SDE;KHE;CDC"},"hasCjsExports":true},"type":"js/module"}]}