{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useRecentlyPlayedStore\", {\n    enumerable: true,\n    get: function () {\n      return useRecentlyPlayedStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var STORAGE_KEY = 'megaradio_recently_played';\n  var MAX_RECENT = 12;\n  var useRecentlyPlayedStore = (0, _zustand.create)((set, get) => ({\n    stations: [],\n    loaded: false,\n    addStation: station => {\n      var current = get().stations;\n      // Remove if already exists, then prepend\n      var filtered = current.filter(s => s._id !== station._id);\n      var updated = [station, ...filtered].slice(0, MAX_RECENT);\n      set({\n        stations: updated\n      });\n      // Persist async\n      AsyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(updated)).catch(() => {});\n    },\n    loadFromStorage: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        if (get().loaded) return;\n        try {\n          var data = yield AsyncStorage.default.getItem(STORAGE_KEY);\n          if (data) {\n            set({\n              stations: JSON.parse(data),\n              loaded: true\n            });\n          } else {\n            set({\n              loaded: true\n            });\n          }\n        } catch {\n          set({\n            loaded: true\n          });\n        }\n      });\n      return function loadFromStorage() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  }));\n  var _default = useRecentlyPlayedStore;\n});","lineCount":72,"map":[[12,2,44,0,"Object"],[12,8,44,0],[12,9,44,0,"defineProperty"],[12,23,44,0],[12,24,44,0,"exports"],[12,31,44,0],[13,4,44,0,"enumerable"],[13,14,44,0],[14,4,44,0,"get"],[14,7,44,0],[14,18,44,0,"get"],[14,19,44,0],[15,6,44,0],[15,13,44,0,"_default"],[15,21,44,0],[16,4,44,0],[17,2,44,0],[18,2,15,0,"Object"],[18,8,15,0],[18,9,15,0,"defineProperty"],[18,23,15,0],[18,24,15,0,"exports"],[18,31,15,0],[19,4,15,0,"enumerable"],[19,14,15,0],[20,4,15,0,"get"],[20,7,15,0],[20,18,15,0,"get"],[20,19,15,0],[21,6,15,0],[21,13,15,0,"useRecentlyPlayedStore"],[21,35,15,0],[22,4,15,0],[23,2,15,0],[24,2,42,4],[24,6,42,4,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,42,4],[24,45,42,4,"require"],[24,52,42,4],[24,53,42,4,"_dependencyMap"],[24,67,42,4],[25,2,42,4],[25,6,42,4,"_asyncToGenerator"],[25,23,42,4],[25,26,42,4,"_interopDefault"],[25,41,42,4],[25,42,42,4,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,42,4],[26,2,1,0],[26,6,1,0,"_zustand"],[26,14,1,0],[26,17,1,0,"require"],[26,24,1,0],[26,25,1,0,"_dependencyMap"],[26,39,1,0],[27,2,2,0],[27,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,42,2,0],[27,45,2,0,"require"],[27,52,2,0],[27,53,2,0,"_dependencyMap"],[27,67,2,0],[28,2,2,0],[28,6,2,0,"AsyncStorage"],[28,18,2,0],[28,21,2,0,"_interopDefault"],[28,36,2,0],[28,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,73,2,0],[29,2,5,0],[29,6,5,6,"STORAGE_KEY"],[29,17,5,17],[29,20,5,20],[29,47,5,47],[30,2,6,0],[30,6,6,6,"MAX_RECENT"],[30,16,6,16],[30,19,6,19],[30,21,6,21],[31,2,15,7],[31,6,15,13,"useRecentlyPlayedStore"],[31,28,15,35],[31,31,15,38],[31,35,15,38,"create"],[31,43,15,44],[31,44,15,44,"create"],[31,50,15,44],[31,52,15,66],[31,53,15,67,"set"],[31,56,15,70],[31,58,15,72,"get"],[31,61,15,75],[31,67,15,81],[32,4,16,2,"stations"],[32,12,16,10],[32,14,16,12],[32,16,16,14],[33,4,17,2,"loaded"],[33,10,17,8],[33,12,17,10],[33,17,17,15],[34,4,19,2,"addStation"],[34,14,19,12],[34,16,19,15,"station"],[34,23,19,31],[34,27,19,36],[35,6,20,4],[35,10,20,10,"current"],[35,17,20,17],[35,20,20,20,"get"],[35,23,20,23],[35,24,20,24],[35,25,20,25],[35,26,20,26,"stations"],[35,34,20,34],[36,6,21,4],[37,6,22,4],[37,10,22,10,"filtered"],[37,18,22,18],[37,21,22,21,"current"],[37,28,22,28],[37,29,22,29,"filter"],[37,35,22,35],[37,36,22,36,"s"],[37,37,22,37],[37,41,22,41,"s"],[37,42,22,42],[37,43,22,43,"_id"],[37,46,22,46],[37,51,22,51,"station"],[37,58,22,58],[37,59,22,59,"_id"],[37,62,22,62],[37,63,22,63],[38,6,23,4],[38,10,23,10,"updated"],[38,17,23,17],[38,20,23,20],[38,21,23,21,"station"],[38,28,23,28],[38,30,23,30],[38,33,23,33,"filtered"],[38,41,23,41],[38,42,23,42],[38,43,23,43,"slice"],[38,48,23,48],[38,49,23,49],[38,50,23,50],[38,52,23,52,"MAX_RECENT"],[38,62,23,62],[38,63,23,63],[39,6,24,4,"set"],[39,9,24,7],[39,10,24,8],[40,8,24,10,"stations"],[40,16,24,18],[40,18,24,20,"updated"],[41,6,24,28],[41,7,24,29],[41,8,24,30],[42,6,25,4],[43,6,26,4,"AsyncStorage"],[43,18,26,16],[43,19,26,16,"default"],[43,26,26,16],[43,27,26,17,"setItem"],[43,34,26,24],[43,35,26,25,"STORAGE_KEY"],[43,46,26,36],[43,48,26,38,"JSON"],[43,52,26,42],[43,53,26,43,"stringify"],[43,62,26,52],[43,63,26,53,"updated"],[43,70,26,60],[43,71,26,61],[43,72,26,62],[43,73,26,63,"catch"],[43,78,26,68],[43,79,26,69],[43,85,26,75],[43,86,26,76],[43,87,26,77],[43,88,26,78],[44,4,27,2],[44,5,27,3],[45,4,29,2,"loadFromStorage"],[45,19,29,17],[46,6,29,17],[46,10,29,17,"_ref"],[46,14,29,17],[46,21,29,17,"_asyncToGenerator"],[46,38,29,17],[46,39,29,17,"default"],[46,46,29,17],[46,48,29,19],[46,61,29,31],[47,8,30,4],[47,12,30,8,"get"],[47,15,30,11],[47,16,30,12],[47,17,30,13],[47,18,30,14,"loaded"],[47,24,30,20],[47,26,30,22],[48,8,31,4],[48,12,31,8],[49,10,32,6],[49,14,32,12,"data"],[49,18,32,16],[49,27,32,25,"AsyncStorage"],[49,39,32,37],[49,40,32,37,"default"],[49,47,32,37],[49,48,32,38,"getItem"],[49,55,32,45],[49,56,32,46,"STORAGE_KEY"],[49,67,32,57],[49,68,32,58],[50,10,33,6],[50,14,33,10,"data"],[50,18,33,14],[50,20,33,16],[51,12,34,8,"set"],[51,15,34,11],[51,16,34,12],[52,14,34,14,"stations"],[52,22,34,22],[52,24,34,24,"JSON"],[52,28,34,28],[52,29,34,29,"parse"],[52,34,34,34],[52,35,34,35,"data"],[52,39,34,39],[52,40,34,40],[53,14,34,42,"loaded"],[53,20,34,48],[53,22,34,50],[54,12,34,55],[54,13,34,56],[54,14,34,57],[55,10,35,6],[55,11,35,7],[55,17,35,13],[56,12,36,8,"set"],[56,15,36,11],[56,16,36,12],[57,14,36,14,"loaded"],[57,20,36,20],[57,22,36,22],[58,12,36,27],[58,13,36,28],[58,14,36,29],[59,10,37,6],[60,8,38,4],[60,9,38,5],[60,10,38,6],[60,16,38,12],[61,10,39,6,"set"],[61,13,39,9],[61,14,39,10],[62,12,39,12,"loaded"],[62,18,39,18],[62,20,39,20],[63,10,39,25],[63,11,39,26],[63,12,39,27],[64,8,40,4],[65,6,41,2],[65,7,41,3],[66,6,41,3],[66,22,29,2,"loadFromStorage"],[66,37,29,17,"loadFromStorage"],[66,38,29,17],[67,8,29,17],[67,15,29,17,"_ref"],[67,19,29,17],[67,20,29,17,"apply"],[67,25,29,17],[67,32,29,17,"arguments"],[67,41,29,17],[68,6,29,17],[69,4,29,17],[70,2,42,0],[70,3,42,1],[70,4,42,2],[70,5,42,3],[71,2,44,0],[71,6,44,0,"_default"],[71,14,44,0],[71,17,44,15,"useRecentlyPlayedStore"],[71,39,44,37],[72,0,44,38],[72,3]],"functionMap":{"names":["<global>","create$argument_0","addStation","current.filter$argument_0","AsyncStorage.setItem._catch$argument_0","loadFromStorage"],"mappings":"AAA;kECc;cCI;oCCG,0BD;qEEI,QF;GDC;mBIE;GJY;EDC"},"hasCjsExports":false},"type":"js/module"}]}