{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"./recentlyPlayedStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":95},"end":{"line":3,"column":63,"index":158}}],"key":"IBS/ilmP8oMFH1vhMj5S/PsE2oA=","exportNames":["*"],"imports":1}},{"name":"../services/flowaliveService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":159},"end":{"line":4,"column":64,"index":223}}],"key":"BVJ3cxOzrnxSFZ7aG5nTVjnsZaw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"usePlayerStore\", {\n    enumerable: true,\n    get: function () {\n      return usePlayerStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _recentlyPlayedStore = require(_dependencyMap[1], \"./recentlyPlayedStore\");\n  var _servicesFlowaliveService = require(_dependencyMap[2], \"../services/flowaliveService\");\n  const initialState = {\n    currentStation: null,\n    playbackState: 'idle',\n    streamUrl: null,\n    nowPlaying: null,\n    volume: 1,\n    isMiniPlayerVisible: false,\n    errorMessage: null,\n    sleepTimerActive: false,\n    sleepTimerRemaining: 0,\n    sleepTimerInterval: null\n  };\n  const usePlayerStore = (0, _zustand.create)((set, get) => Object.assign({}, initialState, {\n    setCurrentStation: station => {\n      set({\n        currentStation: station,\n        isMiniPlayerVisible: station !== null,\n        errorMessage: null\n      });\n\n      // Add to recently played when station is set\n      if (station) {\n        _recentlyPlayedStore.useRecentlyPlayedStore.getState().addStation(station);\n        // Track station play in analytics\n        _servicesFlowaliveService.flowaliveService.trackStationPlayed(station.id, station.name, station.tags?.[0]);\n      }\n    },\n    setPlaybackState: state => {\n      const prevState = get().playbackState;\n      const station = get().currentStation;\n      set({\n        playbackState: state\n      });\n\n      // Track pause event\n      if (state === 'paused' && prevState === 'playing' && station) {\n        _servicesFlowaliveService.flowaliveService.trackStationPaused(station.id, station.name);\n      }\n    },\n    setStreamUrl: url => set({\n      streamUrl: url\n    }),\n    setNowPlaying: metadata => set({\n      nowPlaying: metadata\n    }),\n    setVolume: volume => set({\n      volume: Math.max(0, Math.min(1, volume))\n    }),\n    setMiniPlayerVisible: visible => set({\n      isMiniPlayerVisible: visible\n    }),\n    hideMiniPlayer: () => set({\n      isMiniPlayerVisible: false,\n      currentStation: null,\n      playbackState: 'idle',\n      streamUrl: null,\n      nowPlaying: null\n    }),\n    setError: message => {\n      const station = get().currentStation;\n      set({\n        errorMessage: message,\n        playbackState: message ? 'error' : 'idle'\n      });\n      // Track playback error in analytics\n      if (message && station) {\n        _servicesFlowaliveService.flowaliveService.trackPlaybackError(station.id, message);\n      }\n    },\n    startSleepTimer: (minutes, onExpire) => {\n      // Clear existing timer\n      const existing = get().sleepTimerInterval;\n      if (existing) clearInterval(existing);\n      const totalSeconds = minutes * 60;\n      set({\n        sleepTimerActive: true,\n        sleepTimerRemaining: totalSeconds\n      });\n      const interval = setInterval(() => {\n        const remaining = get().sleepTimerRemaining;\n        if (remaining <= 1) {\n          clearInterval(interval);\n          set({\n            sleepTimerActive: false,\n            sleepTimerRemaining: 0,\n            sleepTimerInterval: null\n          });\n          onExpire();\n        } else {\n          set({\n            sleepTimerRemaining: remaining - 1\n          });\n        }\n      }, 1000);\n      set({\n        sleepTimerInterval: interval\n      });\n    },\n    cancelSleepTimer: () => {\n      const interval = get().sleepTimerInterval;\n      if (interval) clearInterval(interval);\n      set({\n        sleepTimerActive: false,\n        sleepTimerRemaining: 0,\n        sleepTimerInterval: null\n      });\n    },\n    reset: () => {\n      const interval = get().sleepTimerInterval;\n      if (interval) clearInterval(interval);\n      set(initialState);\n    }\n  }));\n  var _default = usePlayerStore;\n});","lineCount":136,"map":[[7,2,142,0,"Object"],[7,8,142,0],[7,9,142,0,"defineProperty"],[7,23,142,0],[7,24,142,0,"exports"],[7,31,142,0],[8,4,142,0,"enumerable"],[8,14,142,0],[9,4,142,0,"get"],[9,7,142,0],[9,18,142,0,"get"],[9,19,142,0],[10,6,142,0],[10,13,142,0,"_default"],[10,21,142,0],[11,4,142,0],[12,2,142,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"usePlayerStore"],[16,27,47,0],[17,4,47,0],[18,2,47,0],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,3,0],[20,6,3,0,"_recentlyPlayedStore"],[20,26,3,0],[20,29,3,0,"require"],[20,36,3,0],[20,37,3,0,"_dependencyMap"],[20,51,3,0],[21,2,4,0],[21,6,4,0,"_servicesFlowaliveService"],[21,31,4,0],[21,34,4,0,"require"],[21,41,4,0],[21,42,4,0,"_dependencyMap"],[21,56,4,0],[22,2,34,0],[22,8,34,6,"initialState"],[22,20,34,18],[22,23,34,21],[23,4,35,2,"currentStation"],[23,18,35,16],[23,20,35,18],[23,24,35,22],[24,4,36,2,"playbackState"],[24,17,36,15],[24,19,36,17],[24,25,36,40],[25,4,37,2,"streamUrl"],[25,13,37,11],[25,15,37,13],[25,19,37,17],[26,4,38,2,"nowPlaying"],[26,14,38,12],[26,16,38,14],[26,20,38,18],[27,4,39,2,"volume"],[27,10,39,8],[27,12,39,10],[27,13,39,11],[28,4,40,2,"isMiniPlayerVisible"],[28,23,40,21],[28,25,40,23],[28,30,40,28],[29,4,41,2,"errorMessage"],[29,16,41,14],[29,18,41,16],[29,22,41,20],[30,4,42,2,"sleepTimerActive"],[30,20,42,18],[30,22,42,20],[30,27,42,25],[31,4,43,2,"sleepTimerRemaining"],[31,23,43,21],[31,25,43,23],[31,26,43,24],[32,4,44,2,"sleepTimerInterval"],[32,22,44,20],[32,24,44,22],[33,2,45,0],[33,3,45,1],[34,2,47,7],[34,8,47,13,"usePlayerStore"],[34,22,47,27],[34,25,47,30],[34,29,47,30,"create"],[34,37,47,36],[34,38,47,36,"create"],[34,44,47,36],[34,46,47,50],[34,47,47,51,"set"],[34,50,47,54],[34,52,47,56,"get"],[34,55,47,59],[34,60,47,59,"Object"],[34,66,47,59],[34,67,47,59,"assign"],[34,73,47,59],[34,78,48,5,"initialState"],[34,90,48,17],[35,4,50,2,"setCurrentStation"],[35,21,50,19],[35,23,50,22,"station"],[35,30,50,29],[35,34,50,34],[36,6,51,4,"set"],[36,9,51,7],[36,10,51,8],[37,8,52,6,"currentStation"],[37,22,52,20],[37,24,52,22,"station"],[37,31,52,29],[38,8,53,6,"isMiniPlayerVisible"],[38,27,53,25],[38,29,53,27,"station"],[38,36,53,34],[38,41,53,39],[38,45,53,43],[39,8,54,6,"errorMessage"],[39,20,54,18],[39,22,54,20],[40,6,55,4],[40,7,55,5],[40,8,55,6],[42,6,57,4],[43,6,58,4],[43,10,58,8,"station"],[43,17,58,15],[43,19,58,17],[44,8,59,6,"useRecentlyPlayedStore"],[44,28,59,28],[44,29,59,28,"useRecentlyPlayedStore"],[44,51,59,28],[44,52,59,29,"getState"],[44,60,59,37],[44,61,59,38],[44,62,59,39],[44,63,59,40,"addStation"],[44,73,59,50],[44,74,59,51,"station"],[44,81,59,58],[44,82,59,59],[45,8,60,6],[46,8,61,6,"flowaliveService"],[46,33,61,22],[46,34,61,22,"flowaliveService"],[46,50,61,22],[46,51,61,23,"trackStationPlayed"],[46,69,61,41],[46,70,61,42,"station"],[46,77,61,49],[46,78,61,50,"id"],[46,80,61,52],[46,82,61,54,"station"],[46,89,61,61],[46,90,61,62,"name"],[46,94,61,66],[46,96,61,68,"station"],[46,103,61,75],[46,104,61,76,"tags"],[46,108,61,80],[46,111,61,83],[46,112,61,84],[46,113,61,85],[46,114,61,86],[47,6,62,4],[48,4,63,2],[48,5,63,3],[49,4,65,2,"setPlaybackState"],[49,20,65,18],[49,22,65,21,"state"],[49,27,65,26],[49,31,65,31],[50,6,66,4],[50,12,66,10,"prevState"],[50,21,66,19],[50,24,66,22,"get"],[50,27,66,25],[50,28,66,26],[50,29,66,27],[50,30,66,28,"playbackState"],[50,43,66,41],[51,6,67,4],[51,12,67,10,"station"],[51,19,67,17],[51,22,67,20,"get"],[51,25,67,23],[51,26,67,24],[51,27,67,25],[51,28,67,26,"currentStation"],[51,42,67,40],[52,6,69,4,"set"],[52,9,69,7],[52,10,69,8],[53,8,69,10,"playbackState"],[53,21,69,23],[53,23,69,25,"state"],[54,6,69,31],[54,7,69,32],[54,8,69,33],[56,6,71,4],[57,6,72,4],[57,10,72,8,"state"],[57,15,72,13],[57,20,72,18],[57,28,72,26],[57,32,72,30,"prevState"],[57,41,72,39],[57,46,72,44],[57,55,72,53],[57,59,72,57,"station"],[57,66,72,64],[57,68,72,66],[58,8,73,6,"flowaliveService"],[58,33,73,22],[58,34,73,22,"flowaliveService"],[58,50,73,22],[58,51,73,23,"trackStationPaused"],[58,69,73,41],[58,70,73,42,"station"],[58,77,73,49],[58,78,73,50,"id"],[58,80,73,52],[58,82,73,54,"station"],[58,89,73,61],[58,90,73,62,"name"],[58,94,73,66],[58,95,73,67],[59,6,74,4],[60,4,75,2],[60,5,75,3],[61,4,77,2,"setStreamUrl"],[61,16,77,14],[61,18,77,17,"url"],[61,21,77,20],[61,25,78,4,"set"],[61,28,78,7],[61,29,78,8],[62,6,78,10,"streamUrl"],[62,15,78,19],[62,17,78,21,"url"],[63,4,78,25],[63,5,78,26],[63,6,78,27],[64,4,80,2,"setNowPlaying"],[64,17,80,15],[64,19,80,18,"metadata"],[64,27,80,26],[64,31,81,4,"set"],[64,34,81,7],[64,35,81,8],[65,6,81,10,"nowPlaying"],[65,16,81,20],[65,18,81,22,"metadata"],[66,4,81,31],[66,5,81,32],[66,6,81,33],[67,4,83,2,"setVolume"],[67,13,83,11],[67,15,83,14,"volume"],[67,21,83,20],[67,25,84,4,"set"],[67,28,84,7],[67,29,84,8],[68,6,84,10,"volume"],[68,12,84,16],[68,14,84,18,"Math"],[68,18,84,22],[68,19,84,23,"max"],[68,22,84,26],[68,23,84,27],[68,24,84,28],[68,26,84,30,"Math"],[68,30,84,34],[68,31,84,35,"min"],[68,34,84,38],[68,35,84,39],[68,36,84,40],[68,38,84,42,"volume"],[68,44,84,48],[68,45,84,49],[69,4,84,51],[69,5,84,52],[69,6,84,53],[70,4,86,2,"setMiniPlayerVisible"],[70,24,86,22],[70,26,86,25,"visible"],[70,33,86,32],[70,37,87,4,"set"],[70,40,87,7],[70,41,87,8],[71,6,87,10,"isMiniPlayerVisible"],[71,25,87,29],[71,27,87,31,"visible"],[72,4,87,39],[72,5,87,40],[72,6,87,41],[73,4,89,2,"hideMiniPlayer"],[73,18,89,16],[73,20,89,18,"hideMiniPlayer"],[73,21,89,18],[73,26,90,4,"set"],[73,29,90,7],[73,30,90,8],[74,6,91,6,"isMiniPlayerVisible"],[74,25,91,25],[74,27,91,27],[74,32,91,32],[75,6,92,6,"currentStation"],[75,20,92,20],[75,22,92,22],[75,26,92,26],[76,6,93,6,"playbackState"],[76,19,93,19],[76,21,93,21],[76,27,93,27],[77,6,94,6,"streamUrl"],[77,15,94,15],[77,17,94,17],[77,21,94,21],[78,6,95,6,"nowPlaying"],[78,16,95,16],[78,18,95,18],[79,4,96,4],[79,5,96,5],[79,6,96,6],[80,4,98,2,"setError"],[80,12,98,10],[80,14,98,13,"message"],[80,21,98,20],[80,25,98,25],[81,6,99,4],[81,12,99,10,"station"],[81,19,99,17],[81,22,99,20,"get"],[81,25,99,23],[81,26,99,24],[81,27,99,25],[81,28,99,26,"currentStation"],[81,42,99,40],[82,6,100,4,"set"],[82,9,100,7],[82,10,100,8],[83,8,100,10,"errorMessage"],[83,20,100,22],[83,22,100,24,"message"],[83,29,100,31],[84,8,100,33,"playbackState"],[84,21,100,46],[84,23,100,48,"message"],[84,30,100,55],[84,33,100,58],[84,40,100,65],[84,43,100,68],[85,6,100,75],[85,7,100,76],[85,8,100,77],[86,6,101,4],[87,6,102,4],[87,10,102,8,"message"],[87,17,102,15],[87,21,102,19,"station"],[87,28,102,26],[87,30,102,28],[88,8,103,6,"flowaliveService"],[88,33,103,22],[88,34,103,22,"flowaliveService"],[88,50,103,22],[88,51,103,23,"trackPlaybackError"],[88,69,103,41],[88,70,103,42,"station"],[88,77,103,49],[88,78,103,50,"id"],[88,80,103,52],[88,82,103,54,"message"],[88,89,103,61],[88,90,103,62],[89,6,104,4],[90,4,105,2],[90,5,105,3],[91,4,107,2,"startSleepTimer"],[91,19,107,17],[91,21,107,19,"startSleepTimer"],[91,22,107,20,"minutes"],[91,29,107,27],[91,31,107,29,"onExpire"],[91,39,107,37],[91,44,107,42],[92,6,108,4],[93,6,109,4],[93,12,109,10,"existing"],[93,20,109,18],[93,23,109,21,"get"],[93,26,109,24],[93,27,109,25],[93,28,109,26],[93,29,109,27,"sleepTimerInterval"],[93,47,109,45],[94,6,110,4],[94,10,110,8,"existing"],[94,18,110,16],[94,20,110,18,"clearInterval"],[94,33,110,31],[94,34,110,32,"existing"],[94,42,110,40],[94,43,110,41],[95,6,112,4],[95,12,112,10,"totalSeconds"],[95,24,112,22],[95,27,112,25,"minutes"],[95,34,112,32],[95,37,112,35],[95,39,112,37],[96,6,113,4,"set"],[96,9,113,7],[96,10,113,8],[97,8,113,10,"sleepTimerActive"],[97,24,113,26],[97,26,113,28],[97,30,113,32],[98,8,113,34,"sleepTimerRemaining"],[98,27,113,53],[98,29,113,55,"totalSeconds"],[99,6,113,68],[99,7,113,69],[99,8,113,70],[100,6,115,4],[100,12,115,10,"interval"],[100,20,115,18],[100,23,115,21,"setInterval"],[100,34,115,32],[100,35,115,33],[100,41,115,39],[101,8,116,6],[101,14,116,12,"remaining"],[101,23,116,21],[101,26,116,24,"get"],[101,29,116,27],[101,30,116,28],[101,31,116,29],[101,32,116,30,"sleepTimerRemaining"],[101,51,116,49],[102,8,117,6],[102,12,117,10,"remaining"],[102,21,117,19],[102,25,117,23],[102,26,117,24],[102,28,117,26],[103,10,118,8,"clearInterval"],[103,23,118,21],[103,24,118,22,"interval"],[103,32,118,30],[103,33,118,31],[104,10,119,8,"set"],[104,13,119,11],[104,14,119,12],[105,12,119,14,"sleepTimerActive"],[105,28,119,30],[105,30,119,32],[105,35,119,37],[106,12,119,39,"sleepTimerRemaining"],[106,31,119,58],[106,33,119,60],[106,34,119,61],[107,12,119,63,"sleepTimerInterval"],[107,30,119,81],[107,32,119,83],[108,10,119,88],[108,11,119,89],[108,12,119,90],[109,10,120,8,"onExpire"],[109,18,120,16],[109,19,120,17],[109,20,120,18],[110,8,121,6],[110,9,121,7],[110,15,121,13],[111,10,122,8,"set"],[111,13,122,11],[111,14,122,12],[112,12,122,14,"sleepTimerRemaining"],[112,31,122,33],[112,33,122,35,"remaining"],[112,42,122,44],[112,45,122,47],[113,10,122,49],[113,11,122,50],[113,12,122,51],[114,8,123,6],[115,6,124,4],[115,7,124,5],[115,9,124,7],[115,13,124,11],[115,14,124,12],[116,6,126,4,"set"],[116,9,126,7],[116,10,126,8],[117,8,126,10,"sleepTimerInterval"],[117,26,126,28],[117,28,126,30,"interval"],[118,6,126,39],[118,7,126,40],[118,8,126,41],[119,4,127,2],[119,5,127,3],[120,4,129,2,"cancelSleepTimer"],[120,20,129,18],[120,22,129,20,"cancelSleepTimer"],[120,23,129,20],[120,28,129,26],[121,6,130,4],[121,12,130,10,"interval"],[121,20,130,18],[121,23,130,21,"get"],[121,26,130,24],[121,27,130,25],[121,28,130,26],[121,29,130,27,"sleepTimerInterval"],[121,47,130,45],[122,6,131,4],[122,10,131,8,"interval"],[122,18,131,16],[122,20,131,18,"clearInterval"],[122,33,131,31],[122,34,131,32,"interval"],[122,42,131,40],[122,43,131,41],[123,6,132,4,"set"],[123,9,132,7],[123,10,132,8],[124,8,132,10,"sleepTimerActive"],[124,24,132,26],[124,26,132,28],[124,31,132,33],[125,8,132,35,"sleepTimerRemaining"],[125,27,132,54],[125,29,132,56],[125,30,132,57],[126,8,132,59,"sleepTimerInterval"],[126,26,132,77],[126,28,132,79],[127,6,132,84],[127,7,132,85],[127,8,132,86],[128,4,133,2],[128,5,133,3],[129,4,135,2,"reset"],[129,9,135,7],[129,11,135,9,"reset"],[129,12,135,9],[129,17,135,15],[130,6,136,4],[130,12,136,10,"interval"],[130,20,136,18],[130,23,136,21,"get"],[130,26,136,24],[130,27,136,25],[130,28,136,26],[130,29,136,27,"sleepTimerInterval"],[130,47,136,45],[131,6,137,4],[131,10,137,8,"interval"],[131,18,137,16],[131,20,137,18,"clearInterval"],[131,33,137,31],[131,34,137,32,"interval"],[131,42,137,40],[131,43,137,41],[132,6,138,4,"set"],[132,9,138,7],[132,10,138,8,"initialState"],[132,22,138,20],[132,23,138,21],[133,4,139,2],[134,2,139,3],[134,4,140,2],[134,5,140,3],[135,2,142,0],[135,6,142,0,"_default"],[135,14,142,0],[135,17,142,15,"usePlayerStore"],[135,31,142,29],[136,0,142,30],[136,3]],"functionMap":{"names":["<global>","create$argument_0","setCurrentStation","setPlaybackState","setStreamUrl","setNowPlaying","setVolume","setMiniPlayerVisible","hideMiniPlayer","setError","startSleepTimer","setInterval$argument_0","cancelSleepTimer","reset"],"mappings":"AAA;kDC8C;qBCG;GDa;oBEE;GFU;gBGE;2BHC;iBIE;iCJC;aKE;qDLC;wBME;yCNC;kBOE;MPO;YQE;GRO;mBSE;iCCQ;KDS;GTG;oBWE;GXI;SYE;GZI;EDC"},"hasCjsExports":false},"type":"js/module"}]}