{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":147},"end":{"line":5,"column":24,"index":171}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"../constants/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":172},"end":{"line":6,"column":49,"index":221}}],"key":"ZV0ujAFjHVGmM4aJSYIlDaiTRjE=","exportNames":["*"],"imports":1}},{"name":"./stationCacheService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":222},"end":{"line":7,"column":53,"index":275}}],"key":"yxZZ8mmLCqJAIsEwJGrcta4tsOc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"genreService\", {\n    enumerable: true,\n    get: function () {\n      return genreService;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _constantsApi = require(_dependencyMap[1], \"../constants/api\");\n  var _stationCacheService = require(_dependencyMap[2], \"./stationCacheService\");\n  // Genre Service\n  // Provides genre data from API with caching and error handling\n  // All methods have try/catch - API failures won't crash the app\n\n  const genreService = {\n    // Get all genres with error handling\n    async getGenres(page = 1, limit = 50, country, lang) {\n      try {\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.list, {\n          params: {\n            page,\n            limit,\n            country,\n            lang\n          }\n        });\n        return response.data;\n      } catch (error) {\n        console.error('[genreService] getGenres error:', error);\n        return {\n          genres: [],\n          totalCount: 0,\n          page,\n          limit,\n          totalPages: 0\n        };\n      }\n    },\n    // Get precomputed genres (faster, cached) with error handling\n    async getPrecomputedGenres(country, limit = 40) {\n      try {\n        // Check cache first\n        const cached = await _stationCacheService.stationCache.getGenres();\n        const isOnline = _stationCacheService.stationCache.getOnlineStatus();\n        if (!isOnline && cached) {\n          console.log('[genreService] Using cached genres (offline)');\n          return {\n            success: true,\n            data: cached.slice(0, limit)\n          };\n        }\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.precomputed, {\n          params: {\n            countrycode: country,\n            tv: 1,\n            limit\n          }\n        });\n        const data = response.data;\n\n        // Cache genres\n        if (data?.data && data.data.length > 0) {\n          await _stationCacheService.stationCache.setGenres(data.data);\n        }\n        return data;\n      } catch (error) {\n        console.error('[genreService] getPrecomputedGenres error:', error);\n\n        // Graceful degradation\n        const cached = await _stationCacheService.stationCache.getGenres();\n        if (cached) {\n          console.log('[genreService] Using cached genres (API error)');\n          return {\n            success: true,\n            data: cached.slice(0, limit)\n          };\n        }\n        return {\n          success: false,\n          data: []\n        };\n      }\n    },\n    // Get discoverable/featured genres with error handling\n    async getDiscoverableGenres() {\n      try {\n        // Check cache first\n        const cached = await _stationCacheService.stationCache.getGenres();\n        const isOnline = _stationCacheService.stationCache.getOnlineStatus();\n        if (!isOnline && cached) {\n          console.log('[genreService] Using cached discoverable genres (offline)');\n          return cached;\n        }\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.discoverable);\n        const data = response.data;\n\n        // Cache genres\n        if (Array.isArray(data) && data.length > 0) {\n          await _stationCacheService.stationCache.setGenres(data);\n        }\n        return data || [];\n      } catch (error) {\n        console.error('[genreService] getDiscoverableGenres error:', error);\n\n        // Graceful degradation\n        const cached = await _stationCacheService.stationCache.getGenres();\n        if (cached) {\n          console.log('[genreService] Using cached discoverable genres (API error)');\n          return cached;\n        }\n        return [];\n      }\n    },\n    // Get genre by slug with error handling\n    async getGenreBySlug(slug) {\n      try {\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.bySlug(slug));\n        return response.data;\n      } catch (error) {\n        console.error('[genreService] getGenreBySlug error:', error);\n        return null;\n      }\n    },\n    // Get stations within a genre with error handling\n    async getGenreStations(slug, page = 1, limit = 25, country, sort, order) {\n      try {\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.stations(slug), {\n          params: {\n            page,\n            limit,\n            country,\n            sort,\n            order\n          }\n        });\n        return response.data;\n      } catch (error) {\n        console.error('[genreService] getGenreStations error:', error);\n        return {\n          stations: [],\n          pagination: {\n            page,\n            limit,\n            total: 0,\n            totalPages: 0\n          }\n        };\n      }\n    }\n  };\n  var _default = genreService;\n});","lineCount":169,"map":[[12,2,132,0,"Object"],[12,8,132,0],[12,9,132,0,"defineProperty"],[12,23,132,0],[12,24,132,0,"exports"],[12,31,132,0],[13,4,132,0,"enumerable"],[13,14,132,0],[14,4,132,0,"get"],[14,7,132,0],[14,18,132,0,"get"],[14,19,132,0],[15,6,132,0],[15,13,132,0,"_default"],[15,21,132,0],[16,4,132,0],[17,2,132,0],[18,2,10,0,"Object"],[18,8,10,0],[18,9,10,0,"defineProperty"],[18,23,10,0],[18,24,10,0,"exports"],[18,31,10,0],[19,4,10,0,"enumerable"],[19,14,10,0],[20,4,10,0,"get"],[20,7,10,0],[20,18,10,0,"get"],[20,19,10,0],[21,6,10,0],[21,13,10,0,"genreService"],[21,25,10,0],[22,4,10,0],[23,2,10,0],[24,2,5,0],[24,6,5,0,"_api"],[24,10,5,0],[24,13,5,0,"require"],[24,20,5,0],[24,21,5,0,"_dependencyMap"],[24,35,5,0],[25,2,5,0],[25,6,5,0,"api"],[25,9,5,0],[25,12,5,0,"_interopDefault"],[25,27,5,0],[25,28,5,0,"_api"],[25,32,5,0],[26,2,6,0],[26,6,6,0,"_constantsApi"],[26,19,6,0],[26,22,6,0,"require"],[26,29,6,0],[26,30,6,0,"_dependencyMap"],[26,44,6,0],[27,2,7,0],[27,6,7,0,"_stationCacheService"],[27,26,7,0],[27,29,7,0,"require"],[27,36,7,0],[27,37,7,0,"_dependencyMap"],[27,51,7,0],[28,2,1,0],[29,2,2,0],[30,2,3,0],[32,2,10,7],[32,8,10,13,"genreService"],[32,20,10,25],[32,23,10,28],[33,4,11,2],[34,4,12,2],[34,10,12,8,"getGenres"],[34,19,12,17,"getGenres"],[34,20,12,18,"page"],[34,24,12,30],[34,27,12,33],[34,28,12,34],[34,30,12,36,"limit"],[34,35,12,49],[34,38,12,52],[34,40,12,54],[34,42,12,56,"country"],[34,49,12,72],[34,51,12,74,"lang"],[34,55,12,87],[34,57,12,113],[35,6,13,4],[35,10,13,8],[36,8,14,6],[36,14,14,12,"response"],[36,22,14,20],[36,25,14,23],[36,31,14,29,"api"],[36,34,14,32],[36,35,14,32,"default"],[36,42,14,32],[36,43,14,33,"get"],[36,46,14,36],[36,47,14,37,"API_ENDPOINTS"],[36,60,14,50],[36,61,14,50,"API_ENDPOINTS"],[36,74,14,50],[36,75,14,51,"genres"],[36,81,14,57],[36,82,14,58,"list"],[36,86,14,62],[36,88,14,64],[37,10,15,8,"params"],[37,16,15,14],[37,18,15,16],[38,12,15,18,"page"],[38,16,15,22],[39,12,15,24,"limit"],[39,17,15,29],[40,12,15,31,"country"],[40,19,15,38],[41,12,15,40,"lang"],[42,10,15,45],[43,8,16,6],[43,9,16,7],[43,10,16,8],[44,8,17,6],[44,15,17,13,"response"],[44,23,17,21],[44,24,17,22,"data"],[44,28,17,26],[45,6,18,4],[45,7,18,5],[45,8,18,6],[45,15,18,13,"error"],[45,20,18,18],[45,22,18,20],[46,8,19,6,"console"],[46,15,19,13],[46,16,19,14,"error"],[46,21,19,19],[46,22,19,20],[46,55,19,53],[46,57,19,55,"error"],[46,62,19,60],[46,63,19,61],[47,8,20,6],[47,15,20,13],[48,10,20,15,"genres"],[48,16,20,21],[48,18,20,23],[48,20,20,25],[49,10,20,27,"totalCount"],[49,20,20,37],[49,22,20,39],[49,23,20,40],[50,10,20,42,"page"],[50,14,20,46],[51,10,20,48,"limit"],[51,15,20,53],[52,10,20,55,"totalPages"],[52,20,20,65],[52,22,20,67],[53,8,20,69],[53,9,20,70],[54,6,21,4],[55,4,22,2],[55,5,22,3],[56,4,24,2],[57,4,25,2],[57,10,25,8,"getPrecomputedGenres"],[57,30,25,28,"getPrecomputedGenres"],[57,31,25,29,"country"],[57,38,25,45],[57,40,25,47,"limit"],[57,45,25,60],[57,48,25,63],[57,50,25,65],[57,52,25,113],[58,6,26,4],[58,10,26,8],[59,8,27,6],[60,8,28,6],[60,14,28,12,"cached"],[60,20,28,18],[60,23,28,21],[60,29,28,27,"stationCache"],[60,49,28,39],[60,50,28,39,"stationCache"],[60,62,28,39],[60,63,28,40,"getGenres"],[60,72,28,49],[60,73,28,50],[60,74,28,51],[61,8,29,6],[61,14,29,12,"isOnline"],[61,22,29,20],[61,25,29,23,"stationCache"],[61,45,29,35],[61,46,29,35,"stationCache"],[61,58,29,35],[61,59,29,36,"getOnlineStatus"],[61,74,29,51],[61,75,29,52],[61,76,29,53],[62,8,31,6],[62,12,31,10],[62,13,31,11,"isOnline"],[62,21,31,19],[62,25,31,23,"cached"],[62,31,31,29],[62,33,31,31],[63,10,32,8,"console"],[63,17,32,15],[63,18,32,16,"log"],[63,21,32,19],[63,22,32,20],[63,68,32,66],[63,69,32,67],[64,10,33,8],[64,17,33,15],[65,12,33,17,"success"],[65,19,33,24],[65,21,33,26],[65,25,33,30],[66,12,33,32,"data"],[66,16,33,36],[66,18,33,38,"cached"],[66,24,33,44],[66,25,33,45,"slice"],[66,30,33,50],[66,31,33,51],[66,32,33,52],[66,34,33,54,"limit"],[66,39,33,59],[67,10,33,61],[67,11,33,62],[68,8,34,6],[69,8,36,6],[69,14,36,12,"response"],[69,22,36,20],[69,25,36,23],[69,31,36,29,"api"],[69,34,36,32],[69,35,36,32,"default"],[69,42,36,32],[69,43,36,33,"get"],[69,46,36,36],[69,47,36,37,"API_ENDPOINTS"],[69,60,36,50],[69,61,36,50,"API_ENDPOINTS"],[69,74,36,50],[69,75,36,51,"genres"],[69,81,36,57],[69,82,36,58,"precomputed"],[69,93,36,69],[69,95,36,71],[70,10,37,8,"params"],[70,16,37,14],[70,18,37,16],[71,12,37,18,"countrycode"],[71,23,37,29],[71,25,37,31,"country"],[71,32,37,38],[72,12,37,40,"tv"],[72,14,37,42],[72,16,37,44],[72,17,37,45],[73,12,37,47,"limit"],[74,10,37,53],[75,8,38,6],[75,9,38,7],[75,10,38,8],[76,8,40,6],[76,14,40,12,"data"],[76,18,40,16],[76,21,40,19,"response"],[76,29,40,27],[76,30,40,28,"data"],[76,34,40,32],[78,8,42,6],[79,8,43,6],[79,12,43,10,"data"],[79,16,43,14],[79,18,43,16,"data"],[79,22,43,20],[79,26,43,24,"data"],[79,30,43,28],[79,31,43,29,"data"],[79,35,43,33],[79,36,43,34,"length"],[79,42,43,40],[79,45,43,43],[79,46,43,44],[79,48,43,46],[80,10,44,8],[80,16,44,14,"stationCache"],[80,36,44,26],[80,37,44,26,"stationCache"],[80,49,44,26],[80,50,44,27,"setGenres"],[80,59,44,36],[80,60,44,37,"data"],[80,64,44,41],[80,65,44,42,"data"],[80,69,44,46],[80,70,44,47],[81,8,45,6],[82,8,47,6],[82,15,47,13,"data"],[82,19,47,17],[83,6,48,4],[83,7,48,5],[83,8,48,6],[83,15,48,13,"error"],[83,20,48,18],[83,22,48,20],[84,8,49,6,"console"],[84,15,49,13],[84,16,49,14,"error"],[84,21,49,19],[84,22,49,20],[84,66,49,64],[84,68,49,66,"error"],[84,73,49,71],[84,74,49,72],[86,8,51,6],[87,8,52,6],[87,14,52,12,"cached"],[87,20,52,18],[87,23,52,21],[87,29,52,27,"stationCache"],[87,49,52,39],[87,50,52,39,"stationCache"],[87,62,52,39],[87,63,52,40,"getGenres"],[87,72,52,49],[87,73,52,50],[87,74,52,51],[88,8,53,6],[88,12,53,10,"cached"],[88,18,53,16],[88,20,53,18],[89,10,54,8,"console"],[89,17,54,15],[89,18,54,16,"log"],[89,21,54,19],[89,22,54,20],[89,70,54,68],[89,71,54,69],[90,10,55,8],[90,17,55,15],[91,12,55,17,"success"],[91,19,55,24],[91,21,55,26],[91,25,55,30],[92,12,55,32,"data"],[92,16,55,36],[92,18,55,38,"cached"],[92,24,55,44],[92,25,55,45,"slice"],[92,30,55,50],[92,31,55,51],[92,32,55,52],[92,34,55,54,"limit"],[92,39,55,59],[93,10,55,61],[93,11,55,62],[94,8,56,6],[95,8,58,6],[95,15,58,13],[96,10,58,15,"success"],[96,17,58,22],[96,19,58,24],[96,24,58,29],[97,10,58,31,"data"],[97,14,58,35],[97,16,58,37],[98,8,58,40],[98,9,58,41],[99,6,59,4],[100,4,60,2],[100,5,60,3],[101,4,62,2],[102,4,63,2],[102,10,63,8,"getDiscoverableGenres"],[102,31,63,29,"getDiscoverableGenres"],[102,32,63,29],[102,34,63,50],[103,6,64,4],[103,10,64,8],[104,8,65,6],[105,8,66,6],[105,14,66,12,"cached"],[105,20,66,18],[105,23,66,21],[105,29,66,27,"stationCache"],[105,49,66,39],[105,50,66,39,"stationCache"],[105,62,66,39],[105,63,66,40,"getGenres"],[105,72,66,49],[105,73,66,50],[105,74,66,51],[106,8,67,6],[106,14,67,12,"isOnline"],[106,22,67,20],[106,25,67,23,"stationCache"],[106,45,67,35],[106,46,67,35,"stationCache"],[106,58,67,35],[106,59,67,36,"getOnlineStatus"],[106,74,67,51],[106,75,67,52],[106,76,67,53],[107,8,69,6],[107,12,69,10],[107,13,69,11,"isOnline"],[107,21,69,19],[107,25,69,23,"cached"],[107,31,69,29],[107,33,69,31],[108,10,70,8,"console"],[108,17,70,15],[108,18,70,16,"log"],[108,21,70,19],[108,22,70,20],[108,81,70,79],[108,82,70,80],[109,10,71,8],[109,17,71,15,"cached"],[109,23,71,21],[110,8,72,6],[111,8,74,6],[111,14,74,12,"response"],[111,22,74,20],[111,25,74,23],[111,31,74,29,"api"],[111,34,74,32],[111,35,74,32,"default"],[111,42,74,32],[111,43,74,33,"get"],[111,46,74,36],[111,47,74,37,"API_ENDPOINTS"],[111,60,74,50],[111,61,74,50,"API_ENDPOINTS"],[111,74,74,50],[111,75,74,51,"genres"],[111,81,74,57],[111,82,74,58,"discoverable"],[111,94,74,70],[111,95,74,71],[112,8,75,6],[112,14,75,12,"data"],[112,18,75,16],[112,21,75,19,"response"],[112,29,75,27],[112,30,75,28,"data"],[112,34,75,32],[114,8,77,6],[115,8,78,6],[115,12,78,10,"Array"],[115,17,78,15],[115,18,78,16,"isArray"],[115,25,78,23],[115,26,78,24,"data"],[115,30,78,28],[115,31,78,29],[115,35,78,33,"data"],[115,39,78,37],[115,40,78,38,"length"],[115,46,78,44],[115,49,78,47],[115,50,78,48],[115,52,78,50],[116,10,79,8],[116,16,79,14,"stationCache"],[116,36,79,26],[116,37,79,26,"stationCache"],[116,49,79,26],[116,50,79,27,"setGenres"],[116,59,79,36],[116,60,79,37,"data"],[116,64,79,41],[116,65,79,42],[117,8,80,6],[118,8,82,6],[118,15,82,13,"data"],[118,19,82,17],[118,23,82,21],[118,25,82,23],[119,6,83,4],[119,7,83,5],[119,8,83,6],[119,15,83,13,"error"],[119,20,83,18],[119,22,83,20],[120,8,84,6,"console"],[120,15,84,13],[120,16,84,14,"error"],[120,21,84,19],[120,22,84,20],[120,67,84,65],[120,69,84,67,"error"],[120,74,84,72],[120,75,84,73],[122,8,86,6],[123,8,87,6],[123,14,87,12,"cached"],[123,20,87,18],[123,23,87,21],[123,29,87,27,"stationCache"],[123,49,87,39],[123,50,87,39,"stationCache"],[123,62,87,39],[123,63,87,40,"getGenres"],[123,72,87,49],[123,73,87,50],[123,74,87,51],[124,8,88,6],[124,12,88,10,"cached"],[124,18,88,16],[124,20,88,18],[125,10,89,8,"console"],[125,17,89,15],[125,18,89,16,"log"],[125,21,89,19],[125,22,89,20],[125,83,89,81],[125,84,89,82],[126,10,90,8],[126,17,90,15,"cached"],[126,23,90,21],[127,8,91,6],[128,8,93,6],[128,15,93,13],[128,17,93,15],[129,6,94,4],[130,4,95,2],[130,5,95,3],[131,4,97,2],[132,4,98,2],[132,10,98,8,"getGenreBySlug"],[132,24,98,22,"getGenreBySlug"],[132,25,98,23,"slug"],[132,29,98,35],[132,31,98,60],[133,6,99,4],[133,10,99,8],[134,8,100,6],[134,14,100,12,"response"],[134,22,100,20],[134,25,100,23],[134,31,100,29,"api"],[134,34,100,32],[134,35,100,32,"default"],[134,42,100,32],[134,43,100,33,"get"],[134,46,100,36],[134,47,100,37,"API_ENDPOINTS"],[134,60,100,50],[134,61,100,50,"API_ENDPOINTS"],[134,74,100,50],[134,75,100,51,"genres"],[134,81,100,57],[134,82,100,58,"bySlug"],[134,88,100,64],[134,89,100,65,"slug"],[134,93,100,69],[134,94,100,70],[134,95,100,71],[135,8,101,6],[135,15,101,13,"response"],[135,23,101,21],[135,24,101,22,"data"],[135,28,101,26],[136,6,102,4],[136,7,102,5],[136,8,102,6],[136,15,102,13,"error"],[136,20,102,18],[136,22,102,20],[137,8,103,6,"console"],[137,15,103,13],[137,16,103,14,"error"],[137,21,103,19],[137,22,103,20],[137,60,103,58],[137,62,103,60,"error"],[137,67,103,65],[137,68,103,66],[138,8,104,6],[138,15,104,13],[138,19,104,17],[139,6,105,4],[140,4,106,2],[140,5,106,3],[141,4,108,2],[142,4,109,2],[142,10,109,8,"getGenreStations"],[142,26,109,24,"getGenreStations"],[142,27,110,4,"slug"],[142,31,110,16],[142,33,111,4,"page"],[142,37,111,16],[142,40,111,19],[142,41,111,20],[142,43,112,4,"limit"],[142,48,112,17],[142,51,112,20],[142,53,112,22],[142,55,113,4,"country"],[142,62,113,20],[142,64,114,4,"sort"],[142,68,114,41],[142,70,115,4,"order"],[142,75,115,26],[142,77,116,55],[143,6,117,4],[143,10,117,8],[144,8,118,6],[144,14,118,12,"response"],[144,22,118,20],[144,25,118,23],[144,31,118,29,"api"],[144,34,118,32],[144,35,118,32,"default"],[144,42,118,32],[144,43,118,33,"get"],[144,46,118,36],[144,47,118,37,"API_ENDPOINTS"],[144,60,118,50],[144,61,118,50,"API_ENDPOINTS"],[144,74,118,50],[144,75,118,51,"genres"],[144,81,118,57],[144,82,118,58,"stations"],[144,90,118,66],[144,91,118,67,"slug"],[144,95,118,71],[144,96,118,72],[144,98,118,74],[145,10,119,8,"params"],[145,16,119,14],[145,18,119,16],[146,12,119,18,"page"],[146,16,119,22],[147,12,119,24,"limit"],[147,17,119,29],[148,12,119,31,"country"],[148,19,119,38],[149,12,119,40,"sort"],[149,16,119,44],[150,12,119,46,"order"],[151,10,119,52],[152,8,120,6],[152,9,120,7],[152,10,120,8],[153,8,121,6],[153,15,121,13,"response"],[153,23,121,21],[153,24,121,22,"data"],[153,28,121,26],[154,6,122,4],[154,7,122,5],[154,8,122,6],[154,15,122,13,"error"],[154,20,122,18],[154,22,122,20],[155,8,123,6,"console"],[155,15,123,13],[155,16,123,14,"error"],[155,21,123,19],[155,22,123,20],[155,62,123,60],[155,64,123,62,"error"],[155,69,123,67],[155,70,123,68],[156,8,124,6],[156,15,124,13],[157,10,125,8,"stations"],[157,18,125,16],[157,20,125,18],[157,22,125,20],[158,10,126,8,"pagination"],[158,20,126,18],[158,22,126,20],[159,12,126,22,"page"],[159,16,126,26],[160,12,126,28,"limit"],[160,17,126,33],[161,12,126,35,"total"],[161,17,126,40],[161,19,126,42],[161,20,126,43],[162,12,126,45,"totalPages"],[162,22,126,55],[162,24,126,57],[163,10,126,59],[164,8,127,6],[164,9,127,7],[165,6,128,4],[166,4,129,2],[167,2,130,0],[167,3,130,1],[168,2,132,0],[168,6,132,0,"_default"],[168,14,132,0],[168,17,132,15,"genreService"],[168,29,132,27],[169,0,132,28],[169,3]],"functionMap":{"names":["<global>","getGenres","getPrecomputedGenres","getDiscoverableGenres","getGenreBySlug","getGenreStations"],"mappings":"AAA;ECW;GDU;EEG;GFmC;EGG;GHgC;EIG;GJQ;EKG;GLoB"},"hasCjsExports":false},"type":"js/module"}]}