{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./useCastSession","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":46,"index":91}}],"key":"d4NMeqG+ZqxwzWw8kc8wa+6+rtM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useCastChannel;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _useCastSession = require(_dependencyMap[1], \"./useCastSession\");\n  var useCastSession = _interopDefault(_useCastSession);\n  /**\n   * Hook that establishes a custom {@link CastChannel} on the current connected session.\n   *\n   * @param namespace custom namespace starting with `urn:x-cast:`\n   * @param onMessage listener called when a message from the receiver was received\n   * @returns custom channel, or `null` if there's no session connected\n   * @example\n   * ```js\n   * import { useCastChannel } from 'react-native-google-cast'\n   *\n   * function MyComponent() {\n   *   const castChannel = useCastChannel(\n   *     'urn:x-cast:com.example.custom',\n   *     useCallback(message => { console.log('Received message', message) }, [])\n   *   )\n   *\n   *   // later, for example after pressing a button\n   *   function onPress() {\n   *     if (castChannel) {\n   *       castChannel.sendMessage('...')\n   *     }\n   *   }\n   * }\n   * ```\n   */\n  function useCastChannel(namespace, onMessage, useCastSessionOptions) {\n    const [castChannel, setCastChannel] = (0, _react.useState)(null);\n    const castSession = (0, useCastSession.default)(useCastSessionOptions);\n    (0, _react.useEffect)(() => {\n      let channel;\n      if (castSession) {\n        castSession.addChannel(namespace).then(c => {\n          channel = c;\n          setCastChannel(c);\n        });\n      } else {\n        channel = null;\n        setCastChannel(null);\n      }\n      return () => {\n        var _channel;\n        (_channel = channel) === null || _channel === void 0 || _channel.remove();\n      };\n    }, [castSession, namespace]);\n    (0, _react.useEffect)(() => {\n      if (!castChannel || !onMessage) return;\n      castChannel.onMessage(onMessage);\n      return () => castChannel.offMessage();\n    }, [castChannel, onMessage]);\n    return castChannel;\n  }\n});","lineCount":72,"map":[[12,2,29,15,"Object"],[12,8,29,15],[12,9,29,15,"defineProperty"],[12,23,29,15],[12,24,29,15,"exports"],[12,31,29,15],[13,4,29,15,"enumerable"],[13,14,29,15],[14,4,29,15,"get"],[14,7,29,15],[14,18,29,15,"get"],[14,19,29,15],[15,6,29,15],[15,13,29,15,"useCastChannel"],[15,27,29,15],[16,4,29,15],[17,2,29,15],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_useCastSession"],[19,21,2,0],[19,24,2,0,"require"],[19,31,2,0],[19,32,2,0,"_dependencyMap"],[19,46,2,0],[20,2,2,0],[20,6,2,0,"useCastSession"],[20,20,2,0],[20,23,2,0,"_interopDefault"],[20,38,2,0],[20,39,2,0,"_useCastSession"],[20,54,2,0],[21,2,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,0,17,0],[35,0,18,0],[36,0,19,0],[37,0,20,0],[38,0,21,0],[39,0,22,0],[40,0,23,0],[41,0,24,0],[42,0,25,0],[43,0,26,0],[44,0,27,0],[45,0,28,0],[46,2,29,15],[46,11,29,24,"useCastChannel"],[46,25,29,38,"useCastChannel"],[46,26,29,39,"namespace"],[46,35,29,48],[46,37,29,50,"onMessage"],[46,46,29,59],[46,48,29,61,"useCastSessionOptions"],[46,69,29,82],[46,71,29,84],[47,4,30,2],[47,10,30,8],[47,11,30,9,"castChannel"],[47,22,30,20],[47,24,30,22,"setCastChannel"],[47,38,30,36],[47,39,30,37],[47,42,30,40],[47,46,30,40,"useState"],[47,52,30,48],[47,53,30,48,"useState"],[47,61,30,48],[47,63,30,49],[47,67,30,53],[47,68,30,54],[48,4,31,2],[48,10,31,8,"castSession"],[48,21,31,19],[48,24,31,22],[48,28,31,22,"useCastSession"],[48,42,31,36],[48,43,31,36,"default"],[48,50,31,36],[48,52,31,37,"useCastSessionOptions"],[48,73,31,58],[48,74,31,59],[49,4,32,2],[49,8,32,2,"useEffect"],[49,14,32,11],[49,15,32,11,"useEffect"],[49,24,32,11],[49,26,32,12],[49,32,32,18],[50,6,33,4],[50,10,33,8,"channel"],[50,17,33,15],[51,6,34,4],[51,10,34,8,"castSession"],[51,21,34,19],[51,23,34,21],[52,8,35,6,"castSession"],[52,19,35,17],[52,20,35,18,"addChannel"],[52,30,35,28],[52,31,35,29,"namespace"],[52,40,35,38],[52,41,35,39],[52,42,35,40,"then"],[52,46,35,44],[52,47,35,45,"c"],[52,48,35,46],[52,52,35,50],[53,10,36,8,"channel"],[53,17,36,15],[53,20,36,18,"c"],[53,21,36,19],[54,10,37,8,"setCastChannel"],[54,24,37,22],[54,25,37,23,"c"],[54,26,37,24],[54,27,37,25],[55,8,38,6],[55,9,38,7],[55,10,38,8],[56,6,39,4],[56,7,39,5],[56,13,39,11],[57,8,40,6,"channel"],[57,15,40,13],[57,18,40,16],[57,22,40,20],[58,8,41,6,"setCastChannel"],[58,22,41,20],[58,23,41,21],[58,27,41,25],[58,28,41,26],[59,6,42,4],[60,6,43,4],[60,13,43,11],[60,19,43,17],[61,8,44,6],[61,12,44,10,"_channel"],[61,20,44,18],[62,8,45,6],[62,9,45,7,"_channel"],[62,17,45,15],[62,20,45,18,"channel"],[62,27,45,25],[62,33,45,31],[62,37,45,35],[62,41,45,39,"_channel"],[62,49,45,47],[62,54,45,52],[62,59,45,57],[62,60,45,58],[62,64,45,62,"_channel"],[62,72,45,70],[62,73,45,71,"remove"],[62,79,45,77],[62,80,45,78],[62,81,45,79],[63,6,46,4],[63,7,46,5],[64,4,47,2],[64,5,47,3],[64,7,47,5],[64,8,47,6,"castSession"],[64,19,47,17],[64,21,47,19,"namespace"],[64,30,47,28],[64,31,47,29],[64,32,47,30],[65,4,48,2],[65,8,48,2,"useEffect"],[65,14,48,11],[65,15,48,11,"useEffect"],[65,24,48,11],[65,26,48,12],[65,32,48,18],[66,6,49,4],[66,10,49,8],[66,11,49,9,"castChannel"],[66,22,49,20],[66,26,49,24],[66,27,49,25,"onMessage"],[66,36,49,34],[66,38,49,36],[67,6,50,4,"castChannel"],[67,17,50,15],[67,18,50,16,"onMessage"],[67,27,50,25],[67,28,50,26,"onMessage"],[67,37,50,35],[67,38,50,36],[68,6,51,4],[68,13,51,11],[68,19,51,17,"castChannel"],[68,30,51,28],[68,31,51,29,"offMessage"],[68,41,51,39],[68,42,51,40],[68,43,51,41],[69,4,52,2],[69,5,52,3],[69,7,52,5],[69,8,52,6,"castChannel"],[69,19,52,17],[69,21,52,19,"onMessage"],[69,30,52,28],[69,31,52,29],[69,32,52,30],[70,4,53,2],[70,11,53,9,"castChannel"],[70,22,53,20],[71,2,54,0],[72,0,54,1],[72,3]],"functionMap":{"names":["<global>","useCastChannel","useEffect$argument_0","castSession.addChannel.then$argument_0","<anonymous>"],"mappings":"AAA;eC4B;YCG;6CCG;ODG;WEK;KFG;GDC;YCC;WEG,8BF;GDC;CDE"},"hasCjsExports":false},"type":"js/module"}]}