{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"./recentlyPlayedStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":95},"end":{"line":3,"column":63,"index":158}}],"key":"IBS/ilmP8oMFH1vhMj5S/PsE2oA=","exportNames":["*"],"imports":1}},{"name":"../services/flowaliveService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":159},"end":{"line":4,"column":64,"index":223}}],"key":"BVJ3cxOzrnxSFZ7aG5nTVjnsZaw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"usePlayerStore\", {\n    enumerable: true,\n    get: function () {\n      return usePlayerStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _recentlyPlayedStore = require(_dependencyMap[1], \"./recentlyPlayedStore\");\n  var _servicesFlowaliveService = require(_dependencyMap[2], \"../services/flowaliveService\");\n  const initialState = {\n    currentStation: null,\n    playbackState: 'idle',\n    streamUrl: null,\n    nowPlaying: null,\n    volume: 1,\n    isMiniPlayerVisible: false,\n    errorMessage: null,\n    sleepTimerActive: false,\n    sleepTimerRemaining: 0,\n    sleepTimerInterval: null\n  };\n  const usePlayerStore = (0, _zustand.create)((set, get) => ({\n    ...initialState,\n    setCurrentStation: station => {\n      set({\n        currentStation: station,\n        isMiniPlayerVisible: station !== null,\n        errorMessage: null\n      });\n\n      // Add to recently played when station is set\n      if (station) {\n        _recentlyPlayedStore.useRecentlyPlayedStore.getState().addStation(station);\n        // Track station play in analytics\n        _servicesFlowaliveService.flowaliveService.trackStationPlayed(station.id, station.name, station.tags?.[0]);\n      }\n    },\n    setPlaybackState: state => {\n      const prevState = get().playbackState;\n      const station = get().currentStation;\n      set({\n        playbackState: state\n      });\n\n      // Track pause event\n      if (state === 'paused' && prevState === 'playing' && station) {\n        _servicesFlowaliveService.flowaliveService.trackStationPaused(station.id, station.name);\n      }\n    },\n    setStreamUrl: url => set({\n      streamUrl: url\n    }),\n    setNowPlaying: metadata => set({\n      nowPlaying: metadata\n    }),\n    setVolume: volume => set({\n      volume: Math.max(0, Math.min(1, volume))\n    }),\n    setMiniPlayerVisible: visible => set({\n      isMiniPlayerVisible: visible\n    }),\n    hideMiniPlayer: () => set({\n      isMiniPlayerVisible: false,\n      currentStation: null,\n      playbackState: 'idle',\n      streamUrl: null,\n      nowPlaying: null\n    }),\n    setError: message => {\n      const station = get().currentStation;\n      set({\n        errorMessage: message,\n        playbackState: message ? 'error' : 'idle'\n      });\n      // Track playback error in analytics\n      if (message && station) {\n        _servicesFlowaliveService.flowaliveService.trackPlaybackError(station.id, message);\n      }\n    },\n    startSleepTimer: (minutes, onExpire) => {\n      // Clear existing timer\n      const existing = get().sleepTimerInterval;\n      if (existing) clearInterval(existing);\n      const totalSeconds = minutes * 60;\n      set({\n        sleepTimerActive: true,\n        sleepTimerRemaining: totalSeconds\n      });\n      const interval = setInterval(() => {\n        const remaining = get().sleepTimerRemaining;\n        if (remaining <= 1) {\n          clearInterval(interval);\n          set({\n            sleepTimerActive: false,\n            sleepTimerRemaining: 0,\n            sleepTimerInterval: null\n          });\n          onExpire();\n        } else {\n          set({\n            sleepTimerRemaining: remaining - 1\n          });\n        }\n      }, 1000);\n      set({\n        sleepTimerInterval: interval\n      });\n    },\n    cancelSleepTimer: () => {\n      const interval = get().sleepTimerInterval;\n      if (interval) clearInterval(interval);\n      set({\n        sleepTimerActive: false,\n        sleepTimerRemaining: 0,\n        sleepTimerInterval: null\n      });\n    },\n    reset: () => {\n      const interval = get().sleepTimerInterval;\n      if (interval) clearInterval(interval);\n      set(initialState);\n    }\n  }));\n  var _default = usePlayerStore;\n});","lineCount":137,"map":[[7,2,142,0,"Object"],[7,8,142,0],[7,9,142,0,"defineProperty"],[7,23,142,0],[7,24,142,0,"exports"],[7,31,142,0],[8,4,142,0,"enumerable"],[8,14,142,0],[9,4,142,0,"get"],[9,7,142,0],[9,18,142,0,"get"],[9,19,142,0],[10,6,142,0],[10,13,142,0,"_default"],[10,21,142,0],[11,4,142,0],[12,2,142,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"usePlayerStore"],[16,27,47,0],[17,4,47,0],[18,2,47,0],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,3,0],[20,6,3,0,"_recentlyPlayedStore"],[20,26,3,0],[20,29,3,0,"require"],[20,36,3,0],[20,37,3,0,"_dependencyMap"],[20,51,3,0],[21,2,4,0],[21,6,4,0,"_servicesFlowaliveService"],[21,31,4,0],[21,34,4,0,"require"],[21,41,4,0],[21,42,4,0,"_dependencyMap"],[21,56,4,0],[22,2,34,0],[22,8,34,6,"initialState"],[22,20,34,18],[22,23,34,21],[23,4,35,2,"currentStation"],[23,18,35,16],[23,20,35,18],[23,24,35,22],[24,4,36,2,"playbackState"],[24,17,36,15],[24,19,36,17],[24,25,36,40],[25,4,37,2,"streamUrl"],[25,13,37,11],[25,15,37,13],[25,19,37,17],[26,4,38,2,"nowPlaying"],[26,14,38,12],[26,16,38,14],[26,20,38,18],[27,4,39,2,"volume"],[27,10,39,8],[27,12,39,10],[27,13,39,11],[28,4,40,2,"isMiniPlayerVisible"],[28,23,40,21],[28,25,40,23],[28,30,40,28],[29,4,41,2,"errorMessage"],[29,16,41,14],[29,18,41,16],[29,22,41,20],[30,4,42,2,"sleepTimerActive"],[30,20,42,18],[30,22,42,20],[30,27,42,25],[31,4,43,2,"sleepTimerRemaining"],[31,23,43,21],[31,25,43,23],[31,26,43,24],[32,4,44,2,"sleepTimerInterval"],[32,22,44,20],[32,24,44,22],[33,2,45,0],[33,3,45,1],[34,2,47,7],[34,8,47,13,"usePlayerStore"],[34,22,47,27],[34,25,47,30],[34,29,47,30,"create"],[34,37,47,36],[34,38,47,36,"create"],[34,44,47,36],[34,46,47,50],[34,47,47,51,"set"],[34,50,47,54],[34,52,47,56,"get"],[34,55,47,59],[34,61,47,65],[35,4,48,2],[35,7,48,5,"initialState"],[35,19,48,17],[36,4,50,2,"setCurrentStation"],[36,21,50,19],[36,23,50,22,"station"],[36,30,50,29],[36,34,50,34],[37,6,51,4,"set"],[37,9,51,7],[37,10,51,8],[38,8,52,6,"currentStation"],[38,22,52,20],[38,24,52,22,"station"],[38,31,52,29],[39,8,53,6,"isMiniPlayerVisible"],[39,27,53,25],[39,29,53,27,"station"],[39,36,53,34],[39,41,53,39],[39,45,53,43],[40,8,54,6,"errorMessage"],[40,20,54,18],[40,22,54,20],[41,6,55,4],[41,7,55,5],[41,8,55,6],[43,6,57,4],[44,6,58,4],[44,10,58,8,"station"],[44,17,58,15],[44,19,58,17],[45,8,59,6,"useRecentlyPlayedStore"],[45,28,59,28],[45,29,59,28,"useRecentlyPlayedStore"],[45,51,59,28],[45,52,59,29,"getState"],[45,60,59,37],[45,61,59,38],[45,62,59,39],[45,63,59,40,"addStation"],[45,73,59,50],[45,74,59,51,"station"],[45,81,59,58],[45,82,59,59],[46,8,60,6],[47,8,61,6,"flowaliveService"],[47,33,61,22],[47,34,61,22,"flowaliveService"],[47,50,61,22],[47,51,61,23,"trackStationPlayed"],[47,69,61,41],[47,70,61,42,"station"],[47,77,61,49],[47,78,61,50,"id"],[47,80,61,52],[47,82,61,54,"station"],[47,89,61,61],[47,90,61,62,"name"],[47,94,61,66],[47,96,61,68,"station"],[47,103,61,75],[47,104,61,76,"tags"],[47,108,61,80],[47,111,61,83],[47,112,61,84],[47,113,61,85],[47,114,61,86],[48,6,62,4],[49,4,63,2],[49,5,63,3],[50,4,65,2,"setPlaybackState"],[50,20,65,18],[50,22,65,21,"state"],[50,27,65,26],[50,31,65,31],[51,6,66,4],[51,12,66,10,"prevState"],[51,21,66,19],[51,24,66,22,"get"],[51,27,66,25],[51,28,66,26],[51,29,66,27],[51,30,66,28,"playbackState"],[51,43,66,41],[52,6,67,4],[52,12,67,10,"station"],[52,19,67,17],[52,22,67,20,"get"],[52,25,67,23],[52,26,67,24],[52,27,67,25],[52,28,67,26,"currentStation"],[52,42,67,40],[53,6,69,4,"set"],[53,9,69,7],[53,10,69,8],[54,8,69,10,"playbackState"],[54,21,69,23],[54,23,69,25,"state"],[55,6,69,31],[55,7,69,32],[55,8,69,33],[57,6,71,4],[58,6,72,4],[58,10,72,8,"state"],[58,15,72,13],[58,20,72,18],[58,28,72,26],[58,32,72,30,"prevState"],[58,41,72,39],[58,46,72,44],[58,55,72,53],[58,59,72,57,"station"],[58,66,72,64],[58,68,72,66],[59,8,73,6,"flowaliveService"],[59,33,73,22],[59,34,73,22,"flowaliveService"],[59,50,73,22],[59,51,73,23,"trackStationPaused"],[59,69,73,41],[59,70,73,42,"station"],[59,77,73,49],[59,78,73,50,"id"],[59,80,73,52],[59,82,73,54,"station"],[59,89,73,61],[59,90,73,62,"name"],[59,94,73,66],[59,95,73,67],[60,6,74,4],[61,4,75,2],[61,5,75,3],[62,4,77,2,"setStreamUrl"],[62,16,77,14],[62,18,77,17,"url"],[62,21,77,20],[62,25,78,4,"set"],[62,28,78,7],[62,29,78,8],[63,6,78,10,"streamUrl"],[63,15,78,19],[63,17,78,21,"url"],[64,4,78,25],[64,5,78,26],[64,6,78,27],[65,4,80,2,"setNowPlaying"],[65,17,80,15],[65,19,80,18,"metadata"],[65,27,80,26],[65,31,81,4,"set"],[65,34,81,7],[65,35,81,8],[66,6,81,10,"nowPlaying"],[66,16,81,20],[66,18,81,22,"metadata"],[67,4,81,31],[67,5,81,32],[67,6,81,33],[68,4,83,2,"setVolume"],[68,13,83,11],[68,15,83,14,"volume"],[68,21,83,20],[68,25,84,4,"set"],[68,28,84,7],[68,29,84,8],[69,6,84,10,"volume"],[69,12,84,16],[69,14,84,18,"Math"],[69,18,84,22],[69,19,84,23,"max"],[69,22,84,26],[69,23,84,27],[69,24,84,28],[69,26,84,30,"Math"],[69,30,84,34],[69,31,84,35,"min"],[69,34,84,38],[69,35,84,39],[69,36,84,40],[69,38,84,42,"volume"],[69,44,84,48],[69,45,84,49],[70,4,84,51],[70,5,84,52],[70,6,84,53],[71,4,86,2,"setMiniPlayerVisible"],[71,24,86,22],[71,26,86,25,"visible"],[71,33,86,32],[71,37,87,4,"set"],[71,40,87,7],[71,41,87,8],[72,6,87,10,"isMiniPlayerVisible"],[72,25,87,29],[72,27,87,31,"visible"],[73,4,87,39],[73,5,87,40],[73,6,87,41],[74,4,89,2,"hideMiniPlayer"],[74,18,89,16],[74,20,89,18,"hideMiniPlayer"],[74,21,89,18],[74,26,90,4,"set"],[74,29,90,7],[74,30,90,8],[75,6,91,6,"isMiniPlayerVisible"],[75,25,91,25],[75,27,91,27],[75,32,91,32],[76,6,92,6,"currentStation"],[76,20,92,20],[76,22,92,22],[76,26,92,26],[77,6,93,6,"playbackState"],[77,19,93,19],[77,21,93,21],[77,27,93,27],[78,6,94,6,"streamUrl"],[78,15,94,15],[78,17,94,17],[78,21,94,21],[79,6,95,6,"nowPlaying"],[79,16,95,16],[79,18,95,18],[80,4,96,4],[80,5,96,5],[80,6,96,6],[81,4,98,2,"setError"],[81,12,98,10],[81,14,98,13,"message"],[81,21,98,20],[81,25,98,25],[82,6,99,4],[82,12,99,10,"station"],[82,19,99,17],[82,22,99,20,"get"],[82,25,99,23],[82,26,99,24],[82,27,99,25],[82,28,99,26,"currentStation"],[82,42,99,40],[83,6,100,4,"set"],[83,9,100,7],[83,10,100,8],[84,8,100,10,"errorMessage"],[84,20,100,22],[84,22,100,24,"message"],[84,29,100,31],[85,8,100,33,"playbackState"],[85,21,100,46],[85,23,100,48,"message"],[85,30,100,55],[85,33,100,58],[85,40,100,65],[85,43,100,68],[86,6,100,75],[86,7,100,76],[86,8,100,77],[87,6,101,4],[88,6,102,4],[88,10,102,8,"message"],[88,17,102,15],[88,21,102,19,"station"],[88,28,102,26],[88,30,102,28],[89,8,103,6,"flowaliveService"],[89,33,103,22],[89,34,103,22,"flowaliveService"],[89,50,103,22],[89,51,103,23,"trackPlaybackError"],[89,69,103,41],[89,70,103,42,"station"],[89,77,103,49],[89,78,103,50,"id"],[89,80,103,52],[89,82,103,54,"message"],[89,89,103,61],[89,90,103,62],[90,6,104,4],[91,4,105,2],[91,5,105,3],[92,4,107,2,"startSleepTimer"],[92,19,107,17],[92,21,107,19,"startSleepTimer"],[92,22,107,20,"minutes"],[92,29,107,27],[92,31,107,29,"onExpire"],[92,39,107,37],[92,44,107,42],[93,6,108,4],[94,6,109,4],[94,12,109,10,"existing"],[94,20,109,18],[94,23,109,21,"get"],[94,26,109,24],[94,27,109,25],[94,28,109,26],[94,29,109,27,"sleepTimerInterval"],[94,47,109,45],[95,6,110,4],[95,10,110,8,"existing"],[95,18,110,16],[95,20,110,18,"clearInterval"],[95,33,110,31],[95,34,110,32,"existing"],[95,42,110,40],[95,43,110,41],[96,6,112,4],[96,12,112,10,"totalSeconds"],[96,24,112,22],[96,27,112,25,"minutes"],[96,34,112,32],[96,37,112,35],[96,39,112,37],[97,6,113,4,"set"],[97,9,113,7],[97,10,113,8],[98,8,113,10,"sleepTimerActive"],[98,24,113,26],[98,26,113,28],[98,30,113,32],[99,8,113,34,"sleepTimerRemaining"],[99,27,113,53],[99,29,113,55,"totalSeconds"],[100,6,113,68],[100,7,113,69],[100,8,113,70],[101,6,115,4],[101,12,115,10,"interval"],[101,20,115,18],[101,23,115,21,"setInterval"],[101,34,115,32],[101,35,115,33],[101,41,115,39],[102,8,116,6],[102,14,116,12,"remaining"],[102,23,116,21],[102,26,116,24,"get"],[102,29,116,27],[102,30,116,28],[102,31,116,29],[102,32,116,30,"sleepTimerRemaining"],[102,51,116,49],[103,8,117,6],[103,12,117,10,"remaining"],[103,21,117,19],[103,25,117,23],[103,26,117,24],[103,28,117,26],[104,10,118,8,"clearInterval"],[104,23,118,21],[104,24,118,22,"interval"],[104,32,118,30],[104,33,118,31],[105,10,119,8,"set"],[105,13,119,11],[105,14,119,12],[106,12,119,14,"sleepTimerActive"],[106,28,119,30],[106,30,119,32],[106,35,119,37],[107,12,119,39,"sleepTimerRemaining"],[107,31,119,58],[107,33,119,60],[107,34,119,61],[108,12,119,63,"sleepTimerInterval"],[108,30,119,81],[108,32,119,83],[109,10,119,88],[109,11,119,89],[109,12,119,90],[110,10,120,8,"onExpire"],[110,18,120,16],[110,19,120,17],[110,20,120,18],[111,8,121,6],[111,9,121,7],[111,15,121,13],[112,10,122,8,"set"],[112,13,122,11],[112,14,122,12],[113,12,122,14,"sleepTimerRemaining"],[113,31,122,33],[113,33,122,35,"remaining"],[113,42,122,44],[113,45,122,47],[114,10,122,49],[114,11,122,50],[114,12,122,51],[115,8,123,6],[116,6,124,4],[116,7,124,5],[116,9,124,7],[116,13,124,11],[116,14,124,12],[117,6,126,4,"set"],[117,9,126,7],[117,10,126,8],[118,8,126,10,"sleepTimerInterval"],[118,26,126,28],[118,28,126,30,"interval"],[119,6,126,39],[119,7,126,40],[119,8,126,41],[120,4,127,2],[120,5,127,3],[121,4,129,2,"cancelSleepTimer"],[121,20,129,18],[121,22,129,20,"cancelSleepTimer"],[121,23,129,20],[121,28,129,26],[122,6,130,4],[122,12,130,10,"interval"],[122,20,130,18],[122,23,130,21,"get"],[122,26,130,24],[122,27,130,25],[122,28,130,26],[122,29,130,27,"sleepTimerInterval"],[122,47,130,45],[123,6,131,4],[123,10,131,8,"interval"],[123,18,131,16],[123,20,131,18,"clearInterval"],[123,33,131,31],[123,34,131,32,"interval"],[123,42,131,40],[123,43,131,41],[124,6,132,4,"set"],[124,9,132,7],[124,10,132,8],[125,8,132,10,"sleepTimerActive"],[125,24,132,26],[125,26,132,28],[125,31,132,33],[126,8,132,35,"sleepTimerRemaining"],[126,27,132,54],[126,29,132,56],[126,30,132,57],[127,8,132,59,"sleepTimerInterval"],[127,26,132,77],[127,28,132,79],[128,6,132,84],[128,7,132,85],[128,8,132,86],[129,4,133,2],[129,5,133,3],[130,4,135,2,"reset"],[130,9,135,7],[130,11,135,9,"reset"],[130,12,135,9],[130,17,135,15],[131,6,136,4],[131,12,136,10,"interval"],[131,20,136,18],[131,23,136,21,"get"],[131,26,136,24],[131,27,136,25],[131,28,136,26],[131,29,136,27,"sleepTimerInterval"],[131,47,136,45],[132,6,137,4],[132,10,137,8,"interval"],[132,18,137,16],[132,20,137,18,"clearInterval"],[132,33,137,31],[132,34,137,32,"interval"],[132,42,137,40],[132,43,137,41],[133,6,138,4,"set"],[133,9,138,7],[133,10,138,8,"initialState"],[133,22,138,20],[133,23,138,21],[134,4,139,2],[135,2,140,0],[135,3,140,1],[135,4,140,2],[135,5,140,3],[136,2,142,0],[136,6,142,0,"_default"],[136,14,142,0],[136,17,142,15,"usePlayerStore"],[136,31,142,29],[137,0,142,30],[137,3]],"functionMap":{"names":["<global>","create$argument_0","setCurrentStation","setPlaybackState","setStreamUrl","setNowPlaying","setVolume","setMiniPlayerVisible","hideMiniPlayer","setError","startSleepTimer","setInterval$argument_0","cancelSleepTimer","reset"],"mappings":"AAA;kDC8C;qBCG;GDa;oBEE;GFU;gBGE;2BHC;iBIE;iCJC;aKE;qDLC;wBME;yCNC;kBOE;MPO;YQE;GRO;mBSE;iCCQ;KDS;GTG;oBWE;GXI;SYE;GZI;EDC"},"hasCjsExports":false},"type":"js/module"}]}