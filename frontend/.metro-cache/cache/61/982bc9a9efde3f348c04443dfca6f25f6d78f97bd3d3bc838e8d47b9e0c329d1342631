{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../CarPlay","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":37,"index":85}}],"key":"t1ys9xS7MLW+xAMpfaP6HAhIUJk=","exportNames":["*"],"imports":1}},{"name":"./Template","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":81,"index":218}}],"key":"s2nBtNSrTz2ky8obgrCSJu6P0Z0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SearchTemplate\", {\n    enumerable: true,\n    get: function () {\n      return SearchTemplate;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[3], \"@babel/runtime/helpers/callSuper\");\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[4], \"@babel/runtime/helpers/inherits\");\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  var _CarPlay = require(_dependencyMap[6], \"../CarPlay\");\n  var _Template2 = require(_dependencyMap[7], \"./Template\");\n  var SearchTemplate = /*#__PURE__*/function (_Template) {\n    function SearchTemplate(config) {\n      var _this;\n      (0, _classCallCheck.default)(this, SearchTemplate);\n      // parse out any images in the results\n\n      _this = (0, _callSuper.default)(this, SearchTemplate, [config]);\n      _this.config = config;\n      var subscription = _CarPlay.CarPlay.emitter.addListener('updatedSearchText', /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* (e) {\n          if (config.onSearch && e.templateId === _this.id) {\n            var result = yield config.onSearch(e.searchText).catch(() => null);\n            if (result == null) {\n              return;\n            }\n            var parsedResults = result.map(item => ({\n              ...item,\n              image: item.image ? _reactNative.Image.resolveAssetSource(item.image) : undefined\n            }));\n            if (_reactNative.Platform.OS === 'ios') {\n              _CarPlay.CarPlay.bridge.reactToUpdatedSearchText(e.templateId, parsedResults);\n            } else if (_reactNative.Platform.OS === 'android') {\n              _this.config = {\n                ..._this.config,\n                items: parsedResults\n              };\n              _CarPlay.CarPlay.bridge.updateTemplate(e.templateId, JSON.parse(JSON.stringify({\n                ..._this.config,\n                type: _this.type\n              })));\n            }\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n      _this.listenerSubscriptions.push(subscription);\n      subscription = _CarPlay.CarPlay.emitter.addListener('selectedResult', e => {\n        if (config.onItemSelect && e.templateId === _this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => _reactNative.Platform.OS === 'ios' && _CarPlay.CarPlay.bridge.reactToSelectedResult(true));\n        }\n      });\n      _this.listenerSubscriptions.push(subscription);\n      subscription = _CarPlay.CarPlay.emitter.addListener('didSelectListItem', e => {\n        if (config.onItemSelect && e.templateId === _this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => {\n            if (_reactNative.Platform.OS === 'ios') {\n              _CarPlay.CarPlay.bridge.reactToSelectedResult(true);\n            }\n          });\n        }\n      });\n      _this.listenerSubscriptions.push(subscription);\n      return _this;\n    }\n    (0, _inherits.default)(SearchTemplate, _Template);\n    return (0, _createClass.default)(SearchTemplate, [{\n      key: \"type\",\n      get: function () {\n        return 'search';\n      }\n    }, {\n      key: \"eventMap\",\n      get: function () {\n        return {\n          searchButtonPressed: 'onSearchButtonPressed',\n          backButtonPressed: 'onBackButtonPressed'\n        };\n      }\n    }]);\n  }(_Template2.Template);\n});","lineCount":103,"map":[[12,2,74,0,"Object"],[12,8,74,0],[12,9,74,0,"defineProperty"],[12,23,74,0],[12,24,74,0,"exports"],[12,31,74,0],[13,4,74,0,"enumerable"],[13,14,74,0],[14,4,74,0,"get"],[14,7,74,0],[14,18,74,0,"get"],[14,19,74,0],[15,6,74,0],[15,13,74,0,"SearchTemplate"],[15,27,74,0],[16,4,74,0],[17,2,74,0],[18,2,147,1],[18,6,147,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,147,1],[18,45,147,1,"require"],[18,52,147,1],[18,53,147,1,"_dependencyMap"],[18,67,147,1],[19,2,147,1],[19,6,147,1,"_asyncToGenerator"],[19,23,147,1],[19,26,147,1,"_interopDefault"],[19,41,147,1],[19,42,147,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,147,1],[20,2,147,1],[20,6,147,1,"_babelRuntimeHelpersClassCallCheck"],[20,40,147,1],[20,43,147,1,"require"],[20,50,147,1],[20,51,147,1,"_dependencyMap"],[20,65,147,1],[21,2,147,1],[21,6,147,1,"_classCallCheck"],[21,21,147,1],[21,24,147,1,"_interopDefault"],[21,39,147,1],[21,40,147,1,"_babelRuntimeHelpersClassCallCheck"],[21,74,147,1],[22,2,147,1],[22,6,147,1,"_babelRuntimeHelpersCreateClass"],[22,37,147,1],[22,40,147,1,"require"],[22,47,147,1],[22,48,147,1,"_dependencyMap"],[22,62,147,1],[23,2,147,1],[23,6,147,1,"_createClass"],[23,18,147,1],[23,21,147,1,"_interopDefault"],[23,36,147,1],[23,37,147,1,"_babelRuntimeHelpersCreateClass"],[23,68,147,1],[24,2,147,1],[24,6,147,1,"_babelRuntimeHelpersCallSuper"],[24,35,147,1],[24,38,147,1,"require"],[24,45,147,1],[24,46,147,1,"_dependencyMap"],[24,60,147,1],[25,2,147,1],[25,6,147,1,"_callSuper"],[25,16,147,1],[25,19,147,1,"_interopDefault"],[25,34,147,1],[25,35,147,1,"_babelRuntimeHelpersCallSuper"],[25,64,147,1],[26,2,147,1],[26,6,147,1,"_babelRuntimeHelpersInherits"],[26,34,147,1],[26,37,147,1,"require"],[26,44,147,1],[26,45,147,1,"_dependencyMap"],[26,59,147,1],[27,2,147,1],[27,6,147,1,"_inherits"],[27,15,147,1],[27,18,147,1,"_interopDefault"],[27,33,147,1],[27,34,147,1,"_babelRuntimeHelpersInherits"],[27,62,147,1],[28,2,1,0],[28,6,1,0,"_reactNative"],[28,18,1,0],[28,21,1,0,"require"],[28,28,1,0],[28,29,1,0,"_dependencyMap"],[28,43,1,0],[29,2,2,0],[29,6,2,0,"_CarPlay"],[29,14,2,0],[29,17,2,0,"require"],[29,24,2,0],[29,25,2,0,"_dependencyMap"],[29,39,2,0],[30,2,4,0],[30,6,4,0,"_Template2"],[30,16,4,0],[30,19,4,0,"require"],[30,26,4,0],[30,27,4,0,"_dependencyMap"],[30,41,4,0],[31,2,4,81],[31,6,74,13,"SearchTemplate"],[31,20,74,27],[31,46,74,27,"_Template"],[31,55,74,27],[32,4,86,2],[32,13,86,2,"SearchTemplate"],[32,28,86,21,"config"],[32,34,86,49],[32,36,86,51],[33,6,86,51],[33,10,86,51,"_this"],[33,15,86,51],[34,6,86,51],[34,10,86,51,"_classCallCheck"],[34,25,86,51],[34,26,86,51,"default"],[34,33,86,51],[34,41,86,51,"SearchTemplate"],[34,55,86,51],[35,6,87,4],[37,6,89,4,"_this"],[37,11,89,4],[37,18,89,4,"_callSuper"],[37,28,89,4],[37,29,89,4,"default"],[37,36,89,4],[37,44,89,4,"SearchTemplate"],[37,58,89,4],[37,61,89,10,"config"],[37,67,89,16],[38,6,89,18,"_this"],[38,11,89,18],[38,12,86,21,"config"],[38,18,86,49],[38,21,86,21,"config"],[38,27,86,49],[39,6,91,4],[39,10,91,8,"subscription"],[39,22,91,20],[39,25,91,23,"CarPlay"],[39,33,91,30],[39,34,91,30,"CarPlay"],[39,41,91,30],[39,42,91,31,"emitter"],[39,49,91,38],[39,50,91,39,"addListener"],[39,61,91,50],[39,62,92,6],[39,81,92,25],[40,8,92,25],[40,12,92,25,"_ref"],[40,16,92,25],[40,23,92,25,"_asyncToGenerator"],[40,40,92,25],[40,41,92,25,"default"],[40,48,92,25],[40,50,93,6],[40,61,93,13,"e"],[40,62,93,58],[40,64,93,63],[41,10,94,8],[41,14,94,12,"config"],[41,20,94,18],[41,21,94,19,"onSearch"],[41,29,94,27],[41,33,94,31,"e"],[41,34,94,32],[41,35,94,33,"templateId"],[41,45,94,43],[41,50,94,48,"_this"],[41,55,94,48],[41,56,94,53,"id"],[41,58,94,55],[41,60,94,57],[42,12,95,10],[42,16,95,16,"result"],[42,22,95,22],[42,31,95,31,"config"],[42,37,95,37],[42,38,95,38,"onSearch"],[42,46,95,46],[42,47,95,47,"e"],[42,48,95,48],[42,49,95,49,"searchText"],[42,59,95,59],[42,60,95,60],[42,61,95,61,"catch"],[42,66,95,66],[42,67,95,67],[42,73,95,73],[42,77,95,77],[42,78,95,78],[43,12,96,10],[43,16,96,14,"result"],[43,22,96,20],[43,26,96,24],[43,30,96,28],[43,32,96,30],[44,14,97,12],[45,12,98,10],[46,12,99,10],[46,16,99,16,"parsedResults"],[46,29,99,29],[46,32,99,32,"result"],[46,38,99,38],[46,39,99,39,"map"],[46,42,99,42],[46,43,99,43,"item"],[46,47,99,47],[46,52,99,52],[47,14,100,12],[47,17,100,15,"item"],[47,21,100,19],[48,14,101,12,"image"],[48,19,101,17],[48,21,101,19,"item"],[48,25,101,23],[48,26,101,24,"image"],[48,31,101,29],[48,34,101,32,"Image"],[48,46,101,37],[48,47,101,37,"Image"],[48,52,101,37],[48,53,101,38,"resolveAssetSource"],[48,71,101,56],[48,72,101,57,"item"],[48,76,101,61],[48,77,101,62,"image"],[48,82,101,67],[48,83,101,68],[48,86,101,71,"undefined"],[49,12,102,10],[49,13,102,11],[49,14,102,12],[49,15,102,13],[50,12,104,10],[50,16,104,14,"Platform"],[50,28,104,22],[50,29,104,22,"Platform"],[50,37,104,22],[50,38,104,23,"OS"],[50,40,104,25],[50,45,104,30],[50,50,104,35],[50,52,104,37],[51,14,105,12,"CarPlay"],[51,22,105,19],[51,23,105,19,"CarPlay"],[51,30,105,19],[51,31,105,20,"bridge"],[51,37,105,26],[51,38,105,27,"reactToUpdatedSearchText"],[51,62,105,51],[51,63,105,52,"e"],[51,64,105,53],[51,65,105,54,"templateId"],[51,75,105,64],[51,77,105,66,"parsedResults"],[51,90,105,79],[51,91,105,80],[52,12,106,10],[52,13,106,11],[52,19,106,17],[52,23,106,21,"Platform"],[52,35,106,29],[52,36,106,29,"Platform"],[52,44,106,29],[52,45,106,30,"OS"],[52,47,106,32],[52,52,106,37],[52,61,106,46],[52,63,106,48],[53,14,107,12,"_this"],[53,19,107,12],[53,20,107,17,"config"],[53,26,107,23],[53,29,107,26],[54,16,107,28],[54,19,107,31,"_this"],[54,24,107,31],[54,25,107,36,"config"],[54,31,107,42],[55,16,107,44,"items"],[55,21,107,49],[55,23,107,51,"parsedResults"],[56,14,107,65],[56,15,107,66],[57,14,108,12,"CarPlay"],[57,22,108,19],[57,23,108,19,"CarPlay"],[57,30,108,19],[57,31,108,20,"bridge"],[57,37,108,26],[57,38,108,27,"updateTemplate"],[57,52,108,41],[57,53,109,14,"e"],[57,54,109,15],[57,55,109,16,"templateId"],[57,65,109,26],[57,67,110,14,"JSON"],[57,71,110,18],[57,72,110,19,"parse"],[57,77,110,24],[57,78,110,25,"JSON"],[57,82,110,29],[57,83,110,30,"stringify"],[57,92,110,39],[57,93,110,40],[58,16,110,42],[58,19,110,45,"_this"],[58,24,110,45],[58,25,110,50,"config"],[58,31,110,56],[59,16,110,58,"type"],[59,20,110,62],[59,22,110,64,"_this"],[59,27,110,64],[59,28,110,69,"type"],[60,14,110,74],[60,15,110,75],[60,16,110,76],[60,17,111,12],[60,18,111,13],[61,12,112,10],[62,10,113,8],[63,8,114,6],[63,9,114,7],[64,8,114,7],[64,25,114,7,"_x"],[64,27,114,7],[65,10,114,7],[65,17,114,7,"_ref"],[65,21,114,7],[65,22,114,7,"apply"],[65,27,114,7],[65,34,114,7,"arguments"],[65,43,114,7],[66,8,114,7],[67,6,114,7],[67,9,115,4],[67,10,115,5],[68,6,117,4,"_this"],[68,11,117,4],[68,12,117,9,"listenerSubscriptions"],[68,33,117,30],[68,34,117,31,"push"],[68,38,117,35],[68,39,117,36,"subscription"],[68,51,117,48],[68,52,117,49],[69,6,119,4,"subscription"],[69,18,119,16],[69,21,119,19,"CarPlay"],[69,29,119,26],[69,30,119,26,"CarPlay"],[69,37,119,26],[69,38,119,27,"emitter"],[69,45,119,34],[69,46,119,35,"addListener"],[69,57,119,46],[69,58,120,6],[69,74,120,22],[69,76,121,7,"e"],[69,77,121,59],[69,81,121,64],[70,8,122,8],[70,12,122,12,"config"],[70,18,122,18],[70,19,122,19,"onItemSelect"],[70,31,122,31],[70,35,122,35,"e"],[70,36,122,36],[70,37,122,37,"templateId"],[70,47,122,47],[70,52,122,52,"_this"],[70,57,122,52],[70,58,122,57,"id"],[70,60,122,59],[70,62,122,61],[71,10,123,10],[71,15,123,15,"Promise"],[71,22,123,22],[71,23,123,23,"resolve"],[71,30,123,30],[71,31,123,31,"config"],[71,37,123,37],[71,38,123,38,"onItemSelect"],[71,50,123,50],[71,51,123,51,"e"],[71,52,123,52],[71,53,123,53],[71,54,123,54],[71,55,123,55,"then"],[71,59,123,59],[71,60,124,12],[71,66,124,18,"Platform"],[71,78,124,26],[71,79,124,26,"Platform"],[71,87,124,26],[71,88,124,27,"OS"],[71,90,124,29],[71,95,124,34],[71,100,124,39],[71,104,124,43,"CarPlay"],[71,112,124,50],[71,113,124,50,"CarPlay"],[71,120,124,50],[71,121,124,51,"bridge"],[71,127,124,57],[71,128,124,58,"reactToSelectedResult"],[71,149,124,79],[71,150,124,80],[71,154,124,84],[71,155,125,10],[71,156,125,11],[72,8,126,8],[73,6,127,6],[73,7,128,4],[73,8,128,5],[74,6,130,4,"_this"],[74,11,130,4],[74,12,130,9,"listenerSubscriptions"],[74,33,130,30],[74,34,130,31,"push"],[74,38,130,35],[74,39,130,36,"subscription"],[74,51,130,48],[74,52,130,49],[75,6,132,4,"subscription"],[75,18,132,16],[75,21,132,19,"CarPlay"],[75,29,132,26],[75,30,132,26,"CarPlay"],[75,37,132,26],[75,38,132,27,"emitter"],[75,45,132,34],[75,46,132,35,"addListener"],[75,57,132,46],[75,58,133,6],[75,77,133,25],[75,79,134,7,"e"],[75,80,134,59],[75,84,134,64],[76,8,135,8],[76,12,135,12,"config"],[76,18,135,18],[76,19,135,19,"onItemSelect"],[76,31,135,31],[76,35,135,35,"e"],[76,36,135,36],[76,37,135,37,"templateId"],[76,47,135,47],[76,52,135,52,"_this"],[76,57,135,52],[76,58,135,57,"id"],[76,60,135,59],[76,62,135,61],[77,10,136,10],[77,15,136,15,"Promise"],[77,22,136,22],[77,23,136,23,"resolve"],[77,30,136,30],[77,31,136,31,"config"],[77,37,136,37],[77,38,136,38,"onItemSelect"],[77,50,136,50],[77,51,136,51,"e"],[77,52,136,52],[77,53,136,53],[77,54,136,54],[77,55,136,55,"then"],[77,59,136,59],[77,60,136,60],[77,66,136,66],[78,12,137,12],[78,16,137,16,"Platform"],[78,28,137,24],[78,29,137,24,"Platform"],[78,37,137,24],[78,38,137,25,"OS"],[78,40,137,27],[78,45,137,32],[78,50,137,37],[78,52,137,39],[79,14,138,14,"CarPlay"],[79,22,138,21],[79,23,138,21,"CarPlay"],[79,30,138,21],[79,31,138,22,"bridge"],[79,37,138,28],[79,38,138,29,"reactToSelectedResult"],[79,59,138,50],[79,60,138,51],[79,64,138,55],[79,65,138,56],[80,12,139,12],[81,10,140,10],[81,11,140,11],[81,12,140,12],[82,8,141,8],[83,6,142,6],[83,7,143,4],[83,8,143,5],[84,6,145,4,"_this"],[84,11,145,4],[84,12,145,9,"listenerSubscriptions"],[84,33,145,30],[84,34,145,31,"push"],[84,38,145,35],[84,39,145,36,"subscription"],[84,51,145,48],[84,52,145,49],[85,6,145,50],[85,13,145,50,"_this"],[85,18,145,50],[86,4,146,2],[87,4,146,3],[87,8,146,3,"_inherits"],[87,17,146,3],[87,18,146,3,"default"],[87,25,146,3],[87,27,146,3,"SearchTemplate"],[87,41,146,3],[87,43,146,3,"_Template"],[87,52,146,3],[88,4,146,3],[88,15,146,3,"_createClass"],[88,27,146,3],[88,28,146,3,"default"],[88,35,146,3],[88,37,146,3,"SearchTemplate"],[88,51,146,3],[89,6,146,3,"key"],[89,9,146,3],[90,6,146,3,"get"],[90,9,146,3],[90,11,75,2],[90,20,75,2,"get"],[90,21,75,2],[90,23,75,28],[91,8,76,4],[91,15,76,11],[91,23,76,19],[92,6,77,2],[93,4,77,3],[94,6,77,3,"key"],[94,9,77,3],[95,6,77,3,"get"],[95,9,77,3],[95,11,79,2],[95,20,79,2,"get"],[95,21,79,2],[95,23,79,17],[96,8,80,4],[96,15,80,11],[97,10,81,6,"searchButtonPressed"],[97,29,81,25],[97,31,81,27],[97,54,81,50],[98,10,82,6,"backButtonPressed"],[98,27,82,23],[98,29,82,25],[99,8,83,4],[99,9,83,5],[100,6,84,2],[101,4,84,3],[102,2,84,3],[102,4,74,36,"Template"],[102,14,74,44],[102,15,74,44,"Template"],[102,23,74,44],[103,0,74,44],[103,3]],"functionMap":{"names":["<global>","SearchTemplate","get__type","get__eventMap","constructor","CarPlay.emitter.addListener$argument_1","config.onSearch._catch$argument_0","result.map$argument_0","Promise.resolve.then$argument_0"],"mappings":"AAA;OCyE;ECC;GDE;EEE;GFK;EGE;MCO;mECE,UD;2CEI;YFG;ODY;MCO;YGG,yEH;ODG;MCO;4DGE;WHI;ODE;GHI;CDC"},"hasCjsExports":false},"type":"js/module"}]}