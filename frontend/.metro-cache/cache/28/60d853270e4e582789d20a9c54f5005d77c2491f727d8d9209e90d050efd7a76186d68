{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":147},"end":{"line":5,"column":24,"index":171}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"../constants/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":172},"end":{"line":6,"column":49,"index":221}}],"key":"ZV0ujAFjHVGmM4aJSYIlDaiTRjE=","exportNames":["*"],"imports":1}},{"name":"./stationCacheService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":222},"end":{"line":7,"column":53,"index":275}}],"key":"yxZZ8mmLCqJAIsEwJGrcta4tsOc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"genreService\", {\n    enumerable: true,\n    get: function () {\n      return genreService;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _constantsApi = require(_dependencyMap[1], \"../constants/api\");\n  var _stationCacheService = require(_dependencyMap[2], \"./stationCacheService\");\n  // Genre Service\n  // Provides genre data from API with caching and error handling\n  // All methods have try/catch - API failures won't crash the app\n\n  const genreService = {\n    // Get all genres with error handling\n    async getGenres(page = 1, limit = 50) {\n      try {\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.list, {\n          params: {\n            page,\n            limit\n          }\n        });\n        return response.data;\n      } catch (error) {\n        console.error('[genreService] getGenres error:', error);\n        return {\n          genres: [],\n          totalCount: 0,\n          page,\n          limit,\n          totalPages: 0\n        };\n      }\n    },\n    // Get precomputed genres (faster, cached) with error handling\n    async getPrecomputedGenres(country) {\n      try {\n        // Check cache first\n        const cached = await _stationCacheService.stationCache.getGenres();\n        const isOnline = _stationCacheService.stationCache.getOnlineStatus();\n        if (!isOnline && cached) {\n          console.log('[genreService] Using cached genres (offline)');\n          return {\n            success: true,\n            data: cached\n          };\n        }\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.precomputed, {\n          params: {\n            countrycode: country,\n            tv: 1\n          }\n        });\n        const data = response.data;\n\n        // Cache genres\n        if (data?.data && data.data.length > 0) {\n          await _stationCacheService.stationCache.setGenres(data.data);\n        }\n        return data;\n      } catch (error) {\n        console.error('[genreService] getPrecomputedGenres error:', error);\n\n        // Graceful degradation\n        const cached = await _stationCacheService.stationCache.getGenres();\n        if (cached) {\n          console.log('[genreService] Using cached genres (API error)');\n          return {\n            success: true,\n            data: cached\n          };\n        }\n        return {\n          success: false,\n          data: []\n        };\n      }\n    },\n    // Get discoverable/featured genres with error handling\n    async getDiscoverableGenres() {\n      try {\n        // Check cache first\n        const cached = await _stationCacheService.stationCache.getGenres();\n        const isOnline = _stationCacheService.stationCache.getOnlineStatus();\n        if (!isOnline && cached) {\n          console.log('[genreService] Using cached discoverable genres (offline)');\n          return cached;\n        }\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.discoverable);\n        const data = response.data;\n\n        // Cache genres\n        if (Array.isArray(data) && data.length > 0) {\n          await _stationCacheService.stationCache.setGenres(data);\n        }\n        return data || [];\n      } catch (error) {\n        console.error('[genreService] getDiscoverableGenres error:', error);\n\n        // Graceful degradation\n        const cached = await _stationCacheService.stationCache.getGenres();\n        if (cached) {\n          console.log('[genreService] Using cached discoverable genres (API error)');\n          return cached;\n        }\n        return [];\n      }\n    },\n    // Get genre by slug with error handling\n    async getGenreBySlug(slug) {\n      try {\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.bySlug(slug));\n        return response.data;\n      } catch (error) {\n        console.error('[genreService] getGenreBySlug error:', error);\n        return null;\n      }\n    },\n    // Get stations within a genre with error handling\n    async getGenreStations(slug, page = 1, limit = 25, country, sort, order) {\n      try {\n        const response = await api.default.get(_constantsApi.API_ENDPOINTS.genres.stations(slug), {\n          params: {\n            page,\n            limit,\n            country,\n            sort,\n            order\n          }\n        });\n        return response.data;\n      } catch (error) {\n        console.error('[genreService] getGenreStations error:', error);\n        return {\n          stations: [],\n          pagination: {\n            page,\n            limit,\n            total: 0,\n            totalPages: 0\n          }\n        };\n      }\n    }\n  };\n  var _default = genreService;\n});","lineCount":166,"map":[[12,2,132,0,"Object"],[12,8,132,0],[12,9,132,0,"defineProperty"],[12,23,132,0],[12,24,132,0,"exports"],[12,31,132,0],[13,4,132,0,"enumerable"],[13,14,132,0],[14,4,132,0,"get"],[14,7,132,0],[14,18,132,0,"get"],[14,19,132,0],[15,6,132,0],[15,13,132,0,"_default"],[15,21,132,0],[16,4,132,0],[17,2,132,0],[18,2,10,0,"Object"],[18,8,10,0],[18,9,10,0,"defineProperty"],[18,23,10,0],[18,24,10,0,"exports"],[18,31,10,0],[19,4,10,0,"enumerable"],[19,14,10,0],[20,4,10,0,"get"],[20,7,10,0],[20,18,10,0,"get"],[20,19,10,0],[21,6,10,0],[21,13,10,0,"genreService"],[21,25,10,0],[22,4,10,0],[23,2,10,0],[24,2,5,0],[24,6,5,0,"_api"],[24,10,5,0],[24,13,5,0,"require"],[24,20,5,0],[24,21,5,0,"_dependencyMap"],[24,35,5,0],[25,2,5,0],[25,6,5,0,"api"],[25,9,5,0],[25,12,5,0,"_interopDefault"],[25,27,5,0],[25,28,5,0,"_api"],[25,32,5,0],[26,2,6,0],[26,6,6,0,"_constantsApi"],[26,19,6,0],[26,22,6,0,"require"],[26,29,6,0],[26,30,6,0,"_dependencyMap"],[26,44,6,0],[27,2,7,0],[27,6,7,0,"_stationCacheService"],[27,26,7,0],[27,29,7,0,"require"],[27,36,7,0],[27,37,7,0,"_dependencyMap"],[27,51,7,0],[28,2,1,0],[29,2,2,0],[30,2,3,0],[32,2,10,7],[32,8,10,13,"genreService"],[32,20,10,25],[32,23,10,28],[33,4,11,2],[34,4,12,2],[34,10,12,8,"getGenres"],[34,19,12,17,"getGenres"],[34,20,12,18,"page"],[34,24,12,30],[34,27,12,33],[34,28,12,34],[34,30,12,36,"limit"],[34,35,12,49],[34,38,12,52],[34,40,12,54],[34,42,12,80],[35,6,13,4],[35,10,13,8],[36,8,14,6],[36,14,14,12,"response"],[36,22,14,20],[36,25,14,23],[36,31,14,29,"api"],[36,34,14,32],[36,35,14,32,"default"],[36,42,14,32],[36,43,14,33,"get"],[36,46,14,36],[36,47,14,37,"API_ENDPOINTS"],[36,60,14,50],[36,61,14,50,"API_ENDPOINTS"],[36,74,14,50],[36,75,14,51,"genres"],[36,81,14,57],[36,82,14,58,"list"],[36,86,14,62],[36,88,14,64],[37,10,15,8,"params"],[37,16,15,14],[37,18,15,16],[38,12,15,18,"page"],[38,16,15,22],[39,12,15,24,"limit"],[40,10,15,30],[41,8,16,6],[41,9,16,7],[41,10,16,8],[42,8,17,6],[42,15,17,13,"response"],[42,23,17,21],[42,24,17,22,"data"],[42,28,17,26],[43,6,18,4],[43,7,18,5],[43,8,18,6],[43,15,18,13,"error"],[43,20,18,18],[43,22,18,20],[44,8,19,6,"console"],[44,15,19,13],[44,16,19,14,"error"],[44,21,19,19],[44,22,19,20],[44,55,19,53],[44,57,19,55,"error"],[44,62,19,60],[44,63,19,61],[45,8,20,6],[45,15,20,13],[46,10,20,15,"genres"],[46,16,20,21],[46,18,20,23],[46,20,20,25],[47,10,20,27,"totalCount"],[47,20,20,37],[47,22,20,39],[47,23,20,40],[48,10,20,42,"page"],[48,14,20,46],[49,10,20,48,"limit"],[49,15,20,53],[50,10,20,55,"totalPages"],[50,20,20,65],[50,22,20,67],[51,8,20,69],[51,9,20,70],[52,6,21,4],[53,4,22,2],[53,5,22,3],[54,4,24,2],[55,4,25,2],[55,10,25,8,"getPrecomputedGenres"],[55,30,25,28,"getPrecomputedGenres"],[55,31,25,29,"country"],[55,38,25,45],[55,40,25,93],[56,6,26,4],[56,10,26,8],[57,8,27,6],[58,8,28,6],[58,14,28,12,"cached"],[58,20,28,18],[58,23,28,21],[58,29,28,27,"stationCache"],[58,49,28,39],[58,50,28,39,"stationCache"],[58,62,28,39],[58,63,28,40,"getGenres"],[58,72,28,49],[58,73,28,50],[58,74,28,51],[59,8,29,6],[59,14,29,12,"isOnline"],[59,22,29,20],[59,25,29,23,"stationCache"],[59,45,29,35],[59,46,29,35,"stationCache"],[59,58,29,35],[59,59,29,36,"getOnlineStatus"],[59,74,29,51],[59,75,29,52],[59,76,29,53],[60,8,31,6],[60,12,31,10],[60,13,31,11,"isOnline"],[60,21,31,19],[60,25,31,23,"cached"],[60,31,31,29],[60,33,31,31],[61,10,32,8,"console"],[61,17,32,15],[61,18,32,16,"log"],[61,21,32,19],[61,22,32,20],[61,68,32,66],[61,69,32,67],[62,10,33,8],[62,17,33,15],[63,12,33,17,"success"],[63,19,33,24],[63,21,33,26],[63,25,33,30],[64,12,33,32,"data"],[64,16,33,36],[64,18,33,38,"cached"],[65,10,33,45],[65,11,33,46],[66,8,34,6],[67,8,36,6],[67,14,36,12,"response"],[67,22,36,20],[67,25,36,23],[67,31,36,29,"api"],[67,34,36,32],[67,35,36,32,"default"],[67,42,36,32],[67,43,36,33,"get"],[67,46,36,36],[67,47,36,37,"API_ENDPOINTS"],[67,60,36,50],[67,61,36,50,"API_ENDPOINTS"],[67,74,36,50],[67,75,36,51,"genres"],[67,81,36,57],[67,82,36,58,"precomputed"],[67,93,36,69],[67,95,36,71],[68,10,37,8,"params"],[68,16,37,14],[68,18,37,16],[69,12,37,18,"countrycode"],[69,23,37,29],[69,25,37,31,"country"],[69,32,37,38],[70,12,37,40,"tv"],[70,14,37,42],[70,16,37,44],[71,10,37,46],[72,8,38,6],[72,9,38,7],[72,10,38,8],[73,8,40,6],[73,14,40,12,"data"],[73,18,40,16],[73,21,40,19,"response"],[73,29,40,27],[73,30,40,28,"data"],[73,34,40,32],[75,8,42,6],[76,8,43,6],[76,12,43,10,"data"],[76,16,43,14],[76,18,43,16,"data"],[76,22,43,20],[76,26,43,24,"data"],[76,30,43,28],[76,31,43,29,"data"],[76,35,43,33],[76,36,43,34,"length"],[76,42,43,40],[76,45,43,43],[76,46,43,44],[76,48,43,46],[77,10,44,8],[77,16,44,14,"stationCache"],[77,36,44,26],[77,37,44,26,"stationCache"],[77,49,44,26],[77,50,44,27,"setGenres"],[77,59,44,36],[77,60,44,37,"data"],[77,64,44,41],[77,65,44,42,"data"],[77,69,44,46],[77,70,44,47],[78,8,45,6],[79,8,47,6],[79,15,47,13,"data"],[79,19,47,17],[80,6,48,4],[80,7,48,5],[80,8,48,6],[80,15,48,13,"error"],[80,20,48,18],[80,22,48,20],[81,8,49,6,"console"],[81,15,49,13],[81,16,49,14,"error"],[81,21,49,19],[81,22,49,20],[81,66,49,64],[81,68,49,66,"error"],[81,73,49,71],[81,74,49,72],[83,8,51,6],[84,8,52,6],[84,14,52,12,"cached"],[84,20,52,18],[84,23,52,21],[84,29,52,27,"stationCache"],[84,49,52,39],[84,50,52,39,"stationCache"],[84,62,52,39],[84,63,52,40,"getGenres"],[84,72,52,49],[84,73,52,50],[84,74,52,51],[85,8,53,6],[85,12,53,10,"cached"],[85,18,53,16],[85,20,53,18],[86,10,54,8,"console"],[86,17,54,15],[86,18,54,16,"log"],[86,21,54,19],[86,22,54,20],[86,70,54,68],[86,71,54,69],[87,10,55,8],[87,17,55,15],[88,12,55,17,"success"],[88,19,55,24],[88,21,55,26],[88,25,55,30],[89,12,55,32,"data"],[89,16,55,36],[89,18,55,38,"cached"],[90,10,55,45],[90,11,55,46],[91,8,56,6],[92,8,58,6],[92,15,58,13],[93,10,58,15,"success"],[93,17,58,22],[93,19,58,24],[93,24,58,29],[94,10,58,31,"data"],[94,14,58,35],[94,16,58,37],[95,8,58,40],[95,9,58,41],[96,6,59,4],[97,4,60,2],[97,5,60,3],[98,4,62,2],[99,4,63,2],[99,10,63,8,"getDiscoverableGenres"],[99,31,63,29,"getDiscoverableGenres"],[99,32,63,29],[99,34,63,50],[100,6,64,4],[100,10,64,8],[101,8,65,6],[102,8,66,6],[102,14,66,12,"cached"],[102,20,66,18],[102,23,66,21],[102,29,66,27,"stationCache"],[102,49,66,39],[102,50,66,39,"stationCache"],[102,62,66,39],[102,63,66,40,"getGenres"],[102,72,66,49],[102,73,66,50],[102,74,66,51],[103,8,67,6],[103,14,67,12,"isOnline"],[103,22,67,20],[103,25,67,23,"stationCache"],[103,45,67,35],[103,46,67,35,"stationCache"],[103,58,67,35],[103,59,67,36,"getOnlineStatus"],[103,74,67,51],[103,75,67,52],[103,76,67,53],[104,8,69,6],[104,12,69,10],[104,13,69,11,"isOnline"],[104,21,69,19],[104,25,69,23,"cached"],[104,31,69,29],[104,33,69,31],[105,10,70,8,"console"],[105,17,70,15],[105,18,70,16,"log"],[105,21,70,19],[105,22,70,20],[105,81,70,79],[105,82,70,80],[106,10,71,8],[106,17,71,15,"cached"],[106,23,71,21],[107,8,72,6],[108,8,74,6],[108,14,74,12,"response"],[108,22,74,20],[108,25,74,23],[108,31,74,29,"api"],[108,34,74,32],[108,35,74,32,"default"],[108,42,74,32],[108,43,74,33,"get"],[108,46,74,36],[108,47,74,37,"API_ENDPOINTS"],[108,60,74,50],[108,61,74,50,"API_ENDPOINTS"],[108,74,74,50],[108,75,74,51,"genres"],[108,81,74,57],[108,82,74,58,"discoverable"],[108,94,74,70],[108,95,74,71],[109,8,75,6],[109,14,75,12,"data"],[109,18,75,16],[109,21,75,19,"response"],[109,29,75,27],[109,30,75,28,"data"],[109,34,75,32],[111,8,77,6],[112,8,78,6],[112,12,78,10,"Array"],[112,17,78,15],[112,18,78,16,"isArray"],[112,25,78,23],[112,26,78,24,"data"],[112,30,78,28],[112,31,78,29],[112,35,78,33,"data"],[112,39,78,37],[112,40,78,38,"length"],[112,46,78,44],[112,49,78,47],[112,50,78,48],[112,52,78,50],[113,10,79,8],[113,16,79,14,"stationCache"],[113,36,79,26],[113,37,79,26,"stationCache"],[113,49,79,26],[113,50,79,27,"setGenres"],[113,59,79,36],[113,60,79,37,"data"],[113,64,79,41],[113,65,79,42],[114,8,80,6],[115,8,82,6],[115,15,82,13,"data"],[115,19,82,17],[115,23,82,21],[115,25,82,23],[116,6,83,4],[116,7,83,5],[116,8,83,6],[116,15,83,13,"error"],[116,20,83,18],[116,22,83,20],[117,8,84,6,"console"],[117,15,84,13],[117,16,84,14,"error"],[117,21,84,19],[117,22,84,20],[117,67,84,65],[117,69,84,67,"error"],[117,74,84,72],[117,75,84,73],[119,8,86,6],[120,8,87,6],[120,14,87,12,"cached"],[120,20,87,18],[120,23,87,21],[120,29,87,27,"stationCache"],[120,49,87,39],[120,50,87,39,"stationCache"],[120,62,87,39],[120,63,87,40,"getGenres"],[120,72,87,49],[120,73,87,50],[120,74,87,51],[121,8,88,6],[121,12,88,10,"cached"],[121,18,88,16],[121,20,88,18],[122,10,89,8,"console"],[122,17,89,15],[122,18,89,16,"log"],[122,21,89,19],[122,22,89,20],[122,83,89,81],[122,84,89,82],[123,10,90,8],[123,17,90,15,"cached"],[123,23,90,21],[124,8,91,6],[125,8,93,6],[125,15,93,13],[125,17,93,15],[126,6,94,4],[127,4,95,2],[127,5,95,3],[128,4,97,2],[129,4,98,2],[129,10,98,8,"getGenreBySlug"],[129,24,98,22,"getGenreBySlug"],[129,25,98,23,"slug"],[129,29,98,35],[129,31,98,60],[130,6,99,4],[130,10,99,8],[131,8,100,6],[131,14,100,12,"response"],[131,22,100,20],[131,25,100,23],[131,31,100,29,"api"],[131,34,100,32],[131,35,100,32,"default"],[131,42,100,32],[131,43,100,33,"get"],[131,46,100,36],[131,47,100,37,"API_ENDPOINTS"],[131,60,100,50],[131,61,100,50,"API_ENDPOINTS"],[131,74,100,50],[131,75,100,51,"genres"],[131,81,100,57],[131,82,100,58,"bySlug"],[131,88,100,64],[131,89,100,65,"slug"],[131,93,100,69],[131,94,100,70],[131,95,100,71],[132,8,101,6],[132,15,101,13,"response"],[132,23,101,21],[132,24,101,22,"data"],[132,28,101,26],[133,6,102,4],[133,7,102,5],[133,8,102,6],[133,15,102,13,"error"],[133,20,102,18],[133,22,102,20],[134,8,103,6,"console"],[134,15,103,13],[134,16,103,14,"error"],[134,21,103,19],[134,22,103,20],[134,60,103,58],[134,62,103,60,"error"],[134,67,103,65],[134,68,103,66],[135,8,104,6],[135,15,104,13],[135,19,104,17],[136,6,105,4],[137,4,106,2],[137,5,106,3],[138,4,108,2],[139,4,109,2],[139,10,109,8,"getGenreStations"],[139,26,109,24,"getGenreStations"],[139,27,110,4,"slug"],[139,31,110,16],[139,33,111,4,"page"],[139,37,111,16],[139,40,111,19],[139,41,111,20],[139,43,112,4,"limit"],[139,48,112,17],[139,51,112,20],[139,53,112,22],[139,55,113,4,"country"],[139,62,113,20],[139,64,114,4,"sort"],[139,68,114,41],[139,70,115,4,"order"],[139,75,115,26],[139,77,116,55],[140,6,117,4],[140,10,117,8],[141,8,118,6],[141,14,118,12,"response"],[141,22,118,20],[141,25,118,23],[141,31,118,29,"api"],[141,34,118,32],[141,35,118,32,"default"],[141,42,118,32],[141,43,118,33,"get"],[141,46,118,36],[141,47,118,37,"API_ENDPOINTS"],[141,60,118,50],[141,61,118,50,"API_ENDPOINTS"],[141,74,118,50],[141,75,118,51,"genres"],[141,81,118,57],[141,82,118,58,"stations"],[141,90,118,66],[141,91,118,67,"slug"],[141,95,118,71],[141,96,118,72],[141,98,118,74],[142,10,119,8,"params"],[142,16,119,14],[142,18,119,16],[143,12,119,18,"page"],[143,16,119,22],[144,12,119,24,"limit"],[144,17,119,29],[145,12,119,31,"country"],[145,19,119,38],[146,12,119,40,"sort"],[146,16,119,44],[147,12,119,46,"order"],[148,10,119,52],[149,8,120,6],[149,9,120,7],[149,10,120,8],[150,8,121,6],[150,15,121,13,"response"],[150,23,121,21],[150,24,121,22,"data"],[150,28,121,26],[151,6,122,4],[151,7,122,5],[151,8,122,6],[151,15,122,13,"error"],[151,20,122,18],[151,22,122,20],[152,8,123,6,"console"],[152,15,123,13],[152,16,123,14,"error"],[152,21,123,19],[152,22,123,20],[152,62,123,60],[152,64,123,62,"error"],[152,69,123,67],[152,70,123,68],[153,8,124,6],[153,15,124,13],[154,10,125,8,"stations"],[154,18,125,16],[154,20,125,18],[154,22,125,20],[155,10,126,8,"pagination"],[155,20,126,18],[155,22,126,20],[156,12,126,22,"page"],[156,16,126,26],[157,12,126,28,"limit"],[157,17,126,33],[158,12,126,35,"total"],[158,17,126,40],[158,19,126,42],[158,20,126,43],[159,12,126,45,"totalPages"],[159,22,126,55],[159,24,126,57],[160,10,126,59],[161,8,127,6],[161,9,127,7],[162,6,128,4],[163,4,129,2],[164,2,130,0],[164,3,130,1],[165,2,132,0],[165,6,132,0,"_default"],[165,14,132,0],[165,17,132,15,"genreService"],[165,29,132,27],[166,0,132,28],[166,3]],"functionMap":{"names":["<global>","getGenres","getPrecomputedGenres","getDiscoverableGenres","getGenreBySlug","getGenreStations"],"mappings":"AAA;ECW;GDU;EEG;GFmC;EGG;GHgC;EIG;GJQ;EKG;GLoB"},"hasCjsExports":false},"type":"js/module"}]}