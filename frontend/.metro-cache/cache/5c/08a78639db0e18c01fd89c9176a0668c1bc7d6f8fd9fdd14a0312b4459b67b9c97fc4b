{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./useCastSession","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":72,"index":156}}],"key":"d4NMeqG+ZqxwzWw8kc8wa+6+rtM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useCastChannel;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _useCastSession = require(_dependencyMap[2], \"./useCastSession\");\n  var useCastSession = _interopDefault(_useCastSession);\n  /**\n   * Hook that establishes a custom {@link CastChannel} on the current connected session.\n   *\n   * @param namespace custom namespace starting with `urn:x-cast:`\n   * @param onMessage listener called when a message from the receiver was received\n   * @returns custom channel, or `null` if there's no session connected\n   * @example\n   * ```js\n   * import { useCastChannel } from 'react-native-google-cast'\n   *\n   * function MyComponent() {\n   *   const castChannel = useCastChannel(\n   *     'urn:x-cast:com.example.custom',\n   *     useCallback(message => { console.log('Received message', message) }, [])\n   *   )\n   *\n   *   // later, for example after pressing a button\n   *   function onPress() {\n   *     if (castChannel) {\n   *       castChannel.sendMessage('...')\n   *     }\n   *   }\n   * }\n   * ```\n   */\n  function useCastChannel(namespace, onMessage, useCastSessionOptions) {\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      castChannel = _useState2[0],\n      setCastChannel = _useState2[1];\n    var castSession = (0, useCastSession.default)(useCastSessionOptions);\n    (0, _react.useEffect)(() => {\n      var channel;\n      if (castSession) {\n        castSession.addChannel(namespace).then(c => {\n          channel = c;\n          setCastChannel(c);\n        });\n      } else {\n        channel = null;\n        setCastChannel(null);\n      }\n      return () => {\n        channel?.remove();\n      };\n    }, [castSession, namespace]);\n    (0, _react.useEffect)(() => {\n      if (!castChannel || !onMessage) return;\n      castChannel.onMessage(onMessage);\n      return () => castChannel.offMessage();\n    }, [castChannel, onMessage]);\n    return castChannel;\n  }\n});","lineCount":76,"map":[[12,2,30,15,"Object"],[12,8,30,15],[12,9,30,15,"defineProperty"],[12,23,30,15],[12,24,30,15,"exports"],[12,31,30,15],[13,4,30,15,"enumerable"],[13,14,30,15],[14,4,30,15,"get"],[14,7,30,15],[14,18,30,15,"get"],[14,19,30,15],[15,6,30,15],[15,13,30,15,"useCastChannel"],[15,27,30,15],[16,4,30,15],[17,2,30,15],[18,2,65,1],[18,6,65,1,"_babelRuntimeHelpersSlicedToArray"],[18,39,65,1],[18,42,65,1,"require"],[18,49,65,1],[18,50,65,1,"_dependencyMap"],[18,64,65,1],[19,2,65,1],[19,6,65,1,"_slicedToArray"],[19,20,65,1],[19,23,65,1,"_interopDefault"],[19,38,65,1],[19,39,65,1,"_babelRuntimeHelpersSlicedToArray"],[19,72,65,1],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,0,"_useCastSession"],[21,21,3,0],[21,24,3,0,"require"],[21,31,3,0],[21,32,3,0,"_dependencyMap"],[21,46,3,0],[22,2,3,0],[22,6,3,0,"useCastSession"],[22,20,3,0],[22,23,3,0,"_interopDefault"],[22,38,3,0],[22,39,3,0,"_useCastSession"],[22,54,3,0],[23,2,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,0,16,0],[35,0,17,0],[36,0,18,0],[37,0,19,0],[38,0,20,0],[39,0,21,0],[40,0,22,0],[41,0,23,0],[42,0,24,0],[43,0,25,0],[44,0,26,0],[45,0,27,0],[46,0,28,0],[47,0,29,0],[48,2,30,15],[48,11,30,24,"useCastChannel"],[48,25,30,38,"useCastChannel"],[48,26,31,2,"namespace"],[48,35,31,19],[48,37,32,2,"onMessage"],[48,46,32,61],[48,48,33,2,"useCastSessionOptions"],[48,69,33,47],[48,71,34,22],[49,4,35,2],[49,8,35,2,"_useState"],[49,17,35,2],[49,20,35,40],[49,24,35,40,"useState"],[49,30,35,48],[49,31,35,48,"useState"],[49,39,35,48],[49,41,35,69],[49,45,35,73],[49,46,35,74],[50,6,35,74,"_useState2"],[50,16,35,74],[50,23,35,74,"_slicedToArray"],[50,37,35,74],[50,38,35,74,"default"],[50,45,35,74],[50,47,35,74,"_useState"],[50,56,35,74],[51,6,35,9,"castChannel"],[51,17,35,20],[51,20,35,20,"_useState2"],[51,30,35,20],[52,6,35,22,"setCastChannel"],[52,20,35,36],[52,23,35,36,"_useState2"],[52,33,35,36],[53,4,36,2],[53,8,36,8,"castSession"],[53,19,36,19],[53,22,36,22],[53,26,36,22,"useCastSession"],[53,40,36,36],[53,41,36,36,"default"],[53,48,36,36],[53,50,36,37,"useCastSessionOptions"],[53,71,36,58],[53,72,36,59],[54,4,38,2],[54,8,38,2,"useEffect"],[54,14,38,11],[54,15,38,11,"useEffect"],[54,24,38,11],[54,26,38,12],[54,32,38,18],[55,6,39,4],[55,10,39,8,"channel"],[55,17,39,35],[56,6,41,4],[56,10,41,8,"castSession"],[56,21,41,19],[56,23,41,21],[57,8,42,6,"castSession"],[57,19,42,17],[57,20,42,18,"addChannel"],[57,30,42,28],[57,31,42,29,"namespace"],[57,40,42,38],[57,41,42,39],[57,42,42,40,"then"],[57,46,42,44],[57,47,42,46,"c"],[57,48,42,47],[57,52,42,52],[58,10,43,8,"channel"],[58,17,43,15],[58,20,43,18,"c"],[58,21,43,19],[59,10,44,8,"setCastChannel"],[59,24,44,22],[59,25,44,23,"c"],[59,26,44,24],[59,27,44,25],[60,8,45,6],[60,9,45,7],[60,10,45,8],[61,6,46,4],[61,7,46,5],[61,13,46,11],[62,8,47,6,"channel"],[62,15,47,13],[62,18,47,16],[62,22,47,20],[63,8,48,6,"setCastChannel"],[63,22,48,20],[63,23,48,21],[63,27,48,25],[63,28,48,26],[64,6,49,4],[65,6,51,4],[65,13,51,11],[65,19,51,17],[66,8,52,6,"channel"],[66,15,52,13],[66,17,52,15,"remove"],[66,23,52,21],[66,24,52,22],[66,25,52,23],[67,6,53,4],[67,7,53,5],[68,4,54,2],[68,5,54,3],[68,7,54,5],[68,8,54,6,"castSession"],[68,19,54,17],[68,21,54,19,"namespace"],[68,30,54,28],[68,31,54,29],[68,32,54,30],[69,4,56,2],[69,8,56,2,"useEffect"],[69,14,56,11],[69,15,56,11,"useEffect"],[69,24,56,11],[69,26,56,12],[69,32,56,18],[70,6,57,4],[70,10,57,8],[70,11,57,9,"castChannel"],[70,22,57,20],[70,26,57,24],[70,27,57,25,"onMessage"],[70,36,57,34],[70,38,57,36],[71,6,59,4,"castChannel"],[71,17,59,15],[71,18,59,16,"onMessage"],[71,27,59,25],[71,28,59,26,"onMessage"],[71,37,59,35],[71,38,59,36],[72,6,61,4],[72,13,61,11],[72,19,61,17,"castChannel"],[72,30,61,28],[72,31,61,29,"offMessage"],[72,41,61,39],[72,42,61,40],[72,43,61,41],[73,4,62,2],[73,5,62,3],[73,7,62,5],[73,8,62,6,"castChannel"],[73,19,62,17],[73,21,62,19,"onMessage"],[73,30,62,28],[73,31,62,29],[73,32,62,30],[74,4,64,2],[74,11,64,9,"castChannel"],[74,22,64,20],[75,2,65,0],[76,0,65,1],[76,3]],"functionMap":{"names":["<global>","useCastChannel","useEffect$argument_0","castSession.addChannel.then$argument_0","<anonymous>"],"mappings":"AAA;eC6B;YCQ;6CCI;ODG;WEM;KFE;GDC;YCE;WEK,8BF;GDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}