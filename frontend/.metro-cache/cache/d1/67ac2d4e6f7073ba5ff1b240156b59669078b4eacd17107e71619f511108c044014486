{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../interfaces/Action","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":147},"end":{"line":4,"column":51,"index":181}}],"key":"Ao+0Xukmz3+PXcgXLZaVbmT2Jnw=","exportNames":["*"],"imports":1}},{"name":"../Template","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":19,"index":202},"end":{"line":5,"column":41,"index":224}}],"key":"87imF7mdjJJbCUkE5RafmdJ6RBg=","exportNames":["*"],"imports":1}},{"name":"../../CarPlay","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":244},"end":{"line":6,"column":42,"index":268}}],"key":"uc2kOoCX5UbWXNsaU+LfHNXTg38=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _objectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  const _excluded = [\"actions\"],\n    _excluded2 = [\"onPress\"];\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SignInTemplate = exports.InputType = void 0;\n  const Action_1 = require(_dependencyMap[1], \"../../interfaces/Action\");\n  const Template_1 = require(_dependencyMap[2], \"../Template\");\n  const CarPlay_1 = require(_dependencyMap[3], \"../../CarPlay\");\n  var InputType;\n  (function (InputType) {\n    InputType[InputType[\"DEFAULT\"] = 1] = \"DEFAULT\";\n    InputType[InputType[\"PASSWORD\"] = 2] = \"PASSWORD\";\n  })(InputType = exports.InputType || (exports.InputType = {}));\n  class SignInTemplate extends Template_1.Template {\n    get type() {\n      return 'signin';\n    }\n    pressableCallbacks = {};\n    constructor(config) {\n      super(config);\n      this.config = config;\n      const subscription = CarPlay_1.CarPlay.emitter.addListener('buttonPressed', ({\n        buttonId,\n        templateId\n      }) => {\n        if (templateId !== this.id) {\n          return;\n        }\n        const callback = this.pressableCallbacks[buttonId];\n        if (callback == null || typeof callback !== 'function') {\n          return;\n        }\n        callback();\n      });\n      this.listenerSubscriptions.push(subscription);\n      const callbackFn = ({\n        error\n      } = {}) => {\n        error && console.error(error);\n      };\n      this.config = this.parseConfig(Object.assign({\n        type: this.type\n      }, config));\n      CarPlay_1.CarPlay.bridge.createTemplate(this.id, this.config, callbackFn);\n    }\n    parseConfig(config) {\n      const {\n          actions\n        } = config,\n        rest = _objectWithoutPropertiesLoose(config, _excluded);\n      const updatedConfig = rest;\n      const callbackIds = [];\n      if (actions != null) {\n        updatedConfig.actions = actions.map(action => {\n          const id = 'id' in action ? action.id : (0, Action_1.getCallbackActionId)();\n          if (id == null) {\n            return action;\n          }\n          callbackIds.push(id);\n          if (!('onPress' in action)) {\n            return action;\n          }\n          const {\n              onPress\n            } = action,\n            actionRest = _objectWithoutPropertiesLoose(action, _excluded2);\n          this.pressableCallbacks[id] = onPress;\n          return Object.assign({}, actionRest, {\n            id\n          });\n        });\n      }\n      this.pressableCallbacks = Object.fromEntries(Object.entries(this.pressableCallbacks).filter(([id]) => callbackIds.includes(id)));\n      return super.parseConfig(updatedConfig);\n    }\n    get eventMap() {\n      return {\n        backButtonPressed: 'onBackButtonPressed',\n        didSignIn: 'onSignIn'\n      };\n    }\n  }\n  exports.SignInTemplate = SignInTemplate;\n});","lineCount":89,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_objectWithoutPropertiesLoose"],[4,35,1,13],[4,38,1,13,"require"],[4,45,1,13],[4,46,1,13,"_dependencyMap"],[4,60,1,13],[5,2,1,13],[5,8,1,13,"_excluded"],[5,17,1,13],[6,4,1,13,"_excluded2"],[6,14,1,13],[7,2,2,0,"Object"],[7,8,2,6],[7,9,2,7,"defineProperty"],[7,23,2,21],[7,24,2,22,"exports"],[7,31,2,29],[7,33,2,31],[7,45,2,43],[7,47,2,45],[8,4,2,47,"value"],[8,9,2,52],[8,11,2,54],[9,2,2,59],[9,3,2,60],[9,4,2,61],[10,2,3,0,"exports"],[10,9,3,7],[10,10,3,8,"SignInTemplate"],[10,24,3,22],[10,27,3,25,"exports"],[10,34,3,32],[10,35,3,33,"InputType"],[10,44,3,42],[10,47,3,45],[10,52,3,50],[10,53,3,51],[11,2,4,0],[11,8,4,6,"Action_1"],[11,16,4,14],[11,19,4,17,"require"],[11,26,4,24],[11,27,4,24,"_dependencyMap"],[11,41,4,24],[11,71,4,50],[11,72,4,51],[12,2,5,0],[12,8,5,6,"Template_1"],[12,18,5,16],[12,21,5,19,"require"],[12,28,5,26],[12,29,5,26,"_dependencyMap"],[12,43,5,26],[12,61,5,40],[12,62,5,41],[13,2,6,0],[13,8,6,6,"CarPlay_1"],[13,17,6,15],[13,20,6,18,"require"],[13,27,6,25],[13,28,6,25,"_dependencyMap"],[13,42,6,25],[13,62,6,41],[13,63,6,42],[14,2,7,0],[14,6,7,4,"InputType"],[14,15,7,13],[15,2,8,0],[15,3,8,1],[15,13,8,11,"InputType"],[15,22,8,20],[15,24,8,22],[16,4,9,4,"InputType"],[16,13,9,13],[16,14,9,14,"InputType"],[16,23,9,23],[16,24,9,24],[16,33,9,33],[16,34,9,34],[16,37,9,37],[16,38,9,38],[16,39,9,39],[16,42,9,42],[16,51,9,51],[17,4,10,4,"InputType"],[17,13,10,13],[17,14,10,14,"InputType"],[17,23,10,23],[17,24,10,24],[17,34,10,34],[17,35,10,35],[17,38,10,38],[17,39,10,39],[17,40,10,40],[17,43,10,43],[17,53,10,53],[18,2,11,0],[18,3,11,1],[18,5,11,3,"InputType"],[18,14,11,12],[18,17,11,15,"exports"],[18,24,11,22],[18,25,11,23,"InputType"],[18,34,11,32],[18,39,11,37,"exports"],[18,46,11,44],[18,47,11,45,"InputType"],[18,56,11,54],[18,59,11,57],[18,60,11,58],[18,61,11,59],[18,62,11,60],[18,63,11,61],[19,2,12,0],[19,8,12,6,"SignInTemplate"],[19,22,12,20],[19,31,12,29,"Template_1"],[19,41,12,39],[19,42,12,40,"Template"],[19,50,12,48],[19,51,12,49],[20,4,14,4],[20,8,14,8,"type"],[20,12,14,12,"type"],[20,13,14,12],[20,15,14,15],[21,6,15,8],[21,13,15,15],[21,21,15,23],[22,4,16,4],[23,4,17,4,"pressableCallbacks"],[23,22,17,22],[23,25,17,25],[23,26,17,26],[23,27,17,27],[24,4,18,4,"constructor"],[24,15,18,15,"constructor"],[24,16,18,16,"config"],[24,22,18,22],[24,24,18,24],[25,6,19,8],[25,11,19,13],[25,12,19,14,"config"],[25,18,19,20],[25,19,19,21],[26,6,20,8],[26,10,20,12],[26,11,20,13,"config"],[26,17,20,19],[26,20,20,22,"config"],[26,26,20,28],[27,6,21,8],[27,12,21,14,"subscription"],[27,24,21,26],[27,27,21,29,"CarPlay_1"],[27,36,21,38],[27,37,21,39,"CarPlay"],[27,44,21,46],[27,45,21,47,"emitter"],[27,52,21,54],[27,53,21,55,"addListener"],[27,64,21,66],[27,65,21,67],[27,80,21,82],[27,82,21,84],[27,83,21,85],[28,8,21,87,"buttonId"],[28,16,21,95],[29,8,21,97,"templateId"],[30,6,21,108],[30,7,21,109],[30,12,21,114],[31,8,22,12],[31,12,22,16,"templateId"],[31,22,22,26],[31,27,22,31],[31,31,22,35],[31,32,22,36,"id"],[31,34,22,38],[31,36,22,40],[32,10,23,16],[33,8,24,12],[34,8,25,12],[34,14,25,18,"callback"],[34,22,25,26],[34,25,25,29],[34,29,25,33],[34,30,25,34,"pressableCallbacks"],[34,48,25,52],[34,49,25,53,"buttonId"],[34,57,25,61],[34,58,25,62],[35,8,26,12],[35,12,26,16,"callback"],[35,20,26,24],[35,24,26,28],[35,28,26,32],[35,32,26,36],[35,39,26,43,"callback"],[35,47,26,51],[35,52,26,56],[35,62,26,66],[35,64,26,68],[36,10,27,16],[37,8,28,12],[38,8,29,12,"callback"],[38,16,29,20],[38,17,29,21],[38,18,29,22],[39,6,30,8],[39,7,30,9],[39,8,30,10],[40,6,31,8],[40,10,31,12],[40,11,31,13,"listenerSubscriptions"],[40,32,31,34],[40,33,31,35,"push"],[40,37,31,39],[40,38,31,40,"subscription"],[40,50,31,52],[40,51,31,53],[41,6,32,8],[41,12,32,14,"callbackFn"],[41,22,32,24],[41,25,32,27,"callbackFn"],[41,26,32,28],[42,8,32,30,"error"],[43,6,32,36],[43,7,32,37],[43,10,32,40],[43,11,32,41],[43,12,32,42],[43,17,32,47],[44,8,33,12,"error"],[44,13,33,17],[44,17,33,21,"console"],[44,24,33,28],[44,25,33,29,"error"],[44,30,33,34],[44,31,33,35,"error"],[44,36,33,40],[44,37,33,41],[45,6,34,8],[45,7,34,9],[46,6,35,8],[46,10,35,12],[46,11,35,13,"config"],[46,17,35,19],[46,20,35,22],[46,24,35,26],[46,25,35,27,"parseConfig"],[46,36,35,38],[46,37,35,38,"Object"],[46,43,35,38],[46,44,35,38,"assign"],[46,50,35,38],[47,8,35,41,"type"],[47,12,35,45],[47,14,35,47],[47,18,35,51],[47,19,35,52,"type"],[48,6,35,56],[48,9,35,61,"config"],[48,15,35,67],[48,16,35,69],[48,17,35,70],[49,6,36,8,"CarPlay_1"],[49,15,36,17],[49,16,36,18,"CarPlay"],[49,23,36,25],[49,24,36,26,"bridge"],[49,30,36,32],[49,31,36,33,"createTemplate"],[49,45,36,47],[49,46,36,48],[49,50,36,52],[49,51,36,53,"id"],[49,53,36,55],[49,55,36,57],[49,59,36,61],[49,60,36,62,"config"],[49,66,36,68],[49,68,36,70,"callbackFn"],[49,78,36,80],[49,79,36,81],[50,4,37,4],[51,4,38,4,"parseConfig"],[51,15,38,15,"parseConfig"],[51,16,38,16,"config"],[51,22,38,22],[51,24,38,24],[52,6,39,8],[52,12,39,14],[53,10,39,16,"actions"],[54,8,39,33],[54,9,39,34],[54,12,39,37,"config"],[54,18,39,43],[55,8,39,28,"rest"],[55,12,39,32],[55,15,39,32,"_objectWithoutPropertiesLoose"],[55,44,39,32],[55,45,39,37,"config"],[55,51,39,43],[55,53,39,43,"_excluded"],[55,62,39,43],[56,6,40,8],[56,12,40,14,"updatedConfig"],[56,25,40,27],[56,28,40,30,"rest"],[56,32,40,34],[57,6,41,8],[57,12,41,14,"callbackIds"],[57,23,41,25],[57,26,41,28],[57,28,41,30],[58,6,42,8],[58,10,42,12,"actions"],[58,17,42,19],[58,21,42,23],[58,25,42,27],[58,27,42,29],[59,8,43,12,"updatedConfig"],[59,21,43,25],[59,22,43,26,"actions"],[59,29,43,33],[59,32,43,36,"actions"],[59,39,43,43],[59,40,43,44,"map"],[59,43,43,47],[59,44,43,48,"action"],[59,50,43,54],[59,54,43,58],[60,10,44,16],[60,16,44,22,"id"],[60,18,44,24],[60,21,44,27],[60,25,44,31],[60,29,44,35,"action"],[60,35,44,41],[60,38,44,44,"action"],[60,44,44,50],[60,45,44,51,"id"],[60,47,44,53],[60,50,44,56],[60,51,44,57],[60,52,44,58],[60,54,44,60,"Action_1"],[60,62,44,68],[60,63,44,69,"getCallbackActionId"],[60,82,44,88],[60,84,44,90],[60,85,44,91],[61,10,45,16],[61,14,45,20,"id"],[61,16,45,22],[61,20,45,26],[61,24,45,30],[61,26,45,32],[62,12,46,20],[62,19,46,27,"action"],[62,25,46,33],[63,10,47,16],[64,10,48,16,"callbackIds"],[64,21,48,27],[64,22,48,28,"push"],[64,26,48,32],[64,27,48,33,"id"],[64,29,48,35],[64,30,48,36],[65,10,49,16],[65,14,49,20],[65,16,49,22],[65,25,49,31],[65,29,49,35,"action"],[65,35,49,41],[65,36,49,42],[65,38,49,44],[66,12,50,20],[66,19,50,27,"action"],[66,25,50,33],[67,10,51,16],[68,10,52,16],[68,16,52,22],[69,14,52,24,"onPress"],[70,12,52,47],[70,13,52,48],[70,16,52,51,"action"],[70,22,52,57],[71,12,52,36,"actionRest"],[71,22,52,46],[71,25,52,46,"_objectWithoutPropertiesLoose"],[71,54,52,46],[71,55,52,51,"action"],[71,61,52,57],[71,63,52,57,"_excluded2"],[71,73,52,57],[72,10,53,16],[72,14,53,20],[72,15,53,21,"pressableCallbacks"],[72,33,53,39],[72,34,53,40,"id"],[72,36,53,42],[72,37,53,43],[72,40,53,46,"onPress"],[72,47,53,53],[73,10,54,16],[73,17,54,16,"Object"],[73,23,54,16],[73,24,54,16,"assign"],[73,30,54,16],[73,35,54,28,"actionRest"],[73,45,54,38],[74,12,54,40,"id"],[75,10,54,42],[76,8,55,12],[76,9,55,13],[76,10,55,14],[77,6,56,8],[78,6,57,8],[78,10,57,12],[78,11,57,13,"pressableCallbacks"],[78,29,57,31],[78,32,57,34,"Object"],[78,38,57,40],[78,39,57,41,"fromEntries"],[78,50,57,52],[78,51,57,53,"Object"],[78,57,57,59],[78,58,57,60,"entries"],[78,65,57,67],[78,66,57,68],[78,70,57,72],[78,71,57,73,"pressableCallbacks"],[78,89,57,91],[78,90,57,92],[78,91,57,93,"filter"],[78,97,57,99],[78,98,57,100],[78,99,57,101],[78,100,57,102,"id"],[78,102,57,104],[78,103,57,105],[78,108,57,110,"callbackIds"],[78,119,57,121],[78,120,57,122,"includes"],[78,128,57,130],[78,129,57,131,"id"],[78,131,57,133],[78,132,57,134],[78,133,57,135],[78,134,57,136],[79,6,58,8],[79,13,58,15],[79,18,58,20],[79,19,58,21,"parseConfig"],[79,30,58,32],[79,31,58,33,"updatedConfig"],[79,44,58,46],[79,45,58,47],[80,4,59,4],[81,4,60,4],[81,8,60,8,"eventMap"],[81,16,60,16,"eventMap"],[81,17,60,16],[81,19,60,19],[82,6,61,8],[82,13,61,15],[83,8,62,12,"backButtonPressed"],[83,25,62,29],[83,27,62,31],[83,48,62,52],[84,8,63,12,"didSignIn"],[84,17,63,21],[84,19,63,23],[85,6,64,8],[85,7,64,9],[86,4,65,4],[87,2,66,0],[88,2,67,0,"exports"],[88,9,67,7],[88,10,67,8,"SignInTemplate"],[88,24,67,22],[88,27,67,25,"SignInTemplate"],[88,41,67,39],[89,0,67,40],[89,3]],"functionMap":{"names":["<global>","<anonymous>","SignInTemplate","get__type","constructor","CarPlay_1.CarPlay.emitter.addListener$argument_1","callbackFn","parseConfig","actions.map$argument_0","Object.entries.filter$argument_0","get__eventMap"],"mappings":"AAA;CCO;CDG;AEC;ICE;KDE;IEE;oFCG;SDS;2BEE;SFE;KFG;IKC;gDCK;aDY;oGEE,kCF;KLE;IQC;KRK;CFC"},"hasCjsExports":true},"type":"js/module"}]}