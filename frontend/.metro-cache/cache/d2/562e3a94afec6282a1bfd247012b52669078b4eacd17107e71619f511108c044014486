{"dependencies":[{"name":"../../interfaces/Action","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":147},"end":{"line":4,"column":51,"index":181}}],"key":"Ao+0Xukmz3+PXcgXLZaVbmT2Jnw=","exportNames":["*"],"imports":1}},{"name":"../Template","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":19,"index":202},"end":{"line":5,"column":41,"index":224}}],"key":"87imF7mdjJJbCUkE5RafmdJ6RBg=","exportNames":["*"],"imports":1}},{"name":"../../CarPlay","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":244},"end":{"line":6,"column":42,"index":268}}],"key":"uc2kOoCX5UbWXNsaU+LfHNXTg38=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SignInTemplate = exports.InputType = void 0;\n  const Action_1 = require(_dependencyMap[0], \"../../interfaces/Action\");\n  const Template_1 = require(_dependencyMap[1], \"../Template\");\n  const CarPlay_1 = require(_dependencyMap[2], \"../../CarPlay\");\n  var InputType;\n  (function (InputType) {\n    InputType[InputType[\"DEFAULT\"] = 1] = \"DEFAULT\";\n    InputType[InputType[\"PASSWORD\"] = 2] = \"PASSWORD\";\n  })(InputType = exports.InputType || (exports.InputType = {}));\n  class SignInTemplate extends Template_1.Template {\n    get type() {\n      return 'signin';\n    }\n    pressableCallbacks = {};\n    constructor(config) {\n      super(config);\n      this.config = config;\n      const subscription = CarPlay_1.CarPlay.emitter.addListener('buttonPressed', ({\n        buttonId,\n        templateId\n      }) => {\n        if (templateId !== this.id) {\n          return;\n        }\n        const callback = this.pressableCallbacks[buttonId];\n        if (callback == null || typeof callback !== 'function') {\n          return;\n        }\n        callback();\n      });\n      this.listenerSubscriptions.push(subscription);\n      const callbackFn = ({\n        error\n      } = {}) => {\n        error && console.error(error);\n      };\n      this.config = this.parseConfig({\n        type: this.type,\n        ...config\n      });\n      CarPlay_1.CarPlay.bridge.createTemplate(this.id, this.config, callbackFn);\n    }\n    parseConfig(config) {\n      const {\n        actions,\n        ...rest\n      } = config;\n      const updatedConfig = rest;\n      const callbackIds = [];\n      if (actions != null) {\n        updatedConfig.actions = actions.map(action => {\n          const id = 'id' in action ? action.id : (0, Action_1.getCallbackActionId)();\n          if (id == null) {\n            return action;\n          }\n          callbackIds.push(id);\n          if (!('onPress' in action)) {\n            return action;\n          }\n          const {\n            onPress,\n            ...actionRest\n          } = action;\n          this.pressableCallbacks[id] = onPress;\n          return {\n            ...actionRest,\n            id\n          };\n        });\n      }\n      this.pressableCallbacks = Object.fromEntries(Object.entries(this.pressableCallbacks).filter(([id]) => callbackIds.includes(id)));\n      return super.parseConfig(updatedConfig);\n    }\n    get eventMap() {\n      return {\n        backButtonPressed: 'onBackButtonPressed',\n        didSignIn: 'onSignIn'\n      };\n    }\n  }\n  exports.SignInTemplate = SignInTemplate;\n});","lineCount":88,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"SignInTemplate"],[7,24,3,22],[7,27,3,25,"exports"],[7,34,3,32],[7,35,3,33,"InputType"],[7,44,3,42],[7,47,3,45],[7,52,3,50],[7,53,3,51],[8,2,4,0],[8,8,4,6,"Action_1"],[8,16,4,14],[8,19,4,17,"require"],[8,26,4,24],[8,27,4,24,"_dependencyMap"],[8,41,4,24],[8,71,4,50],[8,72,4,51],[9,2,5,0],[9,8,5,6,"Template_1"],[9,18,5,16],[9,21,5,19,"require"],[9,28,5,26],[9,29,5,26,"_dependencyMap"],[9,43,5,26],[9,61,5,40],[9,62,5,41],[10,2,6,0],[10,8,6,6,"CarPlay_1"],[10,17,6,15],[10,20,6,18,"require"],[10,27,6,25],[10,28,6,25,"_dependencyMap"],[10,42,6,25],[10,62,6,41],[10,63,6,42],[11,2,7,0],[11,6,7,4,"InputType"],[11,15,7,13],[12,2,8,0],[12,3,8,1],[12,13,8,11,"InputType"],[12,22,8,20],[12,24,8,22],[13,4,9,4,"InputType"],[13,13,9,13],[13,14,9,14,"InputType"],[13,23,9,23],[13,24,9,24],[13,33,9,33],[13,34,9,34],[13,37,9,37],[13,38,9,38],[13,39,9,39],[13,42,9,42],[13,51,9,51],[14,4,10,4,"InputType"],[14,13,10,13],[14,14,10,14,"InputType"],[14,23,10,23],[14,24,10,24],[14,34,10,34],[14,35,10,35],[14,38,10,38],[14,39,10,39],[14,40,10,40],[14,43,10,43],[14,53,10,53],[15,2,11,0],[15,3,11,1],[15,5,11,3,"InputType"],[15,14,11,12],[15,17,11,15,"exports"],[15,24,11,22],[15,25,11,23,"InputType"],[15,34,11,32],[15,39,11,37,"exports"],[15,46,11,44],[15,47,11,45,"InputType"],[15,56,11,54],[15,59,11,57],[15,60,11,58],[15,61,11,59],[15,62,11,60],[15,63,11,61],[16,2,12,0],[16,8,12,6,"SignInTemplate"],[16,22,12,20],[16,31,12,29,"Template_1"],[16,41,12,39],[16,42,12,40,"Template"],[16,50,12,48],[16,51,12,49],[17,4,14,4],[17,8,14,8,"type"],[17,12,14,12,"type"],[17,13,14,12],[17,15,14,15],[18,6,15,8],[18,13,15,15],[18,21,15,23],[19,4,16,4],[20,4,17,4,"pressableCallbacks"],[20,22,17,22],[20,25,17,25],[20,26,17,26],[20,27,17,27],[21,4,18,4,"constructor"],[21,15,18,15,"constructor"],[21,16,18,16,"config"],[21,22,18,22],[21,24,18,24],[22,6,19,8],[22,11,19,13],[22,12,19,14,"config"],[22,18,19,20],[22,19,19,21],[23,6,20,8],[23,10,20,12],[23,11,20,13,"config"],[23,17,20,19],[23,20,20,22,"config"],[23,26,20,28],[24,6,21,8],[24,12,21,14,"subscription"],[24,24,21,26],[24,27,21,29,"CarPlay_1"],[24,36,21,38],[24,37,21,39,"CarPlay"],[24,44,21,46],[24,45,21,47,"emitter"],[24,52,21,54],[24,53,21,55,"addListener"],[24,64,21,66],[24,65,21,67],[24,80,21,82],[24,82,21,84],[24,83,21,85],[25,8,21,87,"buttonId"],[25,16,21,95],[26,8,21,97,"templateId"],[27,6,21,108],[27,7,21,109],[27,12,21,114],[28,8,22,12],[28,12,22,16,"templateId"],[28,22,22,26],[28,27,22,31],[28,31,22,35],[28,32,22,36,"id"],[28,34,22,38],[28,36,22,40],[29,10,23,16],[30,8,24,12],[31,8,25,12],[31,14,25,18,"callback"],[31,22,25,26],[31,25,25,29],[31,29,25,33],[31,30,25,34,"pressableCallbacks"],[31,48,25,52],[31,49,25,53,"buttonId"],[31,57,25,61],[31,58,25,62],[32,8,26,12],[32,12,26,16,"callback"],[32,20,26,24],[32,24,26,28],[32,28,26,32],[32,32,26,36],[32,39,26,43,"callback"],[32,47,26,51],[32,52,26,56],[32,62,26,66],[32,64,26,68],[33,10,27,16],[34,8,28,12],[35,8,29,12,"callback"],[35,16,29,20],[35,17,29,21],[35,18,29,22],[36,6,30,8],[36,7,30,9],[36,8,30,10],[37,6,31,8],[37,10,31,12],[37,11,31,13,"listenerSubscriptions"],[37,32,31,34],[37,33,31,35,"push"],[37,37,31,39],[37,38,31,40,"subscription"],[37,50,31,52],[37,51,31,53],[38,6,32,8],[38,12,32,14,"callbackFn"],[38,22,32,24],[38,25,32,27,"callbackFn"],[38,26,32,28],[39,8,32,30,"error"],[40,6,32,36],[40,7,32,37],[40,10,32,40],[40,11,32,41],[40,12,32,42],[40,17,32,47],[41,8,33,12,"error"],[41,13,33,17],[41,17,33,21,"console"],[41,24,33,28],[41,25,33,29,"error"],[41,30,33,34],[41,31,33,35,"error"],[41,36,33,40],[41,37,33,41],[42,6,34,8],[42,7,34,9],[43,6,35,8],[43,10,35,12],[43,11,35,13,"config"],[43,17,35,19],[43,20,35,22],[43,24,35,26],[43,25,35,27,"parseConfig"],[43,36,35,38],[43,37,35,39],[44,8,35,41,"type"],[44,12,35,45],[44,14,35,47],[44,18,35,51],[44,19,35,52,"type"],[44,23,35,56],[45,8,35,58],[45,11,35,61,"config"],[46,6,35,68],[46,7,35,69],[46,8,35,70],[47,6,36,8,"CarPlay_1"],[47,15,36,17],[47,16,36,18,"CarPlay"],[47,23,36,25],[47,24,36,26,"bridge"],[47,30,36,32],[47,31,36,33,"createTemplate"],[47,45,36,47],[47,46,36,48],[47,50,36,52],[47,51,36,53,"id"],[47,53,36,55],[47,55,36,57],[47,59,36,61],[47,60,36,62,"config"],[47,66,36,68],[47,68,36,70,"callbackFn"],[47,78,36,80],[47,79,36,81],[48,4,37,4],[49,4,38,4,"parseConfig"],[49,15,38,15,"parseConfig"],[49,16,38,16,"config"],[49,22,38,22],[49,24,38,24],[50,6,39,8],[50,12,39,14],[51,8,39,16,"actions"],[51,15,39,23],[52,8,39,25],[52,11,39,28,"rest"],[53,6,39,33],[53,7,39,34],[53,10,39,37,"config"],[53,16,39,43],[54,6,40,8],[54,12,40,14,"updatedConfig"],[54,25,40,27],[54,28,40,30,"rest"],[54,32,40,34],[55,6,41,8],[55,12,41,14,"callbackIds"],[55,23,41,25],[55,26,41,28],[55,28,41,30],[56,6,42,8],[56,10,42,12,"actions"],[56,17,42,19],[56,21,42,23],[56,25,42,27],[56,27,42,29],[57,8,43,12,"updatedConfig"],[57,21,43,25],[57,22,43,26,"actions"],[57,29,43,33],[57,32,43,36,"actions"],[57,39,43,43],[57,40,43,44,"map"],[57,43,43,47],[57,44,43,48,"action"],[57,50,43,54],[57,54,43,58],[58,10,44,16],[58,16,44,22,"id"],[58,18,44,24],[58,21,44,27],[58,25,44,31],[58,29,44,35,"action"],[58,35,44,41],[58,38,44,44,"action"],[58,44,44,50],[58,45,44,51,"id"],[58,47,44,53],[58,50,44,56],[58,51,44,57],[58,52,44,58],[58,54,44,60,"Action_1"],[58,62,44,68],[58,63,44,69,"getCallbackActionId"],[58,82,44,88],[58,84,44,90],[58,85,44,91],[59,10,45,16],[59,14,45,20,"id"],[59,16,45,22],[59,20,45,26],[59,24,45,30],[59,26,45,32],[60,12,46,20],[60,19,46,27,"action"],[60,25,46,33],[61,10,47,16],[62,10,48,16,"callbackIds"],[62,21,48,27],[62,22,48,28,"push"],[62,26,48,32],[62,27,48,33,"id"],[62,29,48,35],[62,30,48,36],[63,10,49,16],[63,14,49,20],[63,16,49,22],[63,25,49,31],[63,29,49,35,"action"],[63,35,49,41],[63,36,49,42],[63,38,49,44],[64,12,50,20],[64,19,50,27,"action"],[64,25,50,33],[65,10,51,16],[66,10,52,16],[66,16,52,22],[67,12,52,24,"onPress"],[67,19,52,31],[68,12,52,33],[68,15,52,36,"actionRest"],[69,10,52,47],[69,11,52,48],[69,14,52,51,"action"],[69,20,52,57],[70,10,53,16],[70,14,53,20],[70,15,53,21,"pressableCallbacks"],[70,33,53,39],[70,34,53,40,"id"],[70,36,53,42],[70,37,53,43],[70,40,53,46,"onPress"],[70,47,53,53],[71,10,54,16],[71,17,54,23],[72,12,54,25],[72,15,54,28,"actionRest"],[72,25,54,38],[73,12,54,40,"id"],[74,10,54,43],[74,11,54,44],[75,8,55,12],[75,9,55,13],[75,10,55,14],[76,6,56,8],[77,6,57,8],[77,10,57,12],[77,11,57,13,"pressableCallbacks"],[77,29,57,31],[77,32,57,34,"Object"],[77,38,57,40],[77,39,57,41,"fromEntries"],[77,50,57,52],[77,51,57,53,"Object"],[77,57,57,59],[77,58,57,60,"entries"],[77,65,57,67],[77,66,57,68],[77,70,57,72],[77,71,57,73,"pressableCallbacks"],[77,89,57,91],[77,90,57,92],[77,91,57,93,"filter"],[77,97,57,99],[77,98,57,100],[77,99,57,101],[77,100,57,102,"id"],[77,102,57,104],[77,103,57,105],[77,108,57,110,"callbackIds"],[77,119,57,121],[77,120,57,122,"includes"],[77,128,57,130],[77,129,57,131,"id"],[77,131,57,133],[77,132,57,134],[77,133,57,135],[77,134,57,136],[78,6,58,8],[78,13,58,15],[78,18,58,20],[78,19,58,21,"parseConfig"],[78,30,58,32],[78,31,58,33,"updatedConfig"],[78,44,58,46],[78,45,58,47],[79,4,59,4],[80,4,60,4],[80,8,60,8,"eventMap"],[80,16,60,16,"eventMap"],[80,17,60,16],[80,19,60,19],[81,6,61,8],[81,13,61,15],[82,8,62,12,"backButtonPressed"],[82,25,62,29],[82,27,62,31],[82,48,62,52],[83,8,63,12,"didSignIn"],[83,17,63,21],[83,19,63,23],[84,6,64,8],[84,7,64,9],[85,4,65,4],[86,2,66,0],[87,2,67,0,"exports"],[87,9,67,7],[87,10,67,8,"SignInTemplate"],[87,24,67,22],[87,27,67,25,"SignInTemplate"],[87,41,67,39],[88,0,67,40],[88,3]],"functionMap":{"names":["<global>","<anonymous>","SignInTemplate","get__type","constructor","CarPlay_1.CarPlay.emitter.addListener$argument_1","callbackFn","parseConfig","actions.map$argument_0","Object.entries.filter$argument_0","get__eventMap"],"mappings":"AAA;CCO;CDG;AEC;ICE;KDE;IEE;oFCG;SDS;2BEE;SFE;KFG;IKC;gDCK;aDY;oGEE,kCF;KLE;IQC;KRK;CFC"},"hasCjsExports":true},"type":"js/module"}]}