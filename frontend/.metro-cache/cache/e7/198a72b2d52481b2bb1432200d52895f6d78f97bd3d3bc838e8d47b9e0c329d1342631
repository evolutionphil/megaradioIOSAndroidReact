{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../CarPlay","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":37,"index":85}}],"key":"t1ys9xS7MLW+xAMpfaP6HAhIUJk=","exportNames":["*"],"imports":1}},{"name":"./Template","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":81,"index":218}}],"key":"s2nBtNSrTz2ky8obgrCSJu6P0Z0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SearchTemplate\", {\n    enumerable: true,\n    get: function () {\n      return SearchTemplate;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[3]);\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[4]);\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _reactNative = require(_dependencyMap[5]);\n  var _CarPlay = require(_dependencyMap[6]);\n  var _Template2 = require(_dependencyMap[7]);\n  var SearchTemplate = /*#__PURE__*/function (_Template) {\n    function SearchTemplate(config) {\n      var _this;\n      (0, _classCallCheck.default)(this, SearchTemplate);\n      // parse out any images in the results\n\n      _this = (0, _callSuper.default)(this, SearchTemplate, [config]);\n      _this.config = config;\n      var subscription = _CarPlay.CarPlay.emitter.addListener('updatedSearchText', /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* (e) {\n          if (config.onSearch && e.templateId === _this.id) {\n            var result = yield config.onSearch(e.searchText).catch(() => null);\n            if (result == null) {\n              return;\n            }\n            var parsedResults = result.map(item => ({\n              ...item,\n              image: item.image ? _reactNative.Image.resolveAssetSource(item.image) : undefined\n            }));\n            {\n              _CarPlay.CarPlay.bridge.reactToUpdatedSearchText(e.templateId, parsedResults);\n            }\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n      _this.listenerSubscriptions.push(subscription);\n      subscription = _CarPlay.CarPlay.emitter.addListener('selectedResult', e => {\n        if (config.onItemSelect && e.templateId === _this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => _CarPlay.CarPlay.bridge.reactToSelectedResult(true));\n        }\n      });\n      _this.listenerSubscriptions.push(subscription);\n      subscription = _CarPlay.CarPlay.emitter.addListener('didSelectListItem', e => {\n        if (config.onItemSelect && e.templateId === _this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => {\n            {\n              _CarPlay.CarPlay.bridge.reactToSelectedResult(true);\n            }\n          });\n        }\n      });\n      _this.listenerSubscriptions.push(subscription);\n      return _this;\n    }\n    (0, _inherits.default)(SearchTemplate, _Template);\n    return (0, _createClass.default)(SearchTemplate, [{\n      key: \"type\",\n      get: function () {\n        return 'search';\n      }\n    }, {\n      key: \"eventMap\",\n      get: function () {\n        return {\n          searchButtonPressed: 'onSearchButtonPressed',\n          backButtonPressed: 'onBackButtonPressed'\n        };\n      }\n    }]);\n  }(_Template2.Template);\n});","lineCount":94,"map":[[12,2,74,0,"Object"],[12,8,74,0],[12,9,74,0,"defineProperty"],[12,23,74,0],[12,24,74,0,"exports"],[12,31,74,0],[13,4,74,0,"enumerable"],[13,14,74,0],[14,4,74,0,"get"],[14,7,74,0],[14,18,74,0,"get"],[14,19,74,0],[15,6,74,0],[15,13,74,0,"SearchTemplate"],[15,27,74,0],[16,4,74,0],[17,2,74,0],[18,2,147,1],[18,6,147,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,147,1],[18,45,147,1,"require"],[18,52,147,1],[18,53,147,1,"_dependencyMap"],[18,67,147,1],[19,2,147,1],[19,6,147,1,"_asyncToGenerator"],[19,23,147,1],[19,26,147,1,"_interopDefault"],[19,41,147,1],[19,42,147,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,147,1],[20,2,147,1],[20,6,147,1,"_babelRuntimeHelpersClassCallCheck"],[20,40,147,1],[20,43,147,1,"require"],[20,50,147,1],[20,51,147,1,"_dependencyMap"],[20,65,147,1],[21,2,147,1],[21,6,147,1,"_classCallCheck"],[21,21,147,1],[21,24,147,1,"_interopDefault"],[21,39,147,1],[21,40,147,1,"_babelRuntimeHelpersClassCallCheck"],[21,74,147,1],[22,2,147,1],[22,6,147,1,"_babelRuntimeHelpersCreateClass"],[22,37,147,1],[22,40,147,1,"require"],[22,47,147,1],[22,48,147,1,"_dependencyMap"],[22,62,147,1],[23,2,147,1],[23,6,147,1,"_createClass"],[23,18,147,1],[23,21,147,1,"_interopDefault"],[23,36,147,1],[23,37,147,1,"_babelRuntimeHelpersCreateClass"],[23,68,147,1],[24,2,147,1],[24,6,147,1,"_babelRuntimeHelpersCallSuper"],[24,35,147,1],[24,38,147,1,"require"],[24,45,147,1],[24,46,147,1,"_dependencyMap"],[24,60,147,1],[25,2,147,1],[25,6,147,1,"_callSuper"],[25,16,147,1],[25,19,147,1,"_interopDefault"],[25,34,147,1],[25,35,147,1,"_babelRuntimeHelpersCallSuper"],[25,64,147,1],[26,2,147,1],[26,6,147,1,"_babelRuntimeHelpersInherits"],[26,34,147,1],[26,37,147,1,"require"],[26,44,147,1],[26,45,147,1,"_dependencyMap"],[26,59,147,1],[27,2,147,1],[27,6,147,1,"_inherits"],[27,15,147,1],[27,18,147,1,"_interopDefault"],[27,33,147,1],[27,34,147,1,"_babelRuntimeHelpersInherits"],[27,62,147,1],[28,2,1,0],[28,6,1,0,"_reactNative"],[28,18,1,0],[28,21,1,0,"require"],[28,28,1,0],[28,29,1,0,"_dependencyMap"],[28,43,1,0],[29,2,2,0],[29,6,2,0,"_CarPlay"],[29,14,2,0],[29,17,2,0,"require"],[29,24,2,0],[29,25,2,0,"_dependencyMap"],[29,39,2,0],[30,2,4,0],[30,6,4,0,"_Template2"],[30,16,4,0],[30,19,4,0,"require"],[30,26,4,0],[30,27,4,0,"_dependencyMap"],[30,41,4,0],[31,2,4,81],[31,6,74,13,"SearchTemplate"],[31,20,74,27],[31,46,74,27,"_Template"],[31,55,74,27],[32,4,86,2],[32,13,86,2,"SearchTemplate"],[32,28,86,21,"config"],[32,34,86,49],[32,36,86,51],[33,6,86,51],[33,10,86,51,"_this"],[33,15,86,51],[34,6,86,51],[34,10,86,51,"_classCallCheck"],[34,25,86,51],[34,26,86,51,"default"],[34,33,86,51],[34,41,86,51,"SearchTemplate"],[34,55,86,51],[35,6,87,4],[37,6,89,4,"_this"],[37,11,89,4],[37,18,89,4,"_callSuper"],[37,28,89,4],[37,29,89,4,"default"],[37,36,89,4],[37,44,89,4,"SearchTemplate"],[37,58,89,4],[37,61,89,10,"config"],[37,67,89,16],[38,6,89,18,"_this"],[38,11,89,18],[38,12,86,21,"config"],[38,18,86,49],[38,21,86,21,"config"],[38,27,86,49],[39,6,91,4],[39,10,91,8,"subscription"],[39,22,91,20],[39,25,91,23,"CarPlay"],[39,33,91,30],[39,34,91,30,"CarPlay"],[39,41,91,30],[39,42,91,31,"emitter"],[39,49,91,38],[39,50,91,39,"addListener"],[39,61,91,50],[39,62,92,6],[39,81,92,25],[40,8,92,25],[40,12,92,25,"_ref"],[40,16,92,25],[40,23,92,25,"_asyncToGenerator"],[40,40,92,25],[40,41,92,25,"default"],[40,48,92,25],[40,50,93,6],[40,61,93,13,"e"],[40,62,93,58],[40,64,93,63],[41,10,94,8],[41,14,94,12,"config"],[41,20,94,18],[41,21,94,19,"onSearch"],[41,29,94,27],[41,33,94,31,"e"],[41,34,94,32],[41,35,94,33,"templateId"],[41,45,94,43],[41,50,94,48,"_this"],[41,55,94,48],[41,56,94,53,"id"],[41,58,94,55],[41,60,94,57],[42,12,95,10],[42,16,95,16,"result"],[42,22,95,22],[42,31,95,31,"config"],[42,37,95,37],[42,38,95,38,"onSearch"],[42,46,95,46],[42,47,95,47,"e"],[42,48,95,48],[42,49,95,49,"searchText"],[42,59,95,59],[42,60,95,60],[42,61,95,61,"catch"],[42,66,95,66],[42,67,95,67],[42,73,95,73],[42,77,95,77],[42,78,95,78],[43,12,96,10],[43,16,96,14,"result"],[43,22,96,20],[43,26,96,24],[43,30,96,28],[43,32,96,30],[44,14,97,12],[45,12,98,10],[46,12,99,10],[46,16,99,16,"parsedResults"],[46,29,99,29],[46,32,99,32,"result"],[46,38,99,38],[46,39,99,39,"map"],[46,42,99,42],[46,43,99,43,"item"],[46,47,99,47],[46,52,99,52],[47,14,100,12],[47,17,100,15,"item"],[47,21,100,19],[48,14,101,12,"image"],[48,19,101,17],[48,21,101,19,"item"],[48,25,101,23],[48,26,101,24,"image"],[48,31,101,29],[48,34,101,32,"Image"],[48,46,101,37],[48,47,101,37,"Image"],[48,52,101,37],[48,53,101,38,"resolveAssetSource"],[48,71,101,56],[48,72,101,57,"item"],[48,76,101,61],[48,77,101,62,"image"],[48,82,101,67],[48,83,101,68],[48,86,101,71,"undefined"],[49,12,102,10],[49,13,102,11],[49,14,102,12],[49,15,102,13],[50,12,104,37],[51,14,105,12,"CarPlay"],[51,22,105,19],[51,23,105,19,"CarPlay"],[51,30,105,19],[51,31,105,20,"bridge"],[51,37,105,26],[51,38,105,27,"reactToUpdatedSearchText"],[51,62,105,51],[51,63,105,52,"e"],[51,64,105,53],[51,65,105,54,"templateId"],[51,75,105,64],[51,77,105,66,"parsedResults"],[51,90,105,79],[51,91,105,80],[52,12,106,10],[53,10,113,8],[54,8,114,6],[54,9,114,7],[55,8,114,7],[55,25,114,7,"_x"],[55,27,114,7],[56,10,114,7],[56,17,114,7,"_ref"],[56,21,114,7],[56,22,114,7,"apply"],[56,27,114,7],[56,34,114,7,"arguments"],[56,43,114,7],[57,8,114,7],[58,6,114,7],[58,9,115,4],[58,10,115,5],[59,6,117,4,"_this"],[59,11,117,4],[59,12,117,9,"listenerSubscriptions"],[59,33,117,30],[59,34,117,31,"push"],[59,38,117,35],[59,39,117,36,"subscription"],[59,51,117,48],[59,52,117,49],[60,6,119,4,"subscription"],[60,18,119,16],[60,21,119,19,"CarPlay"],[60,29,119,26],[60,30,119,26,"CarPlay"],[60,37,119,26],[60,38,119,27,"emitter"],[60,45,119,34],[60,46,119,35,"addListener"],[60,57,119,46],[60,58,120,6],[60,74,120,22],[60,76,121,7,"e"],[60,77,121,59],[60,81,121,64],[61,8,122,8],[61,12,122,12,"config"],[61,18,122,18],[61,19,122,19,"onItemSelect"],[61,31,122,31],[61,35,122,35,"e"],[61,36,122,36],[61,37,122,37,"templateId"],[61,47,122,47],[61,52,122,52,"_this"],[61,57,122,52],[61,58,122,57,"id"],[61,60,122,59],[61,62,122,61],[62,10,123,10],[62,15,123,15,"Promise"],[62,22,123,22],[62,23,123,23,"resolve"],[62,30,123,30],[62,31,123,31,"config"],[62,37,123,37],[62,38,123,38,"onItemSelect"],[62,50,123,50],[62,51,123,51,"e"],[62,52,123,52],[62,53,123,53],[62,54,123,54],[62,55,123,55,"then"],[62,59,123,59],[62,60,124,12],[62,66,124,43,"CarPlay"],[62,74,124,50],[62,75,124,50,"CarPlay"],[62,82,124,50],[62,83,124,51,"bridge"],[62,89,124,57],[62,90,124,58,"reactToSelectedResult"],[62,111,124,79],[62,112,124,80],[62,116,124,84],[62,117,125,10],[62,118,125,11],[63,8,126,8],[64,6,127,6],[64,7,128,4],[64,8,128,5],[65,6,130,4,"_this"],[65,11,130,4],[65,12,130,9,"listenerSubscriptions"],[65,33,130,30],[65,34,130,31,"push"],[65,38,130,35],[65,39,130,36,"subscription"],[65,51,130,48],[65,52,130,49],[66,6,132,4,"subscription"],[66,18,132,16],[66,21,132,19,"CarPlay"],[66,29,132,26],[66,30,132,26,"CarPlay"],[66,37,132,26],[66,38,132,27,"emitter"],[66,45,132,34],[66,46,132,35,"addListener"],[66,57,132,46],[66,58,133,6],[66,77,133,25],[66,79,134,7,"e"],[66,80,134,59],[66,84,134,64],[67,8,135,8],[67,12,135,12,"config"],[67,18,135,18],[67,19,135,19,"onItemSelect"],[67,31,135,31],[67,35,135,35,"e"],[67,36,135,36],[67,37,135,37,"templateId"],[67,47,135,47],[67,52,135,52,"_this"],[67,57,135,52],[67,58,135,57,"id"],[67,60,135,59],[67,62,135,61],[68,10,136,10],[68,15,136,15,"Promise"],[68,22,136,22],[68,23,136,23,"resolve"],[68,30,136,30],[68,31,136,31,"config"],[68,37,136,37],[68,38,136,38,"onItemSelect"],[68,50,136,50],[68,51,136,51,"e"],[68,52,136,52],[68,53,136,53],[68,54,136,54],[68,55,136,55,"then"],[68,59,136,59],[68,60,136,60],[68,66,136,66],[69,12,137,39],[70,14,138,14,"CarPlay"],[70,22,138,21],[70,23,138,21,"CarPlay"],[70,30,138,21],[70,31,138,22,"bridge"],[70,37,138,28],[70,38,138,29,"reactToSelectedResult"],[70,59,138,50],[70,60,138,51],[70,64,138,55],[70,65,138,56],[71,12,139,12],[72,10,140,10],[72,11,140,11],[72,12,140,12],[73,8,141,8],[74,6,142,6],[74,7,143,4],[74,8,143,5],[75,6,145,4,"_this"],[75,11,145,4],[75,12,145,9,"listenerSubscriptions"],[75,33,145,30],[75,34,145,31,"push"],[75,38,145,35],[75,39,145,36,"subscription"],[75,51,145,48],[75,52,145,49],[76,6,145,50],[76,13,145,50,"_this"],[76,18,145,50],[77,4,146,2],[78,4,146,3],[78,8,146,3,"_inherits"],[78,17,146,3],[78,18,146,3,"default"],[78,25,146,3],[78,27,146,3,"SearchTemplate"],[78,41,146,3],[78,43,146,3,"_Template"],[78,52,146,3],[79,4,146,3],[79,15,146,3,"_createClass"],[79,27,146,3],[79,28,146,3,"default"],[79,35,146,3],[79,37,146,3,"SearchTemplate"],[79,51,146,3],[80,6,146,3,"key"],[80,9,146,3],[81,6,146,3,"get"],[81,9,146,3],[81,11,75,2],[81,20,75,2,"get"],[81,21,75,2],[81,23,75,28],[82,8,76,4],[82,15,76,11],[82,23,76,19],[83,6,77,2],[84,4,77,3],[85,6,77,3,"key"],[85,9,77,3],[86,6,77,3,"get"],[86,9,77,3],[86,11,79,2],[86,20,79,2,"get"],[86,21,79,2],[86,23,79,17],[87,8,80,4],[87,15,80,11],[88,10,81,6,"searchButtonPressed"],[88,29,81,25],[88,31,81,27],[88,54,81,50],[89,10,82,6,"backButtonPressed"],[89,27,82,23],[89,29,82,25],[90,8,83,4],[90,9,83,5],[91,6,84,2],[92,4,84,3],[93,2,84,3],[93,4,74,36,"Template"],[93,14,74,44],[93,15,74,44,"Template"],[93,23,74,44],[94,0,74,44],[94,3]],"functionMap":{"names":["<global>","SearchTemplate","get__type","get__eventMap","constructor","CarPlay.emitter.addListener$argument_1","config.onSearch._catch$argument_0","result.map$argument_0","Promise.resolve.then$argument_0"],"mappings":"AAA;OCyE;ECC;GDE;EEE;GFK;EGE;MCO;mECE,UD;2CEI;YFG;ODY;MCO;YGG,yEH;ODG;MCO;4DGE;WHI;ODE;GHI;CDC"},"hasCjsExports":false},"type":"js/module"}]}