{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/superPropGet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"b4Lel0pEiTM8mvZZX/d05uR+OmU=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"../../CarPlay","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"8heaRJDIw3Du3BxniBHPuyB9Lso=","exportNames":["*"],"imports":1}},{"name":"../../interfaces/Action","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":100,"index":141}}],"key":"LXPdEXwofSMMu1deyhE5Tn39XyA=","exportNames":["*"],"imports":1}},{"name":"../Template","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":142},"end":{"line":3,"column":55,"index":197}}],"key":"Eit1J/QO+8MQGyyhioD9tclyAds=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":198},"end":{"line":4,"column":61,"index":259}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _excluded = [\"actions\"],\n    _excluded2 = [\"onPress\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"MessageTemplate\", {\n    enumerable: true,\n    get: function () {\n      return MessageTemplate;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[1]);\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[2]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[3]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[4]);\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersSuperPropGet = require(_dependencyMap[5]);\n  var _superPropGet = _interopDefault(_babelRuntimeHelpersSuperPropGet);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[6]);\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _CarPlay = require(_dependencyMap[7]);\n  var _interfacesAction = require(_dependencyMap[8]);\n  var _Template2 = require(_dependencyMap[9]);\n  require(_dependencyMap[10]);\n  var MessageTemplate = /*#__PURE__*/function (_Template) {\n    function MessageTemplate(config) {\n      var _this;\n      (0, _classCallCheck.default)(this, MessageTemplate);\n      _this = (0, _callSuper.default)(this, MessageTemplate, [config]);\n      _this.config = config;\n      _this.pressableCallbacks = {};\n      var subscription = _CarPlay.CarPlay.emitter.addListener('buttonPressed', _ref => {\n        var buttonId = _ref.buttonId,\n          templateId = _ref.templateId;\n        if (templateId !== _this.id) {\n          return;\n        }\n        var callback = _this.pressableCallbacks[buttonId];\n        if (callback == null || typeof callback !== 'function') {\n          return;\n        }\n        callback();\n      });\n      _this.listenerSubscriptions.push(subscription);\n      var callbackFn = undefined;\n      _this.config = _this.parseConfig({\n        type: _this.type,\n        ...config\n      });\n      _CarPlay.CarPlay.bridge.createTemplate(_this.id, _this.config, callbackFn);\n      return _this;\n    }\n    (0, _inherits.default)(MessageTemplate, _Template);\n    return (0, _createClass.default)(MessageTemplate, [{\n      key: \"type\",\n      get: function () {\n        return 'message';\n      }\n    }, {\n      key: \"parseConfig\",\n      value: function parseConfig(config) {\n        var actions = config.actions,\n          rest = (0, _objectWithoutProperties.default)(config, _excluded);\n        var updatedConfig = rest;\n        var callbackIds = [];\n        if (actions != null) {\n          updatedConfig.actions = actions.map(action => {\n            var id = 'id' in action ? action.id : (0, _interfacesAction.getCallbackActionId)();\n            if (id == null) {\n              return action;\n            }\n            callbackIds.push(id);\n            if (!('onPress' in action)) {\n              return action;\n            }\n            var onPress = action.onPress,\n              actionRest = (0, _objectWithoutProperties.default)(action, _excluded2);\n            this.pressableCallbacks[id] = onPress;\n            return {\n              ...actionRest,\n              id\n            };\n          });\n        }\n        this.pressableCallbacks = Object.fromEntries(Object.entries(this.pressableCallbacks).filter(_ref2 => {\n          var _ref3 = (0, _slicedToArray.default)(_ref2, 1),\n            id = _ref3[0];\n          return callbackIds.includes(id);\n        }));\n        return (0, _superPropGet.default)(MessageTemplate, \"parseConfig\", this, 3)([updatedConfig]);\n      }\n    }]);\n  }(_Template2.Template);\n});","lineCount":107,"map":[[14,2,16,0,"Object"],[14,8,16,0],[14,9,16,0,"defineProperty"],[14,23,16,0],[14,24,16,0,"exports"],[14,31,16,0],[15,4,16,0,"enumerable"],[15,14,16,0],[16,4,16,0,"get"],[16,7,16,0],[16,18,16,0,"get"],[16,19,16,0],[17,6,16,0],[17,13,16,0,"MessageTemplate"],[17,28,16,0],[18,4,16,0],[19,2,16,0],[20,2,86,1],[20,6,86,1,"_babelRuntimeHelpersSlicedToArray"],[20,39,86,1],[20,42,86,1,"require"],[20,49,86,1],[20,50,86,1,"_dependencyMap"],[20,64,86,1],[21,2,86,1],[21,6,86,1,"_slicedToArray"],[21,20,86,1],[21,23,86,1,"_interopDefault"],[21,38,86,1],[21,39,86,1,"_babelRuntimeHelpersSlicedToArray"],[21,72,86,1],[22,2,86,1],[22,6,86,1,"_babelRuntimeHelpersObjectWithoutProperties"],[22,49,86,1],[22,52,86,1,"require"],[22,59,86,1],[22,60,86,1,"_dependencyMap"],[22,74,86,1],[23,2,86,1],[23,6,86,1,"_objectWithoutProperties"],[23,30,86,1],[23,33,86,1,"_interopDefault"],[23,48,86,1],[23,49,86,1,"_babelRuntimeHelpersObjectWithoutProperties"],[23,92,86,1],[24,2,86,1],[24,6,86,1,"_babelRuntimeHelpersClassCallCheck"],[24,40,86,1],[24,43,86,1,"require"],[24,50,86,1],[24,51,86,1,"_dependencyMap"],[24,65,86,1],[25,2,86,1],[25,6,86,1,"_classCallCheck"],[25,21,86,1],[25,24,86,1,"_interopDefault"],[25,39,86,1],[25,40,86,1,"_babelRuntimeHelpersClassCallCheck"],[25,74,86,1],[26,2,86,1],[26,6,86,1,"_babelRuntimeHelpersCreateClass"],[26,37,86,1],[26,40,86,1,"require"],[26,47,86,1],[26,48,86,1,"_dependencyMap"],[26,62,86,1],[27,2,86,1],[27,6,86,1,"_createClass"],[27,18,86,1],[27,21,86,1,"_interopDefault"],[27,36,86,1],[27,37,86,1,"_babelRuntimeHelpersCreateClass"],[27,68,86,1],[28,2,86,1],[28,6,86,1,"_babelRuntimeHelpersCallSuper"],[28,35,86,1],[28,38,86,1,"require"],[28,45,86,1],[28,46,86,1,"_dependencyMap"],[28,60,86,1],[29,2,86,1],[29,6,86,1,"_callSuper"],[29,16,86,1],[29,19,86,1,"_interopDefault"],[29,34,86,1],[29,35,86,1,"_babelRuntimeHelpersCallSuper"],[29,64,86,1],[30,2,86,1],[30,6,86,1,"_babelRuntimeHelpersSuperPropGet"],[30,38,86,1],[30,41,86,1,"require"],[30,48,86,1],[30,49,86,1,"_dependencyMap"],[30,63,86,1],[31,2,86,1],[31,6,86,1,"_superPropGet"],[31,19,86,1],[31,22,86,1,"_interopDefault"],[31,37,86,1],[31,38,86,1,"_babelRuntimeHelpersSuperPropGet"],[31,70,86,1],[32,2,86,1],[32,6,86,1,"_babelRuntimeHelpersInherits"],[32,34,86,1],[32,37,86,1,"require"],[32,44,86,1],[32,45,86,1,"_dependencyMap"],[32,59,86,1],[33,2,86,1],[33,6,86,1,"_inherits"],[33,15,86,1],[33,18,86,1,"_interopDefault"],[33,33,86,1],[33,34,86,1,"_babelRuntimeHelpersInherits"],[33,62,86,1],[34,2,1,0],[34,6,1,0,"_CarPlay"],[34,14,1,0],[34,17,1,0,"require"],[34,24,1,0],[34,25,1,0,"_dependencyMap"],[34,39,1,0],[35,2,2,0],[35,6,2,0,"_interfacesAction"],[35,23,2,0],[35,26,2,0,"require"],[35,33,2,0],[35,34,2,0,"_dependencyMap"],[35,48,2,0],[36,2,3,0],[36,6,3,0,"_Template2"],[36,16,3,0],[36,19,3,0,"require"],[36,26,3,0],[36,27,3,0,"_dependencyMap"],[36,41,3,0],[37,2,4,0,"require"],[37,9,4,0],[37,10,4,0,"_dependencyMap"],[37,24,4,0],[38,2,4,61],[38,6,16,13,"MessageTemplate"],[38,21,16,28],[38,47,16,28,"_Template"],[38,56,16,28],[39,4,25,2],[39,13,25,2,"MessageTemplate"],[39,29,25,21,"config"],[39,35,25,50],[39,37,25,52],[40,6,25,52],[40,10,25,52,"_this"],[40,15,25,52],[41,6,25,52],[41,10,25,52,"_classCallCheck"],[41,25,25,52],[41,26,25,52,"default"],[41,33,25,52],[41,41,25,52,"MessageTemplate"],[41,56,25,52],[42,6,26,4,"_this"],[42,11,26,4],[42,18,26,4,"_callSuper"],[42,28,26,4],[42,29,26,4,"default"],[42,36,26,4],[42,44,26,4,"MessageTemplate"],[42,59,26,4],[42,62,26,10,"config"],[42,68,26,16],[43,6,26,18,"_this"],[43,11,26,18],[43,12,25,21,"config"],[43,18,25,50],[43,21,25,21,"config"],[43,27,25,50],[44,6,25,50,"_this"],[44,11,25,50],[44,12,17,10,"pressableCallbacks"],[44,30,17,28],[44,33,19,6],[44,34,19,7],[44,35,19,8],[45,6,28,4],[45,10,28,10,"subscription"],[45,22,28,22],[45,25,28,25,"CarPlay"],[45,33,28,32],[45,34,28,32,"CarPlay"],[45,41,28,32],[45,42,28,33,"emitter"],[45,49,28,40],[45,50,28,41,"addListener"],[45,61,28,52],[45,62,29,6],[45,77,29,21],[45,79,30,6,"_ref"],[45,83,30,6],[45,87,30,79],[46,8,30,79],[46,12,30,9,"buttonId"],[46,20,30,17],[46,23,30,17,"_ref"],[46,27,30,17],[46,28,30,9,"buttonId"],[46,36,30,17],[47,10,30,19,"templateId"],[47,20,30,29],[47,23,30,29,"_ref"],[47,27,30,29],[47,28,30,19,"templateId"],[47,38,30,29],[48,8,31,8],[48,12,31,12,"templateId"],[48,22,31,22],[48,27,31,27,"_this"],[48,32,31,27],[48,33,31,32,"id"],[48,35,31,34],[48,37,31,36],[49,10,32,10],[50,8,33,8],[51,8,35,8],[51,12,35,14,"callback"],[51,20,35,22],[51,23,35,25,"_this"],[51,28,35,25],[51,29,35,30,"pressableCallbacks"],[51,47,35,48],[51,48,35,49,"buttonId"],[51,56,35,57],[51,57,35,58],[52,8,36,8],[52,12,36,12,"callback"],[52,20,36,20],[52,24,36,24],[52,28,36,28],[52,32,36,32],[52,39,36,39,"callback"],[52,47,36,47],[52,52,36,52],[52,62,36,62],[52,64,36,64],[53,10,37,10],[54,8,38,8],[55,8,39,8,"callback"],[55,16,39,16],[55,17,39,17],[55,18,39,18],[56,6,40,6],[56,7,41,4],[56,8,41,5],[57,6,43,4,"_this"],[57,11,43,4],[57,12,43,9,"listenerSubscriptions"],[57,33,43,30],[57,34,43,31,"push"],[57,38,43,35],[57,39,43,36,"subscription"],[57,51,43,48],[57,52,43,49],[58,6,45,4],[58,10,45,10,"callbackFn"],[58,20,45,20],[58,23,45,20,"undefined"],[58,32,49,6],[59,6,51,4,"_this"],[59,11,51,4],[59,12,51,9,"config"],[59,18,51,15],[59,21,51,18,"_this"],[59,26,51,18],[59,27,51,23,"parseConfig"],[59,38,51,34],[59,39,51,35],[60,8,51,37,"type"],[60,12,51,41],[60,14,51,43,"_this"],[60,19,51,43],[60,20,51,48,"type"],[60,24,51,52],[61,8,51,54],[61,11,51,57,"config"],[62,6,51,64],[62,7,51,65],[62,8,51,66],[63,6,52,4,"CarPlay"],[63,14,52,11],[63,15,52,11,"CarPlay"],[63,22,52,11],[63,23,52,12,"bridge"],[63,29,52,18],[63,30,52,19,"createTemplate"],[63,44,52,33],[63,45,52,34,"_this"],[63,50,52,34],[63,51,52,39,"id"],[63,53,52,41],[63,55,52,43,"_this"],[63,60,52,43],[63,61,52,48,"config"],[63,67,52,54],[63,69,52,56,"callbackFn"],[63,79,52,66],[63,80,52,67],[64,6,52,68],[64,13,52,68,"_this"],[64,18,52,68],[65,4,53,2],[66,4,53,3],[66,8,53,3,"_inherits"],[66,17,53,3],[66,18,53,3,"default"],[66,25,53,3],[66,27,53,3,"MessageTemplate"],[66,42,53,3],[66,44,53,3,"_Template"],[66,53,53,3],[67,4,53,3],[67,15,53,3,"_createClass"],[67,27,53,3],[67,28,53,3,"default"],[67,35,53,3],[67,37,53,3,"MessageTemplate"],[67,52,53,3],[68,6,53,3,"key"],[68,9,53,3],[69,6,53,3,"get"],[69,9,53,3],[69,11,21,2],[69,20,21,2,"get"],[69,21,21,2],[69,23,21,28],[70,8,22,4],[70,15,22,11],[70,24,22,20],[71,6,23,2],[72,4,23,3],[73,6,23,3,"key"],[73,9,23,3],[74,6,23,3,"value"],[74,11,23,3],[74,13,55,2],[74,22,55,9,"parseConfig"],[74,33,55,20,"parseConfig"],[74,34,55,21,"config"],[74,40,55,32],[74,42,55,34],[75,8,56,4],[75,12,56,12,"actions"],[75,19,56,19],[75,22,57,6,"config"],[75,28,57,12],[75,29,56,12,"actions"],[75,36,56,19],[76,10,56,24,"rest"],[76,14,56,28],[76,21,56,28,"_objectWithoutProperties"],[76,45,56,28],[76,46,56,28,"default"],[76,53,56,28],[76,55,57,6,"config"],[76,61,57,12],[76,63,57,12,"_excluded"],[76,72,57,12],[77,8,58,4],[77,12,58,10,"updatedConfig"],[77,25,58,93],[77,28,59,6,"rest"],[77,32,59,10],[78,8,60,4],[78,12,60,10,"callbackIds"],[78,23,60,36],[78,26,60,39],[78,28,60,41],[79,8,62,4],[79,12,62,8,"actions"],[79,19,62,15],[79,23,62,19],[79,27,62,23],[79,29,62,25],[80,10,63,6,"updatedConfig"],[80,23,63,19],[80,24,63,20,"actions"],[80,31,63,27],[80,34,63,30,"actions"],[80,41,63,37],[80,42,63,38,"map"],[80,45,63,41],[80,46,63,42,"action"],[80,52,63,48],[80,56,63,52],[81,12,64,8],[81,16,64,14,"id"],[81,18,64,16],[81,21,64,19],[81,25,64,23],[81,29,64,27,"action"],[81,35,64,33],[81,38,64,36,"action"],[81,44,64,42],[81,45,64,43,"id"],[81,47,64,45],[81,50,64,48],[81,54,64,48,"getCallbackActionId"],[81,71,64,67],[81,72,64,67,"getCallbackActionId"],[81,91,64,67],[81,93,64,68],[81,94,64,69],[82,12,65,8],[82,16,65,12,"id"],[82,18,65,14],[82,22,65,18],[82,26,65,22],[82,28,65,24],[83,14,66,10],[83,21,66,17,"action"],[83,27,66,23],[84,12,67,8],[85,12,69,8,"callbackIds"],[85,23,69,19],[85,24,69,20,"push"],[85,28,69,24],[85,29,69,25,"id"],[85,31,69,27],[85,32,69,28],[86,12,71,8],[86,16,71,12],[86,18,71,14],[86,27,71,23],[86,31,71,27,"action"],[86,37,71,33],[86,38,71,34],[86,40,71,36],[87,14,72,10],[87,21,72,17,"action"],[87,27,72,23],[88,12,73,8],[89,12,74,8],[89,16,74,16,"onPress"],[89,23,74,23],[89,26,74,43,"action"],[89,32,74,49],[89,33,74,16,"onPress"],[89,40,74,23],[90,14,74,28,"actionRest"],[90,24,74,38],[90,31,74,38,"_objectWithoutProperties"],[90,55,74,38],[90,56,74,38,"default"],[90,63,74,38],[90,65,74,43,"action"],[90,71,74,49],[90,73,74,49,"_excluded2"],[90,83,74,49],[91,12,75,8],[91,16,75,12],[91,17,75,13,"pressableCallbacks"],[91,35,75,31],[91,36,75,32,"id"],[91,38,75,34],[91,39,75,35],[91,42,75,38,"onPress"],[91,49,75,45],[92,12,76,8],[92,19,76,15],[93,14,76,17],[93,17,76,20,"actionRest"],[93,27,76,30],[94,14,76,32,"id"],[95,12,76,35],[95,13,76,36],[96,10,77,6],[96,11,77,7],[96,12,77,8],[97,8,78,4],[98,8,80,4],[98,12,80,8],[98,13,80,9,"pressableCallbacks"],[98,31,80,27],[98,34,80,30,"Object"],[98,40,80,36],[98,41,80,37,"fromEntries"],[98,52,80,48],[98,53,81,6,"Object"],[98,59,81,12],[98,60,81,13,"entries"],[98,67,81,20],[98,68,81,21],[98,72,81,25],[98,73,81,26,"pressableCallbacks"],[98,91,81,44],[98,92,81,45],[98,93,81,46,"filter"],[98,99,81,52],[98,100,81,53,"_ref2"],[98,105,81,53],[99,10,81,53],[99,14,81,53,"_ref3"],[99,19,81,53],[99,26,81,53,"_slicedToArray"],[99,40,81,53],[99,41,81,53,"default"],[99,48,81,53],[99,50,81,53,"_ref2"],[99,55,81,53],[100,12,81,55,"id"],[100,14,81,57],[100,17,81,57,"_ref3"],[100,22,81,57],[101,10,81,57],[101,17,81,63,"callbackIds"],[101,28,81,74],[101,29,81,75,"includes"],[101,37,81,83],[101,38,81,84,"id"],[101,40,81,86],[101,41,81,87],[102,8,81,87],[102,10,82,4],[102,11,82,5],[103,8,84,4],[103,19,84,4,"_superPropGet"],[103,32,84,4],[103,33,84,4,"default"],[103,40,84,4],[103,42,84,4,"MessageTemplate"],[103,57,84,4],[103,84,84,29,"updatedConfig"],[103,97,84,42],[104,6,85,2],[105,4,85,3],[106,2,85,3],[106,4,16,37,"Template"],[106,14,16,45],[106,15,16,45,"Template"],[106,23,16,45],[107,0,16,45],[107,3]],"functionMap":{"names":["<global>","MessageTemplate","get__type","constructor","CarPlay.emitter.addListener$argument_1","Platform.select$argument_0.android","parseConfig","actions.map$argument_0","Object.entries.filter$argument_0"],"mappings":"AAA;OCe;ECK;GDE;EEE;MCK;ODU;eEM;OFE;GFK;EKE;0CCQ;ODc;qDEI,kCF;GLI;CDC"},"hasCjsExports":false},"type":"js/module"}]}