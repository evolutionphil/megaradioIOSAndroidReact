{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/i18nService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":146,"index":250}}],"key":"wTp4GBJ3aQ7blNZ4bmmeiMVPkW4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useLanguageStore\", {\n    enumerable: true,\n    get: function () {\n      return useLanguageStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _servicesI18nService = require(_dependencyMap[2], \"../services/i18nService\");\n  var useLanguageStore = (0, _zustand.create)((set, get) => ({\n    currentLanguage: 'en',\n    availableLanguages: [],\n    isLoading: false,\n    isInitialized: false,\n    languageVersion: 0,\n    initialize: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        if (get().isInitialized) return;\n        set({\n          isLoading: true\n        });\n        try {\n          var storedLang = yield (0, _servicesI18nService.getStoredLanguage)();\n          var languages = yield (0, _servicesI18nService.getAvailableLanguages)();\n\n          // Add listener for language changes from i18n service\n          (0, _servicesI18nService.addLanguageChangeListener)(lang => {\n            console.log('[LanguageStore] Language change detected:', lang);\n            set(state => ({\n              currentLanguage: lang,\n              languageVersion: state.languageVersion + 1\n            }));\n          });\n          set({\n            currentLanguage: storedLang,\n            availableLanguages: languages,\n            isInitialized: true,\n            isLoading: false\n          });\n        } catch (error) {\n          console.error('[LanguageStore] Initialization error:', error);\n          set({\n            isLoading: false,\n            isInitialized: true\n          });\n        }\n      });\n      return function initialize() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    setLanguage: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (code) {\n        set({\n          isLoading: true\n        });\n        try {\n          yield (0, _servicesI18nService.changeLanguage)(code);\n          // The listener will update the state\n          set({\n            isLoading: false\n          });\n        } catch (error) {\n          console.error('[LanguageStore] Failed to change language:', error);\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function setLanguage(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    forceUpdate: () => {\n      set(state => ({\n        languageVersion: state.languageVersion + 1\n      }));\n    }\n  }));\n  var _default = useLanguageStore;\n});","lineCount":99,"map":[[12,2,78,0,"Object"],[12,8,78,0],[12,9,78,0,"defineProperty"],[12,23,78,0],[12,24,78,0,"exports"],[12,31,78,0],[13,4,78,0,"enumerable"],[13,14,78,0],[14,4,78,0,"get"],[14,7,78,0],[14,18,78,0,"get"],[14,19,78,0],[15,6,78,0],[15,13,78,0,"_default"],[15,21,78,0],[16,4,78,0],[17,2,78,0],[18,2,23,0,"Object"],[18,8,23,0],[18,9,23,0,"defineProperty"],[18,23,23,0],[18,24,23,0,"exports"],[18,31,23,0],[19,4,23,0,"enumerable"],[19,14,23,0],[20,4,23,0,"get"],[20,7,23,0],[20,18,23,0,"get"],[20,19,23,0],[21,6,23,0],[21,13,23,0,"useLanguageStore"],[21,29,23,0],[22,4,23,0],[23,2,23,0],[24,2,76,4],[24,6,76,4,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,76,4],[24,45,76,4,"require"],[24,52,76,4],[24,53,76,4,"_dependencyMap"],[24,67,76,4],[25,2,76,4],[25,6,76,4,"_asyncToGenerator"],[25,23,76,4],[25,26,76,4,"_interopDefault"],[25,41,76,4],[25,42,76,4,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,76,4],[26,2,1,0],[26,6,1,0,"_zustand"],[26,14,1,0],[26,17,1,0,"require"],[26,24,1,0],[26,25,1,0,"_dependencyMap"],[26,39,1,0],[27,2,3,0],[27,6,3,0,"_servicesI18nService"],[27,26,3,0],[27,29,3,0,"require"],[27,36,3,0],[27,37,3,0,"_dependencyMap"],[27,51,3,0],[28,2,23,7],[28,6,23,13,"useLanguageStore"],[28,22,23,29],[28,25,23,32],[28,29,23,32,"create"],[28,37,23,38],[28,38,23,38,"create"],[28,44,23,38],[28,46,23,54],[28,47,23,55,"set"],[28,50,23,58],[28,52,23,60,"get"],[28,55,23,63],[28,61,23,69],[29,4,24,2,"currentLanguage"],[29,19,24,17],[29,21,24,19],[29,25,24,23],[30,4,25,2,"availableLanguages"],[30,22,25,20],[30,24,25,22],[30,26,25,24],[31,4,26,2,"isLoading"],[31,13,26,11],[31,15,26,13],[31,20,26,18],[32,4,27,2,"isInitialized"],[32,17,27,15],[32,19,27,17],[32,24,27,22],[33,4,28,2,"languageVersion"],[33,19,28,17],[33,21,28,19],[33,22,28,20],[34,4,30,2,"initialize"],[34,14,30,12],[35,6,30,12],[35,10,30,12,"_ref"],[35,14,30,12],[35,21,30,12,"_asyncToGenerator"],[35,38,30,12],[35,39,30,12,"default"],[35,46,30,12],[35,48,30,14],[35,61,30,26],[36,8,31,4],[36,12,31,8,"get"],[36,15,31,11],[36,16,31,12],[36,17,31,13],[36,18,31,14,"isInitialized"],[36,31,31,27],[36,33,31,29],[37,8,33,4,"set"],[37,11,33,7],[37,12,33,8],[38,10,33,10,"isLoading"],[38,19,33,19],[38,21,33,21],[39,8,33,26],[39,9,33,27],[39,10,33,28],[40,8,35,4],[40,12,35,8],[41,10,36,6],[41,14,36,12,"storedLang"],[41,24,36,22],[41,33,36,31],[41,37,36,31,"getStoredLanguage"],[41,57,36,48],[41,58,36,48,"getStoredLanguage"],[41,75,36,48],[41,77,36,49],[41,78,36,50],[42,10,37,6],[42,14,37,12,"languages"],[42,23,37,21],[42,32,37,30],[42,36,37,30,"getAvailableLanguages"],[42,56,37,51],[42,57,37,51,"getAvailableLanguages"],[42,78,37,51],[42,80,37,52],[42,81,37,53],[44,10,39,6],[45,10,40,6],[45,14,40,6,"addLanguageChangeListener"],[45,34,40,31],[45,35,40,31,"addLanguageChangeListener"],[45,60,40,31],[45,62,40,33,"lang"],[45,66,40,37],[45,70,40,42],[46,12,41,8,"console"],[46,19,41,15],[46,20,41,16,"log"],[46,23,41,19],[46,24,41,20],[46,67,41,63],[46,69,41,65,"lang"],[46,73,41,69],[46,74,41,70],[47,12,42,8,"set"],[47,15,42,11],[47,16,42,13,"state"],[47,21,42,18],[47,26,42,24],[48,14,43,10,"currentLanguage"],[48,29,43,25],[48,31,43,27,"lang"],[48,35,43,31],[49,14,44,10,"languageVersion"],[49,29,44,25],[49,31,44,27,"state"],[49,36,44,32],[49,37,44,33,"languageVersion"],[49,52,44,48],[49,55,44,51],[50,12,45,8],[50,13,45,9],[50,14,45,10],[50,15,45,11],[51,10,46,6],[51,11,46,7],[51,12,46,8],[52,10,48,6,"set"],[52,13,48,9],[52,14,48,10],[53,12,49,8,"currentLanguage"],[53,27,49,23],[53,29,49,25,"storedLang"],[53,39,49,35],[54,12,50,8,"availableLanguages"],[54,30,50,26],[54,32,50,28,"languages"],[54,41,50,37],[55,12,51,8,"isInitialized"],[55,25,51,21],[55,27,51,23],[55,31,51,27],[56,12,52,8,"isLoading"],[56,21,52,17],[56,23,52,19],[57,10,53,6],[57,11,53,7],[57,12,53,8],[58,8,54,4],[58,9,54,5],[58,10,54,6],[58,17,54,13,"error"],[58,22,54,18],[58,24,54,20],[59,10,55,6,"console"],[59,17,55,13],[59,18,55,14,"error"],[59,23,55,19],[59,24,55,20],[59,63,55,59],[59,65,55,61,"error"],[59,70,55,66],[59,71,55,67],[60,10,56,6,"set"],[60,13,56,9],[60,14,56,10],[61,12,56,12,"isLoading"],[61,21,56,21],[61,23,56,23],[61,28,56,28],[62,12,56,30,"isInitialized"],[62,25,56,43],[62,27,56,45],[63,10,56,50],[63,11,56,51],[63,12,56,52],[64,8,57,4],[65,6,58,2],[65,7,58,3],[66,6,58,3],[66,22,30,2,"initialize"],[66,32,30,12,"initialize"],[66,33,30,12],[67,8,30,12],[67,15,30,12,"_ref"],[67,19,30,12],[67,20,30,12,"apply"],[67,25,30,12],[67,32,30,12,"arguments"],[67,41,30,12],[68,6,30,12],[69,4,30,12],[69,7,58,3],[70,4,60,2,"setLanguage"],[70,15,60,13],[71,6,60,13],[71,10,60,13,"_ref2"],[71,15,60,13],[71,22,60,13,"_asyncToGenerator"],[71,39,60,13],[71,40,60,13,"default"],[71,47,60,13],[71,49,60,15],[71,60,60,22,"code"],[71,64,60,34],[71,66,60,39],[72,8,61,4,"set"],[72,11,61,7],[72,12,61,8],[73,10,61,10,"isLoading"],[73,19,61,19],[73,21,61,21],[74,8,61,26],[74,9,61,27],[74,10,61,28],[75,8,63,4],[75,12,63,8],[76,10,64,6],[76,16,64,12],[76,20,64,12,"changeLanguage"],[76,40,64,26],[76,41,64,26,"changeLanguage"],[76,55,64,26],[76,57,64,27,"code"],[76,61,64,31],[76,62,64,32],[77,10,65,6],[78,10,66,6,"set"],[78,13,66,9],[78,14,66,10],[79,12,66,12,"isLoading"],[79,21,66,21],[79,23,66,23],[80,10,66,29],[80,11,66,30],[80,12,66,31],[81,8,67,4],[81,9,67,5],[81,10,67,6],[81,17,67,13,"error"],[81,22,67,18],[81,24,67,20],[82,10,68,6,"console"],[82,17,68,13],[82,18,68,14,"error"],[82,23,68,19],[82,24,68,20],[82,68,68,64],[82,70,68,66,"error"],[82,75,68,71],[82,76,68,72],[83,10,69,6,"set"],[83,13,69,9],[83,14,69,10],[84,12,69,12,"isLoading"],[84,21,69,21],[84,23,69,23],[85,10,69,29],[85,11,69,30],[85,12,69,31],[86,8,70,4],[87,6,71,2],[87,7,71,3],[88,6,71,3],[88,22,60,2,"setLanguage"],[88,33,60,13,"setLanguage"],[88,34,60,13,"_x"],[88,36,60,13],[89,8,60,13],[89,15,60,13,"_ref2"],[89,20,60,13],[89,21,60,13,"apply"],[89,26,60,13],[89,33,60,13,"arguments"],[89,42,60,13],[90,6,60,13],[91,4,60,13],[91,7,71,3],[92,4,73,2,"forceUpdate"],[92,15,73,13],[92,17,73,15,"forceUpdate"],[92,18,73,15],[92,23,73,21],[93,6,74,4,"set"],[93,9,74,7],[93,10,74,9,"state"],[93,15,74,14],[93,20,74,20],[94,8,74,22,"languageVersion"],[94,23,74,37],[94,25,74,39,"state"],[94,30,74,44],[94,31,74,45,"languageVersion"],[94,46,74,60],[94,49,74,63],[95,6,74,65],[95,7,74,66],[95,8,74,67],[95,9,74,68],[96,4,75,2],[97,2,76,0],[97,3,76,1],[97,4,76,2],[97,5,76,3],[98,2,78,0],[98,6,78,0,"_default"],[98,14,78,0],[98,17,78,15,"useLanguageStore"],[98,33,78,31],[99,0,78,32],[99,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","addLanguageChangeListener$argument_0","set$argument_0","setLanguage","forceUpdate"],"mappings":"AAA;sDCsB;cCO;gCCU;YCE;UDG;ODC;GDY;eIE;GJW;eKE;QFC,2DE;GLC;EDC"},"hasCjsExports":false},"type":"js/module"}]}