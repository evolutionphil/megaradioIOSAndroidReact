{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/i18nService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":146,"index":250}}],"key":"wTp4GBJ3aQ7blNZ4bmmeiMVPkW4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useLanguageStore\", {\n    enumerable: true,\n    get: function () {\n      return useLanguageStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesI18nService = require(_dependencyMap[1], \"../services/i18nService\");\n  const useLanguageStore = (0, _zustand.create)((set, get) => ({\n    currentLanguage: 'en',\n    availableLanguages: [],\n    isLoading: false,\n    isInitialized: false,\n    languageVersion: 0,\n    initialize: async () => {\n      if (get().isInitialized) return;\n      set({\n        isLoading: true\n      });\n      try {\n        const storedLang = await (0, _servicesI18nService.getStoredLanguage)();\n        const languages = await (0, _servicesI18nService.getAvailableLanguages)();\n\n        // Ensure i18n is using the correct language\n        const currentI18nLang = (0, _servicesI18nService.getCurrentLanguage)();\n        if (currentI18nLang !== storedLang) {\n          console.log('[LanguageStore] Syncing i18n language from', currentI18nLang, 'to', storedLang);\n          await (0, _servicesI18nService.changeLanguage)(storedLang);\n        }\n\n        // Add listener for language changes from i18n service\n        (0, _servicesI18nService.addLanguageChangeListener)(lang => {\n          console.log('[LanguageStore] Language change detected:', lang);\n          set(state => ({\n            currentLanguage: lang,\n            languageVersion: state.languageVersion + 1\n          }));\n        });\n        set({\n          currentLanguage: storedLang,\n          availableLanguages: languages,\n          isInitialized: true,\n          isLoading: false\n        });\n        console.log('[LanguageStore] Initialized with language:', storedLang);\n      } catch (error) {\n        console.error('[LanguageStore] Initialization error:', error);\n        set({\n          isLoading: false,\n          isInitialized: true\n        });\n      }\n    },\n    setLanguage: async code => {\n      set({\n        isLoading: true\n      });\n      try {\n        await (0, _servicesI18nService.changeLanguage)(code);\n        // The listener will update the state\n        set({\n          isLoading: false\n        });\n      } catch (error) {\n        console.error('[LanguageStore] Failed to change language:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    forceUpdate: () => {\n      set(state => ({\n        languageVersion: state.languageVersion + 1\n      }));\n    }\n  }));\n  var _default = useLanguageStore;\n});","lineCount":90,"map":[[7,2,87,0,"Object"],[7,8,87,0],[7,9,87,0,"defineProperty"],[7,23,87,0],[7,24,87,0,"exports"],[7,31,87,0],[8,4,87,0,"enumerable"],[8,14,87,0],[9,4,87,0,"get"],[9,7,87,0],[9,18,87,0,"get"],[9,19,87,0],[10,6,87,0],[10,13,87,0,"_default"],[10,21,87,0],[11,4,87,0],[12,2,87,0],[13,2,23,0,"Object"],[13,8,23,0],[13,9,23,0,"defineProperty"],[13,23,23,0],[13,24,23,0,"exports"],[13,31,23,0],[14,4,23,0,"enumerable"],[14,14,23,0],[15,4,23,0,"get"],[15,7,23,0],[15,18,23,0,"get"],[15,19,23,0],[16,6,23,0],[16,13,23,0,"useLanguageStore"],[16,29,23,0],[17,4,23,0],[18,2,23,0],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,3,0],[20,6,3,0,"_servicesI18nService"],[20,26,3,0],[20,29,3,0,"require"],[20,36,3,0],[20,37,3,0,"_dependencyMap"],[20,51,3,0],[21,2,23,7],[21,8,23,13,"useLanguageStore"],[21,24,23,29],[21,27,23,32],[21,31,23,32,"create"],[21,39,23,38],[21,40,23,38,"create"],[21,46,23,38],[21,48,23,54],[21,49,23,55,"set"],[21,52,23,58],[21,54,23,60,"get"],[21,57,23,63],[21,63,23,69],[22,4,24,2,"currentLanguage"],[22,19,24,17],[22,21,24,19],[22,25,24,23],[23,4,25,2,"availableLanguages"],[23,22,25,20],[23,24,25,22],[23,26,25,24],[24,4,26,2,"isLoading"],[24,13,26,11],[24,15,26,13],[24,20,26,18],[25,4,27,2,"isInitialized"],[25,17,27,15],[25,19,27,17],[25,24,27,22],[26,4,28,2,"languageVersion"],[26,19,28,17],[26,21,28,19],[26,22,28,20],[27,4,30,2,"initialize"],[27,14,30,12],[27,16,30,14],[27,22,30,14,"initialize"],[27,23,30,14],[27,28,30,26],[28,6,31,4],[28,10,31,8,"get"],[28,13,31,11],[28,14,31,12],[28,15,31,13],[28,16,31,14,"isInitialized"],[28,29,31,27],[28,31,31,29],[29,6,33,4,"set"],[29,9,33,7],[29,10,33,8],[30,8,33,10,"isLoading"],[30,17,33,19],[30,19,33,21],[31,6,33,26],[31,7,33,27],[31,8,33,28],[32,6,35,4],[32,10,35,8],[33,8,36,6],[33,14,36,12,"storedLang"],[33,24,36,22],[33,27,36,25],[33,33,36,31],[33,37,36,31,"getStoredLanguage"],[33,57,36,48],[33,58,36,48,"getStoredLanguage"],[33,75,36,48],[33,77,36,49],[33,78,36,50],[34,8,37,6],[34,14,37,12,"languages"],[34,23,37,21],[34,26,37,24],[34,32,37,30],[34,36,37,30,"getAvailableLanguages"],[34,56,37,51],[34,57,37,51,"getAvailableLanguages"],[34,78,37,51],[34,80,37,52],[34,81,37,53],[36,8,39,6],[37,8,40,6],[37,14,40,12,"currentI18nLang"],[37,29,40,27],[37,32,40,30],[37,36,40,30,"getCurrentLanguage"],[37,56,40,48],[37,57,40,48,"getCurrentLanguage"],[37,75,40,48],[37,77,40,49],[37,78,40,50],[38,8,41,6],[38,12,41,10,"currentI18nLang"],[38,27,41,25],[38,32,41,30,"storedLang"],[38,42,41,40],[38,44,41,42],[39,10,42,8,"console"],[39,17,42,15],[39,18,42,16,"log"],[39,21,42,19],[39,22,42,20],[39,66,42,64],[39,68,42,66,"currentI18nLang"],[39,83,42,81],[39,85,42,83],[39,89,42,87],[39,91,42,89,"storedLang"],[39,101,42,99],[39,102,42,100],[40,10,43,8],[40,16,43,14],[40,20,43,14,"changeLanguage"],[40,40,43,28],[40,41,43,28,"changeLanguage"],[40,55,43,28],[40,57,43,29,"storedLang"],[40,67,43,39],[40,68,43,40],[41,8,44,6],[43,8,46,6],[44,8,47,6],[44,12,47,6,"addLanguageChangeListener"],[44,32,47,31],[44,33,47,31,"addLanguageChangeListener"],[44,58,47,31],[44,60,47,33,"lang"],[44,64,47,37],[44,68,47,42],[45,10,48,8,"console"],[45,17,48,15],[45,18,48,16,"log"],[45,21,48,19],[45,22,48,20],[45,65,48,63],[45,67,48,65,"lang"],[45,71,48,69],[45,72,48,70],[46,10,49,8,"set"],[46,13,49,11],[46,14,49,13,"state"],[46,19,49,18],[46,24,49,24],[47,12,50,10,"currentLanguage"],[47,27,50,25],[47,29,50,27,"lang"],[47,33,50,31],[48,12,51,10,"languageVersion"],[48,27,51,25],[48,29,51,27,"state"],[48,34,51,32],[48,35,51,33,"languageVersion"],[48,50,51,48],[48,53,51,51],[49,10,52,8],[49,11,52,9],[49,12,52,10],[49,13,52,11],[50,8,53,6],[50,9,53,7],[50,10,53,8],[51,8,55,6,"set"],[51,11,55,9],[51,12,55,10],[52,10,56,8,"currentLanguage"],[52,25,56,23],[52,27,56,25,"storedLang"],[52,37,56,35],[53,10,57,8,"availableLanguages"],[53,28,57,26],[53,30,57,28,"languages"],[53,39,57,37],[54,10,58,8,"isInitialized"],[54,23,58,21],[54,25,58,23],[54,29,58,27],[55,10,59,8,"isLoading"],[55,19,59,17],[55,21,59,19],[56,8,60,6],[56,9,60,7],[56,10,60,8],[57,8,62,6,"console"],[57,15,62,13],[57,16,62,14,"log"],[57,19,62,17],[57,20,62,18],[57,64,62,62],[57,66,62,64,"storedLang"],[57,76,62,74],[57,77,62,75],[58,6,63,4],[58,7,63,5],[58,8,63,6],[58,15,63,13,"error"],[58,20,63,18],[58,22,63,20],[59,8,64,6,"console"],[59,15,64,13],[59,16,64,14,"error"],[59,21,64,19],[59,22,64,20],[59,61,64,59],[59,63,64,61,"error"],[59,68,64,66],[59,69,64,67],[60,8,65,6,"set"],[60,11,65,9],[60,12,65,10],[61,10,65,12,"isLoading"],[61,19,65,21],[61,21,65,23],[61,26,65,28],[62,10,65,30,"isInitialized"],[62,23,65,43],[62,25,65,45],[63,8,65,50],[63,9,65,51],[63,10,65,52],[64,6,66,4],[65,4,67,2],[65,5,67,3],[66,4,69,2,"setLanguage"],[66,15,69,13],[66,17,69,15],[66,23,69,22,"code"],[66,27,69,34],[66,31,69,39],[67,6,70,4,"set"],[67,9,70,7],[67,10,70,8],[68,8,70,10,"isLoading"],[68,17,70,19],[68,19,70,21],[69,6,70,26],[69,7,70,27],[69,8,70,28],[70,6,72,4],[70,10,72,8],[71,8,73,6],[71,14,73,12],[71,18,73,12,"changeLanguage"],[71,38,73,26],[71,39,73,26,"changeLanguage"],[71,53,73,26],[71,55,73,27,"code"],[71,59,73,31],[71,60,73,32],[72,8,74,6],[73,8,75,6,"set"],[73,11,75,9],[73,12,75,10],[74,10,75,12,"isLoading"],[74,19,75,21],[74,21,75,23],[75,8,75,29],[75,9,75,30],[75,10,75,31],[76,6,76,4],[76,7,76,5],[76,8,76,6],[76,15,76,13,"error"],[76,20,76,18],[76,22,76,20],[77,8,77,6,"console"],[77,15,77,13],[77,16,77,14,"error"],[77,21,77,19],[77,22,77,20],[77,66,77,64],[77,68,77,66,"error"],[77,73,77,71],[77,74,77,72],[78,8,78,6,"set"],[78,11,78,9],[78,12,78,10],[79,10,78,12,"isLoading"],[79,19,78,21],[79,21,78,23],[80,8,78,29],[80,9,78,30],[80,10,78,31],[81,6,79,4],[82,4,80,2],[82,5,80,3],[83,4,82,2,"forceUpdate"],[83,15,82,13],[83,17,82,15,"forceUpdate"],[83,18,82,15],[83,23,82,21],[84,6,83,4,"set"],[84,9,83,7],[84,10,83,9,"state"],[84,15,83,14],[84,20,83,20],[85,8,83,22,"languageVersion"],[85,23,83,37],[85,25,83,39,"state"],[85,30,83,44],[85,31,83,45,"languageVersion"],[85,46,83,60],[85,49,83,63],[86,6,83,65],[86,7,83,66],[86,8,83,67],[86,9,83,68],[87,4,84,2],[88,2,85,0],[88,3,85,1],[88,4,85,2],[88,5,85,3],[89,2,87,0],[89,6,87,0,"_default"],[89,14,87,0],[89,17,87,15,"useLanguageStore"],[89,33,87,31],[90,0,87,32],[90,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","addLanguageChangeListener$argument_0","set$argument_0","setLanguage","forceUpdate"],"mappings":"AAA;sDCsB;cCO;gCCiB;YCE;UDG;ODC;GDc;eIE;GJW;eKE;QFC,2DE;GLC;EDC"},"hasCjsExports":false},"type":"js/module"}]}