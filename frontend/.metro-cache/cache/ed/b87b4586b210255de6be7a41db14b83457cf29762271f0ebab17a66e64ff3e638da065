{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _api = require(_dependencyMap[1], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var PAGES_CACHE_KEY = '@megaradio_app_pages';\n  var INFO_CACHE_KEY = '@megaradio_app_info';\n  var CACHE_TTL = 24 * 60 * 60 * 1000; // 24 hours\n\n  var appService = {\n    // Get static pages (About, Terms, Privacy)\n    getPages() {\n      return (0, _asyncToGenerator.default)(function* () {\n        try {\n          // Check cache first\n          var cached = yield AsyncStorage.default.getItem(PAGES_CACHE_KEY);\n          if (cached) {\n            var _JSON$parse = JSON.parse(cached),\n              data = _JSON$parse.data,\n              timestamp = _JSON$parse.timestamp;\n            if (Date.now() - timestamp < CACHE_TTL) {\n              console.log('[AppService] Using cached pages');\n              return data;\n            }\n          }\n\n          // Fetch from API\n          var response = yield api.default.get('https://themegaradio.com/api/app/pages');\n          var pages = response.data?.pages;\n          if (pages) {\n            // Cache the data\n            yield AsyncStorage.default.setItem(PAGES_CACHE_KEY, JSON.stringify({\n              data: pages,\n              timestamp: Date.now()\n            }));\n            console.log('[AppService] Pages fetched and cached');\n          }\n          return pages || null;\n        } catch (error) {\n          console.error('[AppService] Failed to fetch pages:', error);\n          return null;\n        }\n      })();\n    },\n    // Get app info\n    getAppInfo() {\n      return (0, _asyncToGenerator.default)(function* () {\n        try {\n          // Check cache first\n          var cached = yield AsyncStorage.default.getItem(INFO_CACHE_KEY);\n          if (cached) {\n            var _JSON$parse2 = JSON.parse(cached),\n              data = _JSON$parse2.data,\n              timestamp = _JSON$parse2.timestamp;\n            if (Date.now() - timestamp < CACHE_TTL) {\n              console.log('[AppService] Using cached app info');\n              return data;\n            }\n          }\n\n          // Fetch from API\n          var response = yield api.default.get('https://themegaradio.com/api/app/info');\n          var appInfo = response.data?.app;\n          if (appInfo) {\n            // Cache the data\n            yield AsyncStorage.default.setItem(INFO_CACHE_KEY, JSON.stringify({\n              data: appInfo,\n              timestamp: Date.now()\n            }));\n            console.log('[AppService] App info fetched and cached');\n          }\n          return appInfo || null;\n        } catch (error) {\n          console.error('[AppService] Failed to fetch app info:', error);\n          return null;\n        }\n      })();\n    },\n    // Clear cache\n    clearCache() {\n      return (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.multiRemove([PAGES_CACHE_KEY, INFO_CACHE_KEY]);\n      })();\n    }\n  };\n  var _default = appService;\n});","lineCount":105,"map":[[12,2,108,0,"Object"],[12,8,108,0],[12,9,108,0,"defineProperty"],[12,23,108,0],[12,24,108,0,"exports"],[12,31,108,0],[13,4,108,0,"enumerable"],[13,14,108,0],[14,4,108,0,"get"],[14,7,108,0],[14,18,108,0,"get"],[14,19,108,0],[15,6,108,0],[15,13,108,0,"_default"],[15,21,108,0],[16,4,108,0],[17,2,108,0],[18,2,108,26],[18,6,108,26,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,108,26],[18,45,108,26,"require"],[18,52,108,26],[18,53,108,26,"_dependencyMap"],[18,67,108,26],[19,2,108,26],[19,6,108,26,"_asyncToGenerator"],[19,23,108,26],[19,26,108,26,"_interopDefault"],[19,41,108,26],[19,42,108,26,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,108,26],[20,2,1,0],[20,6,1,0,"_api"],[20,10,1,0],[20,13,1,0,"require"],[20,20,1,0],[20,21,1,0,"_dependencyMap"],[20,35,1,0],[21,2,1,0],[21,6,1,0,"api"],[21,9,1,0],[21,12,1,0,"_interopDefault"],[21,27,1,0],[21,28,1,0,"_api"],[21,32,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,4,0],[24,6,4,6,"PAGES_CACHE_KEY"],[24,21,4,21],[24,24,4,24],[24,46,4,46],[25,2,5,0],[25,6,5,6,"INFO_CACHE_KEY"],[25,20,5,20],[25,23,5,23],[25,44,5,44],[26,2,6,0],[26,6,6,6,"CACHE_TTL"],[26,15,6,15],[26,18,6,18],[26,20,6,20],[26,23,6,23],[26,25,6,25],[26,28,6,28],[26,30,6,30],[26,33,6,33],[26,37,6,37],[26,38,6,38],[26,39,6,39],[28,2,35,0],[28,6,35,6,"appService"],[28,16,35,16],[28,19,35,19],[29,4,36,2],[30,4,37,8,"getPages"],[30,12,37,16,"getPages"],[30,13,37,16],[30,15,37,45],[31,6,37,45],[31,17,37,45,"_asyncToGenerator"],[31,34,37,45],[31,35,37,45,"default"],[31,42,37,45],[32,8,38,4],[32,12,38,8],[33,10,39,6],[34,10,40,6],[34,14,40,12,"cached"],[34,20,40,18],[34,29,40,27,"AsyncStorage"],[34,41,40,39],[34,42,40,39,"default"],[34,49,40,39],[34,50,40,40,"getItem"],[34,57,40,47],[34,58,40,48,"PAGES_CACHE_KEY"],[34,73,40,63],[34,74,40,64],[35,10,41,6],[35,14,41,10,"cached"],[35,20,41,16],[35,22,41,18],[36,12,42,8],[36,16,42,8,"_JSON$parse"],[36,27,42,8],[36,30,42,36,"JSON"],[36,34,42,40],[36,35,42,41,"parse"],[36,40,42,46],[36,41,42,47,"cached"],[36,47,42,53],[36,48,42,54],[37,14,42,16,"data"],[37,18,42,20],[37,21,42,20,"_JSON$parse"],[37,32,42,20],[37,33,42,16,"data"],[37,37,42,20],[38,14,42,22,"timestamp"],[38,23,42,31],[38,26,42,31,"_JSON$parse"],[38,37,42,31],[38,38,42,22,"timestamp"],[38,47,42,31],[39,12,43,8],[39,16,43,12,"Date"],[39,20,43,16],[39,21,43,17,"now"],[39,24,43,20],[39,25,43,21],[39,26,43,22],[39,29,43,25,"timestamp"],[39,38,43,34],[39,41,43,37,"CACHE_TTL"],[39,50,43,46],[39,52,43,48],[40,14,44,10,"console"],[40,21,44,17],[40,22,44,18,"log"],[40,25,44,21],[40,26,44,22],[40,59,44,55],[40,60,44,56],[41,14,45,10],[41,21,45,17,"data"],[41,25,45,21],[42,12,46,8],[43,10,47,6],[45,10,49,6],[46,10,50,6],[46,14,50,12,"response"],[46,22,50,20],[46,31,50,29,"api"],[46,34,50,32],[46,35,50,32,"default"],[46,42,50,32],[46,43,50,33,"get"],[46,46,50,36],[46,47,50,37],[46,87,50,77],[46,88,50,78],[47,10,51,6],[47,14,51,12,"pages"],[47,19,51,17],[47,22,51,20,"response"],[47,30,51,28],[47,31,51,29,"data"],[47,35,51,33],[47,37,51,35,"pages"],[47,42,51,40],[48,10,53,6],[48,14,53,10,"pages"],[48,19,53,15],[48,21,53,17],[49,12,54,8],[50,12,55,8],[50,18,55,14,"AsyncStorage"],[50,30,55,26],[50,31,55,26,"default"],[50,38,55,26],[50,39,55,27,"setItem"],[50,46,55,34],[50,47,55,35,"PAGES_CACHE_KEY"],[50,62,55,50],[50,64,55,52,"JSON"],[50,68,55,56],[50,69,55,57,"stringify"],[50,78,55,66],[50,79,55,67],[51,14,56,10,"data"],[51,18,56,14],[51,20,56,16,"pages"],[51,25,56,21],[52,14,57,10,"timestamp"],[52,23,57,19],[52,25,57,21,"Date"],[52,29,57,25],[52,30,57,26,"now"],[52,33,57,29],[52,34,57,30],[53,12,58,8],[53,13,58,9],[53,14,58,10],[53,15,58,11],[54,12,59,8,"console"],[54,19,59,15],[54,20,59,16,"log"],[54,23,59,19],[54,24,59,20],[54,63,59,59],[54,64,59,60],[55,10,60,6],[56,10,62,6],[56,17,62,13,"pages"],[56,22,62,18],[56,26,62,22],[56,30,62,26],[57,8,63,4],[57,9,63,5],[57,10,63,6],[57,17,63,13,"error"],[57,22,63,18],[57,24,63,20],[58,10,64,6,"console"],[58,17,64,13],[58,18,64,14,"error"],[58,23,64,19],[58,24,64,20],[58,61,64,57],[58,63,64,59,"error"],[58,68,64,64],[58,69,64,65],[59,10,65,6],[59,17,65,13],[59,21,65,17],[60,8,66,4],[61,6,66,5],[62,4,67,2],[62,5,67,3],[63,4,69,2],[64,4,70,8,"getAppInfo"],[64,14,70,18,"getAppInfo"],[64,15,70,18],[64,17,70,46],[65,6,70,46],[65,17,70,46,"_asyncToGenerator"],[65,34,70,46],[65,35,70,46,"default"],[65,42,70,46],[66,8,71,4],[66,12,71,8],[67,10,72,6],[68,10,73,6],[68,14,73,12,"cached"],[68,20,73,18],[68,29,73,27,"AsyncStorage"],[68,41,73,39],[68,42,73,39,"default"],[68,49,73,39],[68,50,73,40,"getItem"],[68,57,73,47],[68,58,73,48,"INFO_CACHE_KEY"],[68,72,73,62],[68,73,73,63],[69,10,74,6],[69,14,74,10,"cached"],[69,20,74,16],[69,22,74,18],[70,12,75,8],[70,16,75,8,"_JSON$parse2"],[70,28,75,8],[70,31,75,36,"JSON"],[70,35,75,40],[70,36,75,41,"parse"],[70,41,75,46],[70,42,75,47,"cached"],[70,48,75,53],[70,49,75,54],[71,14,75,16,"data"],[71,18,75,20],[71,21,75,20,"_JSON$parse2"],[71,33,75,20],[71,34,75,16,"data"],[71,38,75,20],[72,14,75,22,"timestamp"],[72,23,75,31],[72,26,75,31,"_JSON$parse2"],[72,38,75,31],[72,39,75,22,"timestamp"],[72,48,75,31],[73,12,76,8],[73,16,76,12,"Date"],[73,20,76,16],[73,21,76,17,"now"],[73,24,76,20],[73,25,76,21],[73,26,76,22],[73,29,76,25,"timestamp"],[73,38,76,34],[73,41,76,37,"CACHE_TTL"],[73,50,76,46],[73,52,76,48],[74,14,77,10,"console"],[74,21,77,17],[74,22,77,18,"log"],[74,25,77,21],[74,26,77,22],[74,62,77,58],[74,63,77,59],[75,14,78,10],[75,21,78,17,"data"],[75,25,78,21],[76,12,79,8],[77,10,80,6],[79,10,82,6],[80,10,83,6],[80,14,83,12,"response"],[80,22,83,20],[80,31,83,29,"api"],[80,34,83,32],[80,35,83,32,"default"],[80,42,83,32],[80,43,83,33,"get"],[80,46,83,36],[80,47,83,37],[80,86,83,76],[80,87,83,77],[81,10,84,6],[81,14,84,12,"appInfo"],[81,21,84,19],[81,24,84,22,"response"],[81,32,84,30],[81,33,84,31,"data"],[81,37,84,35],[81,39,84,37,"app"],[81,42,84,40],[82,10,86,6],[82,14,86,10,"appInfo"],[82,21,86,17],[82,23,86,19],[83,12,87,8],[84,12,88,8],[84,18,88,14,"AsyncStorage"],[84,30,88,26],[84,31,88,26,"default"],[84,38,88,26],[84,39,88,27,"setItem"],[84,46,88,34],[84,47,88,35,"INFO_CACHE_KEY"],[84,61,88,49],[84,63,88,51,"JSON"],[84,67,88,55],[84,68,88,56,"stringify"],[84,77,88,65],[84,78,88,66],[85,14,89,10,"data"],[85,18,89,14],[85,20,89,16,"appInfo"],[85,27,89,23],[86,14,90,10,"timestamp"],[86,23,90,19],[86,25,90,21,"Date"],[86,29,90,25],[86,30,90,26,"now"],[86,33,90,29],[86,34,90,30],[87,12,91,8],[87,13,91,9],[87,14,91,10],[87,15,91,11],[88,12,92,8,"console"],[88,19,92,15],[88,20,92,16,"log"],[88,23,92,19],[88,24,92,20],[88,66,92,62],[88,67,92,63],[89,10,93,6],[90,10,95,6],[90,17,95,13,"appInfo"],[90,24,95,20],[90,28,95,24],[90,32,95,28],[91,8,96,4],[91,9,96,5],[91,10,96,6],[91,17,96,13,"error"],[91,22,96,18],[91,24,96,20],[92,10,97,6,"console"],[92,17,97,13],[92,18,97,14,"error"],[92,23,97,19],[92,24,97,20],[92,64,97,60],[92,66,97,62,"error"],[92,71,97,67],[92,72,97,68],[93,10,98,6],[93,17,98,13],[93,21,98,17],[94,8,99,4],[95,6,99,5],[96,4,100,2],[96,5,100,3],[97,4,102,2],[98,4,103,8,"clearCache"],[98,14,103,18,"clearCache"],[98,15,103,18],[98,17,103,21],[99,6,103,21],[99,17,103,21,"_asyncToGenerator"],[99,34,103,21],[99,35,103,21,"default"],[99,42,103,21],[100,8,104,4],[100,14,104,10,"AsyncStorage"],[100,26,104,22],[100,27,104,22,"default"],[100,34,104,22],[100,35,104,23,"multiRemove"],[100,46,104,34],[100,47,104,35],[100,48,104,36,"PAGES_CACHE_KEY"],[100,63,104,51],[100,65,104,53,"INFO_CACHE_KEY"],[100,79,104,67],[100,80,104,68],[100,81,104,69],[101,6,104,70],[102,4,105,2],[103,2,106,0],[103,3,106,1],[104,2,108,0],[104,6,108,0,"_default"],[104,14,108,0],[104,17,108,15,"appService"],[104,27,108,25],[105,0,108,26],[105,3]],"functionMap":{"names":["<global>","getPages","getAppInfo","clearCache"],"mappings":"AAA;ECoC;GD8B;EEG;GF8B;EGG;GHE"},"hasCjsExports":false},"type":"js/module"}]}