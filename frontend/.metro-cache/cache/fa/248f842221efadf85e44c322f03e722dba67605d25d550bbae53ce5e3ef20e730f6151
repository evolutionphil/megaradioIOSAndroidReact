{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../CarPlay","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":176},"end":{"line":5,"column":39,"index":197}}],"key":"RiNCvoWyZI7K4qdFELl/VaTk1+4=","exportNames":["*"],"imports":1}},{"name":"./Template","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":19,"index":218},"end":{"line":6,"column":40,"index":239}}],"key":"phmpLZ57Orvpn0MWzwbRkDH/M8M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SearchTemplate = void 0;\n  const react_native_1 = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  const CarPlay_1 = require(_dependencyMap[1], \"../CarPlay\");\n  const Template_1 = require(_dependencyMap[2], \"./Template\");\n  class SearchTemplate extends Template_1.Template {\n    get type() {\n      return 'search';\n    }\n    get eventMap() {\n      return {\n        searchButtonPressed: 'onSearchButtonPressed',\n        backButtonPressed: 'onBackButtonPressed'\n      };\n    }\n    constructor(config) {\n      // parse out any images in the results\n      super(config);\n      this.config = config;\n      let subscription = CarPlay_1.CarPlay.emitter.addListener('updatedSearchText', async e => {\n        if (config.onSearch && e.templateId === this.id) {\n          const result = await config.onSearch(e.searchText).catch(() => null);\n          if (result == null) {\n            return;\n          }\n          const parsedResults = result.map(item => Object.assign({}, item, {\n            image: item.image ? react_native_1.Image.resolveAssetSource(item.image) : undefined\n          }));\n          if (react_native_1.Platform.OS === 'ios') {\n            CarPlay_1.CarPlay.bridge.reactToUpdatedSearchText(e.templateId, parsedResults);\n          } else if (react_native_1.Platform.OS === 'android') {\n            this.config = Object.assign({}, this.config, {\n              items: parsedResults\n            });\n            CarPlay_1.CarPlay.bridge.updateTemplate(e.templateId, JSON.parse(JSON.stringify(Object.assign({}, this.config, {\n              type: this.type\n            }))));\n          }\n        }\n      });\n      this.listenerSubscriptions.push(subscription);\n      subscription = CarPlay_1.CarPlay.emitter.addListener('selectedResult', e => {\n        if (config.onItemSelect && e.templateId === this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => react_native_1.Platform.OS === 'ios' && CarPlay_1.CarPlay.bridge.reactToSelectedResult(true));\n        }\n      });\n      this.listenerSubscriptions.push(subscription);\n      subscription = CarPlay_1.CarPlay.emitter.addListener('didSelectListItem', e => {\n        if (config.onItemSelect && e.templateId === this.id) {\n          void Promise.resolve(config.onItemSelect(e)).then(() => {\n            if (react_native_1.Platform.OS === 'ios') {\n              CarPlay_1.CarPlay.bridge.reactToSelectedResult(true);\n            }\n          });\n        }\n      });\n      this.listenerSubscriptions.push(subscription);\n    }\n  }\n  exports.SearchTemplate = SearchTemplate;\n});","lineCount":66,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"SearchTemplate"],[7,24,3,22],[7,27,3,25],[7,32,3,30],[7,33,3,31],[8,2,3,32],[8,8,3,32,"react_native_1"],[8,22,3,32],[8,25,3,32,"require"],[8,32,3,32],[8,33,3,32,"_dependencyMap"],[8,47,3,32],[9,2,5,0],[9,8,5,6,"CarPlay_1"],[9,17,5,15],[9,20,5,18,"require"],[9,27,5,25],[9,28,5,25,"_dependencyMap"],[9,42,5,25],[9,59,5,38],[9,60,5,39],[10,2,6,0],[10,8,6,6,"Template_1"],[10,18,6,16],[10,21,6,19,"require"],[10,28,6,26],[10,29,6,26,"_dependencyMap"],[10,43,6,26],[10,60,6,39],[10,61,6,40],[11,2,7,0],[11,8,7,6,"SearchTemplate"],[11,22,7,20],[11,31,7,29,"Template_1"],[11,41,7,39],[11,42,7,40,"Template"],[11,50,7,48],[11,51,7,49],[12,4,9,4],[12,8,9,8,"type"],[12,12,9,12,"type"],[12,13,9,12],[12,15,9,15],[13,6,10,8],[13,13,10,15],[13,21,10,23],[14,4,11,4],[15,4,12,4],[15,8,12,8,"eventMap"],[15,16,12,16,"eventMap"],[15,17,12,16],[15,19,12,19],[16,6,13,8],[16,13,13,15],[17,8,14,12,"searchButtonPressed"],[17,27,14,31],[17,29,14,33],[17,52,14,56],[18,8,15,12,"backButtonPressed"],[18,25,15,29],[18,27,15,31],[19,6,16,8],[19,7,16,9],[20,4,17,4],[21,4,18,4,"constructor"],[21,15,18,15,"constructor"],[21,16,18,16,"config"],[21,22,18,22],[21,24,18,24],[22,6,19,8],[23,6,20,8],[23,11,20,13],[23,12,20,14,"config"],[23,18,20,20],[23,19,20,21],[24,6,21,8],[24,10,21,12],[24,11,21,13,"config"],[24,17,21,19],[24,20,21,22,"config"],[24,26,21,28],[25,6,22,8],[25,10,22,12,"subscription"],[25,22,22,24],[25,25,22,27,"CarPlay_1"],[25,34,22,36],[25,35,22,37,"CarPlay"],[25,42,22,44],[25,43,22,45,"emitter"],[25,50,22,52],[25,51,22,53,"addListener"],[25,62,22,64],[25,63,22,65],[25,82,22,84],[25,84,22,86],[25,90,22,93,"e"],[25,91,22,94],[25,95,22,99],[26,8,23,12],[26,12,23,16,"config"],[26,18,23,22],[26,19,23,23,"onSearch"],[26,27,23,31],[26,31,23,35,"e"],[26,32,23,36],[26,33,23,37,"templateId"],[26,43,23,47],[26,48,23,52],[26,52,23,56],[26,53,23,57,"id"],[26,55,23,59],[26,57,23,61],[27,10,24,16],[27,16,24,22,"result"],[27,22,24,28],[27,25,24,31],[27,31,24,37,"config"],[27,37,24,43],[27,38,24,44,"onSearch"],[27,46,24,52],[27,47,24,53,"e"],[27,48,24,54],[27,49,24,55,"searchText"],[27,59,24,65],[27,60,24,66],[27,61,24,67,"catch"],[27,66,24,72],[27,67,24,73],[27,73,24,79],[27,77,24,83],[27,78,24,84],[28,10,25,16],[28,14,25,20,"result"],[28,20,25,26],[28,24,25,30],[28,28,25,34],[28,30,25,36],[29,12,26,20],[30,10,27,16],[31,10,28,16],[31,16,28,22,"parsedResults"],[31,29,28,35],[31,32,28,38,"result"],[31,38,28,44],[31,39,28,45,"map"],[31,42,28,48],[31,43,28,49,"item"],[31,47,28,53],[31,51,28,53,"Object"],[31,57,28,53],[31,58,28,53,"assign"],[31,64,28,53],[31,69,29,23,"item"],[31,73,29,27],[32,12,30,20,"image"],[32,17,30,25],[32,19,30,27,"item"],[32,23,30,31],[32,24,30,32,"image"],[32,29,30,37],[32,32,30,40,"react_native_1"],[32,46,30,54],[32,47,30,55,"Image"],[32,52,30,60],[32,53,30,61,"resolveAssetSource"],[32,71,30,79],[32,72,30,80,"item"],[32,76,30,84],[32,77,30,85,"image"],[32,82,30,90],[32,83,30,91],[32,86,30,94,"undefined"],[33,10,30,103],[33,12,31,18],[33,13,31,19],[34,10,32,16],[34,14,32,20,"react_native_1"],[34,28,32,34],[34,29,32,35,"Platform"],[34,37,32,43],[34,38,32,44,"OS"],[34,40,32,46],[34,45,32,51],[34,50,32,56],[34,52,32,58],[35,12,33,20,"CarPlay_1"],[35,21,33,29],[35,22,33,30,"CarPlay"],[35,29,33,37],[35,30,33,38,"bridge"],[35,36,33,44],[35,37,33,45,"reactToUpdatedSearchText"],[35,61,33,69],[35,62,33,70,"e"],[35,63,33,71],[35,64,33,72,"templateId"],[35,74,33,82],[35,76,33,84,"parsedResults"],[35,89,33,97],[35,90,33,98],[36,10,34,16],[36,11,34,17],[36,17,35,21],[36,21,35,25,"react_native_1"],[36,35,35,39],[36,36,35,40,"Platform"],[36,44,35,48],[36,45,35,49,"OS"],[36,47,35,51],[36,52,35,56],[36,61,35,65],[36,63,35,67],[37,12,36,20],[37,16,36,24],[37,17,36,25,"config"],[37,23,36,31],[37,26,36,31,"Object"],[37,32,36,31],[37,33,36,31,"assign"],[37,39,36,31],[37,44,36,39],[37,48,36,43],[37,49,36,44,"config"],[37,55,36,50],[38,14,36,52,"items"],[38,19,36,57],[38,21,36,59,"parsedResults"],[39,12,36,72],[39,14,36,74],[40,12,37,20,"CarPlay_1"],[40,21,37,29],[40,22,37,30,"CarPlay"],[40,29,37,37],[40,30,37,38,"bridge"],[40,36,37,44],[40,37,37,45,"updateTemplate"],[40,51,37,59],[40,52,37,60,"e"],[40,53,37,61],[40,54,37,62,"templateId"],[40,64,37,72],[40,66,37,74,"JSON"],[40,70,37,78],[40,71,37,79,"parse"],[40,76,37,84],[40,77,37,85,"JSON"],[40,81,37,89],[40,82,37,90,"stringify"],[40,91,37,99],[40,92,37,99,"Object"],[40,98,37,99],[40,99,37,99,"assign"],[40,105,37,99],[40,110,37,105],[40,114,37,109],[40,115,37,110,"config"],[40,121,37,116],[41,14,37,118,"type"],[41,18,37,122],[41,20,37,124],[41,24,37,128],[41,25,37,129,"type"],[42,12,37,133],[42,14,37,135],[42,15,37,136],[42,16,37,137],[42,17,37,138],[43,10,38,16],[44,8,39,12],[45,6,40,8],[45,7,40,9],[45,8,40,10],[46,6,41,8],[46,10,41,12],[46,11,41,13,"listenerSubscriptions"],[46,32,41,34],[46,33,41,35,"push"],[46,37,41,39],[46,38,41,40,"subscription"],[46,50,41,52],[46,51,41,53],[47,6,42,8,"subscription"],[47,18,42,20],[47,21,42,23,"CarPlay_1"],[47,30,42,32],[47,31,42,33,"CarPlay"],[47,38,42,40],[47,39,42,41,"emitter"],[47,46,42,48],[47,47,42,49,"addListener"],[47,58,42,60],[47,59,42,61],[47,75,42,77],[47,77,42,80,"e"],[47,78,42,81],[47,82,42,86],[48,8,43,12],[48,12,43,16,"config"],[48,18,43,22],[48,19,43,23,"onItemSelect"],[48,31,43,35],[48,35,43,39,"e"],[48,36,43,40],[48,37,43,41,"templateId"],[48,47,43,51],[48,52,43,56],[48,56,43,60],[48,57,43,61,"id"],[48,59,43,63],[48,61,43,65],[49,10,44,16],[49,15,44,21,"Promise"],[49,22,44,28],[49,23,44,29,"resolve"],[49,30,44,36],[49,31,44,37,"config"],[49,37,44,43],[49,38,44,44,"onItemSelect"],[49,50,44,56],[49,51,44,57,"e"],[49,52,44,58],[49,53,44,59],[49,54,44,60],[49,55,44,61,"then"],[49,59,44,65],[49,60,44,66],[49,66,44,72,"react_native_1"],[49,80,44,86],[49,81,44,87,"Platform"],[49,89,44,95],[49,90,44,96,"OS"],[49,92,44,98],[49,97,44,103],[49,102,44,108],[49,106,44,112,"CarPlay_1"],[49,115,44,121],[49,116,44,122,"CarPlay"],[49,123,44,129],[49,124,44,130,"bridge"],[49,130,44,136],[49,131,44,137,"reactToSelectedResult"],[49,152,44,158],[49,153,44,159],[49,157,44,163],[49,158,44,164],[49,159,44,165],[50,8,45,12],[51,6,46,8],[51,7,46,9],[51,8,46,10],[52,6,47,8],[52,10,47,12],[52,11,47,13,"listenerSubscriptions"],[52,32,47,34],[52,33,47,35,"push"],[52,37,47,39],[52,38,47,40,"subscription"],[52,50,47,52],[52,51,47,53],[53,6,48,8,"subscription"],[53,18,48,20],[53,21,48,23,"CarPlay_1"],[53,30,48,32],[53,31,48,33,"CarPlay"],[53,38,48,40],[53,39,48,41,"emitter"],[53,46,48,48],[53,47,48,49,"addListener"],[53,58,48,60],[53,59,48,61],[53,78,48,80],[53,80,48,83,"e"],[53,81,48,84],[53,85,48,89],[54,8,49,12],[54,12,49,16,"config"],[54,18,49,22],[54,19,49,23,"onItemSelect"],[54,31,49,35],[54,35,49,39,"e"],[54,36,49,40],[54,37,49,41,"templateId"],[54,47,49,51],[54,52,49,56],[54,56,49,60],[54,57,49,61,"id"],[54,59,49,63],[54,61,49,65],[55,10,50,16],[55,15,50,21,"Promise"],[55,22,50,28],[55,23,50,29,"resolve"],[55,30,50,36],[55,31,50,37,"config"],[55,37,50,43],[55,38,50,44,"onItemSelect"],[55,50,50,56],[55,51,50,57,"e"],[55,52,50,58],[55,53,50,59],[55,54,50,60],[55,55,50,61,"then"],[55,59,50,65],[55,60,50,66],[55,66,50,72],[56,12,51,20],[56,16,51,24,"react_native_1"],[56,30,51,38],[56,31,51,39,"Platform"],[56,39,51,47],[56,40,51,48,"OS"],[56,42,51,50],[56,47,51,55],[56,52,51,60],[56,54,51,62],[57,14,52,24,"CarPlay_1"],[57,23,52,33],[57,24,52,34,"CarPlay"],[57,31,52,41],[57,32,52,42,"bridge"],[57,38,52,48],[57,39,52,49,"reactToSelectedResult"],[57,60,52,70],[57,61,52,71],[57,65,52,75],[57,66,52,76],[58,12,53,20],[59,10,54,16],[59,11,54,17],[59,12,54,18],[60,8,55,12],[61,6,56,8],[61,7,56,9],[61,8,56,10],[62,6,57,8],[62,10,57,12],[62,11,57,13,"listenerSubscriptions"],[62,32,57,34],[62,33,57,35,"push"],[62,37,57,39],[62,38,57,40,"subscription"],[62,50,57,52],[62,51,57,53],[63,4,58,4],[64,2,59,0],[65,2,60,0,"exports"],[65,9,60,7],[65,10,60,8,"SearchTemplate"],[65,24,60,22],[65,27,60,25,"SearchTemplate"],[65,41,60,39],[66,0,60,40],[66,3]],"functionMap":{"names":["<global>","SearchTemplate","get__type","get__eventMap","constructor","CarPlay_1.CarPlay.emitter.addListener$argument_1","config.onSearch._catch$argument_0","result.map$argument_0","Promise.resolve.then$argument_0"],"mappings":"AAA;ACM;ICE;KDE;IEC;KFK;IGC;sFCI;yECE,UD;iDEI;kBFG;SDS;+ECE;kEGE,kGH;SDE;kFCE;kEGE;iBHI;SDE;KHE;CDC"},"hasCjsExports":true},"type":"js/module"}]}