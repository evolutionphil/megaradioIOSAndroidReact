{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":49,"index":83}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/flowaliveService","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":192,"column":43,"index":4969},"end":{"line":192,"column":81,"index":5007}},{"start":{"line":244,"column":43,"index":6908},"end":{"line":244,"column":81,"index":6946}}],"key":"eZjvTlX2KiPEDbGxtebI7pe89+I=","exportNames":["*"],"imports":2,"isOptional":true}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":192,"column":37,"index":4963},"end":{"line":192,"column":81,"index":5007}},{"start":{"line":200,"column":36,"index":5336},"end":{"line":200,"column":68,"index":5368}},{"start":{"line":244,"column":37,"index":6902},"end":{"line":244,"column":81,"index":6946}},{"start":{"line":258,"column":27,"index":7430},"end":{"line":258,"column":84,"index":7487}},{"start":{"line":266,"column":36,"index":7807},"end":{"line":266,"column":68,"index":7839}},{"start":{"line":272,"column":32,"index":8129},"end":{"line":272,"column":69,"index":8166}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":6}},{"name":"./favoritesStore","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":200,"column":42,"index":5342},"end":{"line":200,"column":68,"index":5368}},{"start":{"line":266,"column":42,"index":7813},"end":{"line":266,"column":68,"index":7839}}],"key":"uT31l3UCowaKAUNRGcdBeYSEmlQ=","exportNames":["*"],"imports":2,"isOptional":true}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":258,"column":33,"index":7436},"end":{"line":258,"column":84,"index":7487}}],"key":"pxcCieib+f2IK/hSgfMrKxXbslg=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"@tanstack/react-query","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":272,"column":38,"index":8135},"end":{"line":272,"column":69,"index":8166}}],"key":"+d4lnRKuK9T7nj6i9NWVZ0ejxdw=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return l}});var e=r(_d[0]);!(function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),t.default=e})(r(_d[1]));r(_d[2]);const t='megaradio_auth_token',o='megaradio_user_data',s={getItem:async e=>localStorage.getItem(e),async setItem(e,t){localStorage.setItem(e,t)},async removeItem(e){localStorage.removeItem(e)}},n={user:null,token:null,isAuthenticated:!1,isAuthLoaded:!1,isLoading:!0,error:null,deviceInfo:(()=>{let e='mobile',t='Unknown Device';{const o='undefined'!=typeof navigator?navigator.userAgent:'';t=o.includes('Mobile')?'Mobile Browser':'Desktop Browser',e=o.includes('Mobile')?'mobile':'tablet'}return{deviceType:e,deviceName:t}})()},l=(0,e.create)((e,l)=>({...n,setUser:t=>e({user:t,isAuthenticated:null!==t,error:null}),setToken:t=>e({token:t}),setAuthenticated:t=>e({isAuthenticated:t}),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),loadStoredAuth:async()=>{e({isLoading:!0});try{console.log('[AuthStore] Loading stored auth...');const[n,l]=await Promise.all([s.getItem(t),s.getItem(o)]);if(console.log('[AuthStore] Token found:',!!n),console.log('[AuthStore] User found:',!!l),n&&l){const t=JSON.parse(l);e({token:n,user:t,isAuthenticated:!0,isAuthLoaded:!0,isLoading:!1}),console.log('[AuthStore] Auth restored successfully')}else e({isLoading:!1,isAuthLoaded:!0}),console.log('[AuthStore] No stored auth found')}catch(t){console.error('[AuthStore] Error loading stored auth:',t),e({isLoading:!1,isAuthLoaded:!0})}},saveAuth:async(n,l)=>{try{await Promise.all([s.setItem(t,l),s.setItem(o,JSON.stringify(n))]),e({user:n,token:l,isAuthenticated:!0,error:null});try{const{flowaliveService:e}=await r(_d[4])(_d[3],_d.paths,\"../services/flowaliveService\");await e.setUser(n)}catch(e){console.log('[AuthStore] FlowAlive setUser error:',e)}const{useFavoritesStore:c}=await r(_d[4])(_d[5],_d.paths,\"./favoritesStore\");console.log('[AuthStore] Login successful, loading favorites from server...');try{await c.getState().loadFavorites(),console.log('[AuthStore] Favorites loaded after login')}catch(e){console.error('[AuthStore] Failed to load favorites:',e)}}catch(e){console.error('Error saving auth:',e)}},updateUser:async t=>{try{await s.setItem(o,JSON.stringify(t)),e({user:t})}catch(e){console.error('Error updating user:',e)}},logout:async()=>{try{try{const{flowaliveService:e}=await r(_d[4])(_d[3],_d.paths,\"../services/flowaliveService\");await e.clearUser(),e.trackUserLogout()}catch(e){console.log('[AuthStore] FlowAlive clearUser error:',e)}await Promise.all([s.removeItem(t),s.removeItem(o)]);const e=await r(_d[4])(_d[6],_d.paths,\"@react-native-async-storage/async-storage\");await Promise.all([e.default.removeItem('@megaradio_favorites'),e.default.removeItem('@megaradio_favorites_order'),e.default.removeItem('@megaradio_push_token')]);const{useFavoritesStore:n}=await r(_d[4])(_d[5],_d.paths,\"./favoritesStore\");n.setState({favorites:[],customOrder:[],isLoaded:!1});try{const{queryClient:e}=await r(_d[4])(_d[7],_d.paths,\"@tanstack/react-query\")}catch(e){console.log('[AuthStore] Could not clear query cache:',e)}console.log('[AuthStore] Logout complete - favorites and push token cleared')}catch(e){console.error('Error clearing auth storage:',e)}e({...n,isLoading:!1,deviceInfo:l().deviceInfo})},clearAuth:()=>{e({user:null,token:null,isAuthenticated:!1,error:null})}}));var c=l});","lineCount":1,"map":[[1,93,302,0,"Object"],[1,100,302,0,"defineProperty"],[1,115,302,0,"_e"],[1,118,302,0],[1,129,302,0,"enumerable"],[1,141,302,0],[1,143,302,0,"get"],[1,147,302,0],[1,165,302,0,"_default"],[1,166,302,0],[1,170,119,0,"Object"],[1,177,119,0,"defineProperty"],[1,192,119,0,"_e"],[1,195,119,0],[1,211,119,0,"enumerable"],[1,223,119,0],[1,225,119,0,"get"],[1,229,119,0],[1,247,119,0,"useAuthStore"],[1,248,119,0],[1,252,1,0],[1,256,1,0,"_zustand"],[1,258,1,0,"r"],[1,260,1,0,"_d"],[1,263,1,0],[1,269],[1,493,2,0,"_interopNamespace"],[1,494,2,0,"r"],[1,496,2,0,"_d"],[1,499,2,0],[1,504,2,49,"r"],[1,506,2,49,"_d"],[1,509,2,49],[1,513,6,0],[1,519,6,6,"TOKEN_KEY"],[1,521,6,18],[1,544,7,6,"USER_KEY"],[1,546,7,17],[1,568,50,6,"secureStorage"],[1,570,50,22],[1,571,51,2,"async"],[1,579,51,15,"getItem"],[1,585,51,16,"key"],[1,588,54,13,"localStorage"],[1,601,54,26,"getItem"],[1,609,54,34,"key"],[1,612,63,2],[1,625,63,8,"setItem"],[1,626,63,16,"key"],[1,628,63,29,"value"],[1,631,65,6,"localStorage"],[1,644,65,19,"setItem"],[1,652,65,27,"key"],[1,654,65,32,"value"],[1,656,73,2],[1,658,75,2],[1,674,75,8,"removeItem"],[1,675,75,19,"key"],[1,678,77,6,"localStorage"],[1,691,77,19,"removeItem"],[1,702,77,30,"key"],[1,704,85,2],[1,707,109,6,"initialState"],[1,709,109,21],[1,710,110,2,"user"],[1,715,110,8],[1,720,111,2,"token"],[1,726,111,9],[1,731,112,2,"isAuthenticated"],[1,748,112,19],[1,750,113,2,"isAuthLoaded"],[1,764,113,16],[1,766,114,2,"isLoading"],[1,777,114,13],[1,779,115,2,"error"],[1,785,115,9],[1,790,116,2,"deviceInfo"],[1,801,88,22,"getDeviceInfo"],[1,807,90,2],[1,811,90,6,"deviceType"],[1,813,90,47],[1,822,91,6,"deviceName"],[1,824,91,19],[1,841,99,36],[1,842,101,4],[1,848,101,10,"userAgent"],[1,850,101,43],[1,870,101,29,"navigator"],[1,880,101,57,"navigator"],[1,890,101,67,"userAgent"],[1,900,101,79],[1,903,102,4,"deviceName"],[1,905,102,17,"userAgent"],[1,907,102,27,"includes"],[1,916,102,36],[1,926,102,48],[1,943,102,67],[1,961,103,4,"deviceType"],[1,963,103,17,"userAgent"],[1,965,103,27,"includes"],[1,974,103,36],[1,984,103,48],[1,993,103,59],[1,1001,104,2],[1,1002,106,2],[1,1008,106,9],[1,1009,106,11,"deviceType"],[1,1022,106,23,"deviceName"],[1,1037,116,14,"getDeviceInfo"],[1,1041,119,13,"useAuthStore"],[1,1044,119,28],[1,1046,119,28,"create"],[1,1048,119,34,"create"],[1,1056,119,46],[1,1057,119,47,"set"],[1,1059,119,52,"get"],[1,1064,119,55],[1,1068,120,5,"initialState"],[1,1070,122,2,"setUser"],[1,1078,122,12,"user"],[1,1081,123,4,"set"],[1,1083,123,8],[1,1084,124,6,"user"],[1,1091,125,6,"isAuthenticated"],[1,1107,125,32],[1,1114,125,23,"user"],[1,1116,126,6,"error"],[1,1122,126,13],[1,1129,129,2,"setToken"],[1,1138,129,13,"token"],[1,1141,130,4,"set"],[1,1143,130,8],[1,1144,130,10,"token"],[1,1154,132,2,"setAuthenticated"],[1,1171,132,21,"isAuthenticated"],[1,1174,133,4,"set"],[1,1176,133,8],[1,1177,133,10,"isAuthenticated"],[1,1197,135,2,"setLoading"],[1,1208,135,15,"isLoading"],[1,1211,136,4,"set"],[1,1213,136,8],[1,1214,136,10,"isLoading"],[1,1228,138,2,"setError"],[1,1237,138,13,"error"],[1,1240,139,4,"set"],[1,1242,139,8],[1,1243,139,10,"error"],[1,1253,142,2,"loadStoredAuth"],[1,1268,142,18,"async"],[1,1278,143,4,"set"],[1,1280,143,8],[1,1281,143,10,"isLoading"],[1,1292,143,21],[1,1296,145,4],[1,1300,146,6,"console"],[1,1308,146,14,"log"],[1,1312,146,18],[1,1350,147,6],[1,1356,147,13,"storedToken"],[1,1358,147,26,"storedUser"],[1,1367,147,46,"Promise"],[1,1375,147,54,"all"],[1,1379,147,58],[1,1380,148,8,"secureStorage"],[1,1382,148,22,"getItem"],[1,1390,148,30,"TOKEN_KEY"],[1,1393,149,8,"secureStorage"],[1,1395,149,22,"getItem"],[1,1403,149,30,"USER_KEY"],[1,1408,155,6],[1,1411,152,6,"console"],[1,1419,152,14,"log"],[1,1423,152,18],[1,1452,152,48,"storedToken"],[1,1455,153,6,"console"],[1,1463,153,14,"log"],[1,1467,153,18],[1,1495,153,47,"storedUser"],[1,1498,155,10,"storedToken"],[1,1501,155,25,"storedUser"],[1,1503,155,37],[1,1504,156,8],[1,1510,156,14,"user"],[1,1512,156,21,"JSON"],[1,1517,156,26,"parse"],[1,1523,156,32,"storedUser"],[1,1526,157,8,"set"],[1,1528,157,12],[1,1529,158,10,"token"],[1,1535,158,17,"storedToken"],[1,1537,159,10,"user"],[1,1544,160,10,"isAuthenticated"],[1,1561,160,27],[1,1563,161,10,"isAuthLoaded"],[1,1577,161,24],[1,1579,162,10,"isLoading"],[1,1590,162,21],[1,1594,164,8,"console"],[1,1602,164,16,"log"],[1,1606,164,20],[1,1647,165,6],[1,1653,166,8,"set"],[1,1655,166,12],[1,1656,166,14,"isLoading"],[1,1667,166,25],[1,1669,166,32,"isAuthLoaded"],[1,1683,166,46],[1,1687,167,8,"console"],[1,1695,167,16,"log"],[1,1699,167,20],[1,1734,169,4],[1,1735,169,6],[1,1741,169,13,"error"],[1,1744,170,6,"console"],[1,1752,170,14,"error"],[1,1758,170,20],[1,1799,170,62,"error"],[1,1802,171,6,"set"],[1,1804,171,10],[1,1805,171,12,"isLoading"],[1,1816,171,23],[1,1818,171,30,"isAuthLoaded"],[1,1832,171,44],[1,1835,172,4],[1,1838,176,2,"saveAuth"],[1,1847,176,12,"async"],[1,1853,176,19,"user"],[1,1855,176,31,"token"],[1,1860,177,4],[1,1870,178,12,"Promise"],[1,1878,178,20,"all"],[1,1882,178,24],[1,1883,179,8,"secureStorage"],[1,1885,179,22,"setItem"],[1,1893,179,30,"TOKEN_KEY"],[1,1895,179,41,"token"],[1,1898,180,8,"secureStorage"],[1,1900,180,22,"setItem"],[1,1908,180,30,"USER_KEY"],[1,1910,180,40,"JSON"],[1,1915,180,45,"stringify"],[1,1925,180,55,"user"],[1,1931,183,6,"set"],[1,1933,183,10],[1,1934,184,8,"user"],[1,1941,185,8,"token"],[1,1949,186,8,"isAuthenticated"],[1,1966,186,25],[1,1968,187,8,"error"],[1,1974,187,15],[1,1981,191,6],[1,1985,192,8],[1,1991,192,14,"flowaliveService"],[1,2008,192,16,"flowaliveService"],[1,2017,192,37,"r"],[1,2019,192,37,"_d"],[1,2022,192,37],[1,2025,192,37,"r"],[1,2026,192,37,"_d"],[1,2029,192,37],[1,2032,192,37,"_d"],[1,2035,192,37,"paths"],[1,2041,192,37],[1,2079,193,14,"flowaliveService"],[1,2081,193,31,"setUser"],[1,2089,193,39,"user"],[1,2091,194,6],[1,2092,194,8],[1,2098,194,15,"e"],[1,2101,195,8,"console"],[1,2109,195,16,"log"],[1,2113,195,20],[1,2152,195,60,"e"],[1,2154,196,6],[1,2155,200,6],[1,2161,200,12,"useFavoritesStore"],[1,2179,200,14,"useFavoritesStore"],[1,2188,200,36,"r"],[1,2190,200,36,"_d"],[1,2193,200,36],[1,2196,200,36,"r"],[1,2197,200,36,"_d"],[1,2200,200,36],[1,2203,200,36,"_d"],[1,2206,200,36,"paths"],[1,2212,200,36],[1,2232,203,6,"console"],[1,2240,203,14,"log"],[1,2244,203,18],[1,2310,204,6],[1,2320,205,14,"useFavoritesStore"],[1,2322,205,32,"getState"],[1,2333,205,43,"loadFavorites"],[1,2349,206,8,"console"],[1,2357,206,16,"log"],[1,2361,206,20],[1,2404,207,6],[1,2405,207,8],[1,2411,207,15,"error"],[1,2414,208,8,"console"],[1,2422,208,16,"error"],[1,2428,208,22],[1,2468,208,63,"error"],[1,2470,209,6],[1,2471,210,4],[1,2472,210,6],[1,2478,210,13,"error"],[1,2481,211,6,"console"],[1,2489,211,14,"error"],[1,2495,211,20],[1,2516,211,42,"error"],[1,2518,212,4],[1,2521,216,2,"updateUser"],[1,2532,216,14,"async"],[1,2542,217,4],[1,2552,218,12,"secureStorage"],[1,2554,218,26,"setItem"],[1,2562,218,34,"USER_KEY"],[1,2564,218,44,"JSON"],[1,2569,218,49,"stringify"],[1,2579,218,59,"user"],[1,2583,219,6,"set"],[1,2585,219,10],[1,2586,219,12,"user"],[1,2594,220,4],[1,2595,220,6],[1,2601,220,13,"error"],[1,2604,221,6,"console"],[1,2612,221,14,"error"],[1,2618,221,20],[1,2641,221,44,"error"],[1,2643,222,4],[1,2646,226,2,"logout"],[1,2653,226,10,"async"],[1,2663,227,4],[1,2667,243,6],[1,2671,244,8],[1,2677,244,14,"flowaliveService"],[1,2694,244,16,"flowaliveService"],[1,2703,244,37,"r"],[1,2705,244,37,"_d"],[1,2708,244,37],[1,2711,244,37,"r"],[1,2712,244,37,"_d"],[1,2715,244,37],[1,2718,244,37,"_d"],[1,2721,244,37,"paths"],[1,2727,244,37],[1,2765,245,14,"flowaliveService"],[1,2767,245,31,"clearUser"],[1,2779,246,8,"flowaliveService"],[1,2781,246,25,"trackUserLogout"],[1,2798,247,6],[1,2799,247,8],[1,2805,247,15,"e"],[1,2808,248,8,"console"],[1,2816,248,16,"log"],[1,2820,248,20],[1,2861,248,62,"e"],[1,2863,249,6],[1,2870,251,12,"Promise"],[1,2878,251,20,"all"],[1,2882,251,24],[1,2883,252,8,"secureStorage"],[1,2885,252,22,"removeItem"],[1,2896,252,33,"TOKEN_KEY"],[1,2899,253,8,"secureStorage"],[1,2901,253,22,"removeItem"],[1,2912,253,33,"USER_KEY"],[1,2917,258,6],[1,2923,258,12,"AsyncStorage"],[1,2931,258,27,"r"],[1,2933,258,27,"_d"],[1,2936,258,27],[1,2939,258,27,"r"],[1,2940,258,27,"_d"],[1,2943,258,27],[1,2946,258,27,"_d"],[1,2949,258,27,"paths"],[1,2955,258,27],[1,3006,259,12,"Promise"],[1,3014,259,20,"all"],[1,3018,259,24],[1,3019,260,8,"AsyncStorage"],[1,3021,260,21,"default"],[1,3029,260,29,"removeItem"],[1,3040,260,40],[1,3064,261,8,"AsyncStorage"],[1,3066,261,21,"default"],[1,3074,261,29,"removeItem"],[1,3085,261,40],[1,3115,262,8,"AsyncStorage"],[1,3117,262,21,"default"],[1,3125,262,29,"removeItem"],[1,3136,262,40],[1,3163,266,6],[1,3169,266,12,"useFavoritesStore"],[1,3187,266,14,"useFavoritesStore"],[1,3196,266,36,"r"],[1,3198,266,36,"_d"],[1,3201,266,36],[1,3204,266,36,"r"],[1,3205,266,36,"_d"],[1,3208,266,36],[1,3211,266,36,"_d"],[1,3214,266,36,"paths"],[1,3220,266,36],[1,3240,267,6,"useFavoritesStore"],[1,3242,267,24,"setState"],[1,3251,267,33],[1,3252,267,35,"favorites"],[1,3262,267,46],[1,3265,267,50,"customOrder"],[1,3277,267,63],[1,3280,267,67,"isLoaded"],[1,3290,267,77],[1,3294,271,6],[1,3298,272,8],[1,3304,272,14,"queryClient"],[1,3316,272,16,"queryClient"],[1,3325,272,32,"r"],[1,3327,272,32,"_d"],[1,3330,272,32],[1,3333,272,32,"r"],[1,3334,272,32,"_d"],[1,3337,272,32],[1,3340,272,32,"_d"],[1,3343,272,32,"paths"],[1,3349,272,32],[1,3373,275,6],[1,3374,275,8],[1,3380,275,15,"e"],[1,3383,276,8,"console"],[1,3391,276,16,"log"],[1,3395,276,20],[1,3438,276,64,"e"],[1,3440,277,6],[1,3441,279,6,"console"],[1,3449,279,14,"log"],[1,3453,279,18],[1,3518,280,4],[1,3519,280,6],[1,3525,280,13,"error"],[1,3528,281,6,"console"],[1,3536,281,14,"error"],[1,3542,281,20],[1,3573,281,52,"error"],[1,3575,282,4],[1,3576,284,4,"set"],[1,3578,284,8],[1,3582,285,9,"initialState"],[1,3584,286,6,"isLoading"],[1,3595,286,17],[1,3597,287,6,"deviceInfo"],[1,3608,287,18,"get"],[1,3612,287,24,"deviceInfo"],[1,3626,292,2,"clearAuth"],[1,3636,292,13,"clearAuth"],[1,3641,293,4,"set"],[1,3643,293,8],[1,3644,294,6,"user"],[1,3649,294,12],[1,3654,295,6,"token"],[1,3660,295,13],[1,3665,296,6,"isAuthenticated"],[1,3682,296,23],[1,3684,297,6,"error"],[1,3690,297,13],[1,3701,302,0],[1,3705,302,0,"_default"],[1,3707,302,15,"useAuthStore"],[1,3708,302,28],[1,3711]],"functionMap":{"names":["<global>","secureStorage.getItem","secureStorage.setItem","secureStorage.removeItem","getDeviceInfo","create$argument_0","setUser","setToken","setAuthenticated","setLoading","setError","loadStoredAuth","saveAuth","updateUser","logout","clearAuth"],"mappings":"AAA;ECkD;GDU;EEE;GFU;EGE;GHU;sBIG;CJmB;8CKY;WCG;MDK;YEE;kBFC;oBGE;4BHC;cIE;sBJC;YKE;kBLC;kBMG;GN+B;YOG;GPqC;cQG;GRO;USG;GT+D;aUG;GVO;ELC"},"hasCjsExports":false},"type":"js/module"}]}