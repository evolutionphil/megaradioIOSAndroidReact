{"dependencies":[{"name":"../transport.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":277},"end":{"line":7,"column":49,"index":303}}],"key":"lFCvJFzyfVWMX45Bf0f/rFXObZ0=","exportNames":["*"],"imports":1}},{"name":"../util.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":323},"end":{"line":8,"column":39,"index":344}}],"key":"Bzso+pzc0We++WtcOzIpK6Le7v4=","exportNames":["*"],"imports":1}},{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":373},"end":{"line":9,"column":54,"index":400}}],"key":"ZdCLryCFqJSS+1R9t7L2i2r0/QM=","exportNames":["*"],"imports":1}},{"name":"../globals.node.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":26,"index":428},"end":{"line":10,"column":55,"index":457}}],"key":"ZfdmBFq8qn8BbA89eBFcCa3JjTk=","exportNames":["*"],"imports":1}},{"name":"debug","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":32,"index":491},"end":{"line":11,"column":48,"index":507}}],"key":"iZ55sBoXw9WwOGuopuB9Sv3DBX8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.WS=_e.BaseWS=void 0;const t=r(d[0]),s=r(d[1]),o=r(d[2]),i=r(d[3]),n=(0,e(r(d[4])).default)(\"engine.io-client:websocket\"),c=\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.product&&\"reactnative\"===navigator.product.toLowerCase();class h extends t.Transport{get name(){return\"websocket\"}doOpen(){const e=this.uri(),t=this.opts.protocols,o=c?{}:(0,s.pick)(this.opts,\"agent\",\"perMessageDeflate\",\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"rejectUnauthorized\",\"localAddress\",\"protocolVersion\",\"origin\",\"maxPayload\",\"family\",\"checkServerIdentity\");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,o)}catch(e){return this.emitReserved(\"error\",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:\"websocket connection closed\",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError(\"websocket error\",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],c=t===e.length-1;(0,o.encodePacket)(s,this.supportsBinary,e=>{try{this.doWrite(s,e)}catch(e){n(\"websocket closed before onclose event\")}c&&(0,i.nextTick)(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?\"wss\":\"ws\",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,s.randomString)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}_e.BaseWS=h;const p=i.globalThisShim.WebSocket||i.globalThisShim.MozWebSocket;_e.WS=class extends h{createSocket(e,t,s){return c?new p(e,t,s):t?new p(e,t):new p(e)}doWrite(e,t){this.ws.send(t)}}});","lineCount":1,"map":[[1,30,1,0],[1,43,2,0],[1,47,2,4,"__importDefault"],[1,49,2,23,"this"],[1,55,2,31,"this"],[1,60,2,36,"__importDefault"],[1,77,2,56],[1,86,2,66,"mod"],[1,89,3,4],[1,96,3,12,"mod"],[1,99,3,19,"mod"],[1,101,3,23,"__esModule"],[1,112,3,37,"mod"],[1,114,3,43],[1,115,3,45,"default"],[1,123,3,56,"mod"],[1,125,4,0],[1,127,5,0,"Object"],[1,134,5,7,"defineProperty"],[1,149,5,22,"exports"],[1,152,5,31],[1,165,5,45],[1,166,5,47,"value"],[1,173,5,54],[1,177,6,0,"exports"],[1,180,6,8,"WS"],[1,183,6,13,"exports"],[1,186,6,21,"BaseWS"],[1,198,6,27,"undefined"],[1,200,7,0],[1,206,7,6,"transport_js_1"],[1,208,7,23,"require"],[1,210,7,30,"d"],[1,212,7,30],[1,216,8,6,"util_js_1"],[1,218,8,18,"require"],[1,220,8,25,"d"],[1,222,8,25],[1,226,9,6,"engine_io_parser_1"],[1,228,9,27,"require"],[1,230,9,34,"d"],[1,232,9,34],[1,236,10,6,"globals_node_js_1"],[1,238,10,26,"require"],[1,240,10,33,"d"],[1,242,10,33],[1,246,12,6,"debug"],[1,249,12,14],[1,251,11,16,"__importDefault"],[1,253,11,32,"require"],[1,255,11,39,"d"],[1,257,11,39],[1,262,12,26,"default"],[1,271,12,35],[1,301,14,6,"isReactNative"],[1,303,14,43],[1,323,14,29,"navigator"],[1,334,15,33],[1,351,15,11,"navigator"],[1,361,15,21,"product"],[1,370,16,40],[1,386,16,4,"navigator"],[1,396,16,14,"product"],[1,404,16,22,"toLowerCase"],[1,418,17,0],[1,424,17,6,"BaseWS"],[1,434,17,21,"transport_js_1"],[1,436,17,36,"Transport"],[1,446,18,4],[1,454,18,8,"name"],[1,457,19,8],[1,463,19,15],[1,474,20,4],[1,475,21,4,"doOpen"],[1,484,22,8],[1,490,22,14,"uri"],[1,492,22,20,"this"],[1,497,22,25,"uri"],[1,503,23,14,"protocols"],[1,505,23,26,"this"],[1,510,23,31,"opts"],[1,515,23,36,"protocols"],[1,525,25,14,"opts"],[1,527,25,21,"isReactNative"],[1,529,26,14],[1,530,26,15],[1,533,27,14],[1,535,27,18,"util_js_1"],[1,537,27,28,"pick"],[1,543,27,34,"this"],[1,548,27,39,"opts"],[1,553,27,45],[1,561,27,54],[1,581,27,75],[1,587,27,82],[1,593,27,89],[1,606,27,103],[1,613,27,111],[1,618,27,117],[1,628,27,128],[1,649,27,150],[1,664,27,166],[1,682,27,185],[1,691,27,195],[1,704,27,209],[1,713,27,219],[1,736,28,12,"this"],[1,741,28,17,"opts"],[1,746,28,22,"extraHeaders"],[1,761,29,12,"opts"],[1,763,29,17,"headers"],[1,771,29,27,"this"],[1,776,29,32,"opts"],[1,781,29,37,"extraHeaders"],[1,795,31,8],[1,799,32,12,"this"],[1,804,32,17,"ws"],[1,807,32,22,"this"],[1,812,32,27,"createSocket"],[1,825,32,40,"uri"],[1,827,32,45,"protocols"],[1,829,32,56,"opts"],[1,831,33,8],[1,832,34,8],[1,838,34,15,"err"],[1,841,35,12],[1,848,35,19,"this"],[1,853,35,24,"emitReserved"],[1,866,35,37],[1,874,35,46,"err"],[1,876,36,8],[1,877,37,8,"this"],[1,882,37,13,"ws"],[1,885,37,16,"binaryType"],[1,896,37,29,"this"],[1,901,37,34,"socket"],[1,908,37,41,"binaryType"],[1,919,38,8,"this"],[1,924,38,13,"addEventListeners"],[1,943,39,4],[1,944,45,4,"addEventListeners"],[1,964,46,8,"this"],[1,969,46,13,"ws"],[1,972,46,16,"onopen"],[1,979,46,25],[1,984,47,16,"this"],[1,989,47,21,"opts"],[1,994,47,26,"autoUnref"],[1,1005,48,16,"this"],[1,1010,48,21,"ws"],[1,1013,48,24,"_socket"],[1,1021,48,32,"unref"],[1,1029,50,12,"this"],[1,1034,50,17,"onOpen"],[1,1044,52,8,"this"],[1,1049,52,13,"ws"],[1,1052,52,16,"onclose"],[1,1060,52,27,"closeEvent"],[1,1063,52,42,"this"],[1,1068,52,47,"onClose"],[1,1076,52,55],[1,1077,53,12,"description"],[1,1089,53,25],[1,1119,54,12,"context"],[1,1127,54,21,"closeEvent"],[1,1131,56,8,"this"],[1,1136,56,13,"ws"],[1,1139,56,16,"onmessage"],[1,1149,56,29,"ev"],[1,1152,56,36,"this"],[1,1157,56,41,"onData"],[1,1164,56,48,"ev"],[1,1166,56,51,"data"],[1,1172,57,8,"this"],[1,1177,57,13,"ws"],[1,1180,57,16,"onerror"],[1,1188,57,27,"e"],[1,1191,57,33,"this"],[1,1196,57,38,"onError"],[1,1204,57,46],[1,1222,57,65,"e"],[1,1224,58,4],[1,1225,59,4,"write"],[1,1231,59,10,"packets"],[1,1234,60,8,"this"],[1,1239,60,13,"writable"],[1,1249,60,24],[1,1251,63,8],[1,1255,63,13],[1,1259,63,17,"i"],[1,1261,63,21],[1,1263,63,24,"i"],[1,1265,63,28,"packets"],[1,1267,63,36,"length"],[1,1274,63,44,"i"],[1,1278,63,49],[1,1279,64,12],[1,1285,64,18,"packet"],[1,1287,64,27,"packets"],[1,1289,64,35,"i"],[1,1292,65,18,"lastPacket"],[1,1294,65,31,"i"],[1,1298,65,37,"packets"],[1,1300,65,45,"length"],[1,1307,65,54],[1,1310,66,12],[1,1312,66,16,"engine_io_parser_1"],[1,1314,66,35,"encodePacket"],[1,1328,66,49,"packet"],[1,1330,66,57,"this"],[1,1335,66,62,"supportsBinary"],[1,1350,66,79,"data"],[1,1354,70,16],[1,1358,71,20,"this"],[1,1363,71,25,"doWrite"],[1,1371,71,33,"packet"],[1,1373,71,41,"data"],[1,1375,72,16],[1,1376,73,16],[1,1382,73,23,"e"],[1,1385,74,20,"debug"],[1,1387,74,26],[1,1427,75,16],[1,1428,76,20,"lastPacket"],[1,1432,79,20],[1,1434,79,24,"globals_node_js_1"],[1,1436,79,42,"nextTick"],[1,1446,79,52],[1,1451,80,24,"this"],[1,1456,80,29,"writable"],[1,1466,80,40],[1,1468,81,24,"this"],[1,1473,81,29,"emitReserved"],[1,1486,81,42],[1,1496,82,23,"this"],[1,1501,82,28,"setTimeoutFn"],[1,1516,85,8],[1,1517,86,4],[1,1518,87,4,"doClose"],[1,1533,88,31],[1,1537,88,19,"this"],[1,1542,88,24,"ws"],[1,1547,89,12,"this"],[1,1552,89,17,"ws"],[1,1555,89,20,"onerror"],[1,1563,89,30],[1,1570,90,12,"this"],[1,1575,90,17,"ws"],[1,1578,90,20,"close"],[1,1586,91,12,"this"],[1,1591,91,17,"ws"],[1,1594,91,22],[1,1599,93,4],[1,1600,99,4,"uri"],[1,1606,100,8],[1,1612,100,14,"schema"],[1,1614,100,23,"this"],[1,1619,100,28,"opts"],[1,1624,100,33,"secure"],[1,1631,100,42],[1,1637,100,50],[1,1642,101,14,"query"],[1,1644,101,22,"this"],[1,1649,101,27,"query"],[1,1656,101,36],[1,1657,101,37],[1,1659,110,8],[1,1666,103,12,"this"],[1,1671,103,17,"opts"],[1,1676,103,22,"timestampRequests"],[1,1696,104,12,"query"],[1,1698,104,18,"this"],[1,1703,104,23,"opts"],[1,1708,104,28,"timestampParam"],[1,1725,104,46],[1,1727,104,50,"util_js_1"],[1,1729,104,60,"randomString"],[1,1746,107,13,"this"],[1,1751,107,18,"supportsBinary"],[1,1768,108,12,"query"],[1,1770,108,18,"b64"],[1,1774,108,24],[1,1777,110,15,"this"],[1,1782,110,20,"createUri"],[1,1792,110,30,"schema"],[1,1794,110,38,"query"],[1,1796,111,4],[1,1798,113,0,"exports"],[1,1801,113,8,"BaseWS"],[1,1808,113,17,"BaseWS"],[1,1810,114,0],[1,1816,114,6,"WebSocketCtor"],[1,1818,114,22,"globals_node_js_1"],[1,1820,114,40,"globalThisShim"],[1,1835,114,55,"WebSocket"],[1,1846,114,68,"globals_node_js_1"],[1,1848,114,86,"globalThisShim"],[1,1863,114,101,"MozWebSocket"],[1,1876,136,0,"exports"],[1,1879,136,8,"WS"],[1,1882,124,0],[1,1896,124,17,"BaseWS"],[1,1898,125,4,"createSocket"],[1,1911,125,17,"uri"],[1,1913,125,22,"protocols"],[1,1915,125,33,"opts"],[1,1918,126,8],[1,1925,126,16,"isReactNative"],[1,1927,130,14],[1,1931,130,18,"WebSocketCtor"],[1,1933,130,32,"uri"],[1,1935,130,37,"protocols"],[1,1937,130,48,"opts"],[1,1940,127,14,"protocols"],[1,1942,128,18],[1,1946,128,22,"WebSocketCtor"],[1,1948,128,36,"uri"],[1,1950,128,41,"protocols"],[1,1953,129,18],[1,1957,129,22,"WebSocketCtor"],[1,1959,129,36,"uri"],[1,1961,131,4],[1,1962,132,4,"doWrite"],[1,1970,132,12,"_packet"],[1,1972,132,21,"data"],[1,1975,133,8,"this"],[1,1980,133,13,"ws"],[1,1983,133,16,"send"],[1,1988,133,21,"data"],[1,1990,134,4],[1,1992,136,16],[1,1995]],"functionMap":{"names":["<global>","<anonymous>","BaseWS","BaseWS#get__name","BaseWS#doOpen","BaseWS#addEventListeners","ws.onopen","ws.onclose","ws.onmessage","ws.onerror","BaseWS#write","BaseWS#doClose","BaseWS#uri","WS","WS#createSocket","WS#doWrite"],"mappings":"AAA;wDCC;CDE;AEa;ICC;KDE;IEC;KFkB;IGM;yBCC;SDK;0BEC;UFG;4BGC,4BH;0BIC,yCJ;KHC;IQC;8ETO;aSkB;KRE;ISC;8BFE,SE;KTI;IUM;KVY;CFC;AaY;ICC;KDM;IEC;KFE;CbC"},"hasCjsExports":true},"type":"js/module"}]}