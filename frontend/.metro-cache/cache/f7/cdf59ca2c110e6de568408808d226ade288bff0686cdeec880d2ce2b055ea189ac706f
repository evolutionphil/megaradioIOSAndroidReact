{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _objectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  const _excluded = [\"id\"],\n    _excluded2 = [\"id\"];\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Cluster = void 0;\n  const react_native_1 = require(_dependencyMap[1], \"react-native-web/dist/index\");\n  class Cluster {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    subscriptions = {};\n    clusterIds = new Set();\n    /**\n     * @returns ids of all connected clusters\n     */\n    getClusterIds() {\n      return [...this.clusterIds];\n    }\n    constructor(bridge, emitter) {\n      this.bridge = bridge;\n      emitter.addListener('clusterDidDisconnect', e => {\n        this.subscriptions[e.id]?.onDisconnect?.();\n        this.clusterIds.delete(e.id);\n      });\n      emitter.addListener('clusterDidChangeCompassSetting', e => {\n        const {\n          id,\n          compassSetting\n        } = e;\n        this.subscriptions[id]?.onDidChangeCompassSetting?.(compassSetting);\n      });\n      emitter.addListener('clusterDidChangeSpeedLimitSetting', e => {\n        const {\n          id,\n          speedLimitSetting\n        } = e;\n        this.subscriptions[id]?.onDidChangeSpeedLimitSetting?.(speedLimitSetting);\n      });\n      emitter.addListener('clusterDidZoomIn', e => {\n        this.subscriptions[e.id]?.onZoomIn?.();\n      });\n      emitter.addListener('clusterDidZoomOut', e => {\n        this.subscriptions[e.id]?.onZoomOut?.();\n      });\n      emitter.addListener('clusterWindowDidConnect', e => {\n        const {\n            id\n          } = e,\n          rest = _objectWithoutPropertiesLoose(e, _excluded);\n        this.subscriptions[id]?.onWindowDidConnect?.(rest);\n      });\n      emitter.addListener('clusterContentStyleDidChange', e => {\n        const {\n            id\n          } = e,\n          rest = _objectWithoutPropertiesLoose(e, _excluded2);\n        this.subscriptions[id]?.onContentStyleDidChange?.(rest);\n      });\n      emitter.addListener('clusterStateDidChange', e => {\n        const {\n          id,\n          isVisible\n        } = e;\n        this.subscriptions[id]?.onStateChanged?.(isVisible);\n      });\n    }\n    create(config) {\n      const {\n        id,\n        component,\n        onDisconnect,\n        onWindowDidConnect,\n        onContentStyleDidChange,\n        onStateChanged\n      } = config;\n      const inactiveDescriptionVariants = 'inactiveDescriptionVariants' in config ? config.inactiveDescriptionVariants : [];\n      const onDidChangeCompassSetting = 'onDidChangeCompassSetting' in config ? config.onDidChangeCompassSetting : undefined;\n      const onDidChangeSpeedLimitSetting = 'onDidChangeSpeedLimitSetting' in config ? config.onDidChangeSpeedLimitSetting : undefined;\n      const onZoomIn = 'onZoomIn' in config ? config.onZoomIn : undefined;\n      const onZoomOut = 'onZoomOut' in config ? config.onZoomOut : undefined;\n      this.subscriptions[id] = {\n        onDisconnect,\n        onDidChangeCompassSetting,\n        onDidChangeSpeedLimitSetting,\n        onZoomIn,\n        onZoomOut,\n        onWindowDidConnect,\n        onContentStyleDidChange,\n        onStateChanged\n      };\n      react_native_1.AppRegistry.registerComponent(id, () => component);\n      this.clusterIds.add(id);\n      if (react_native_1.Platform.OS === 'android') {\n        // on Android Auto we have a clusters that are set up on native side only\n        return;\n      }\n      const clusterConfig = {\n        inactiveDescriptionVariants: inactiveDescriptionVariants.map(description => Object.assign({}, description, {\n          image: description.image ? react_native_1.Image.resolveAssetSource(description.image) : null\n        }))\n      };\n      this.bridge.initCluster(id, clusterConfig);\n    }\n    checkForConnection(id) {\n      this.bridge.checkForClusterConnection(id);\n    }\n  }\n  exports.Cluster = Cluster;\n});","lineCount":112,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_objectWithoutPropertiesLoose"],[4,35,1,13],[4,38,1,13,"require"],[4,45,1,13],[4,46,1,13,"_dependencyMap"],[4,60,1,13],[5,2,1,13],[5,8,1,13,"_excluded"],[5,17,1,13],[6,4,1,13,"_excluded2"],[6,14,1,13],[7,2,2,0,"Object"],[7,8,2,6],[7,9,2,7,"defineProperty"],[7,23,2,21],[7,24,2,22,"exports"],[7,31,2,29],[7,33,2,31],[7,45,2,43],[7,47,2,45],[8,4,2,47,"value"],[8,9,2,52],[8,11,2,54],[9,2,2,59],[9,3,2,60],[9,4,2,61],[10,2,3,0,"exports"],[10,9,3,7],[10,10,3,8,"Cluster"],[10,17,3,15],[10,20,3,18],[10,25,3,23],[10,26,3,24],[11,2,3,25],[11,8,3,25,"react_native_1"],[11,22,3,25],[11,25,3,25,"require"],[11,32,3,25],[11,33,3,25,"_dependencyMap"],[11,47,3,25],[12,2,5,0],[12,8,5,6,"Cluster"],[12,15,5,13],[12,16,5,14],[13,4,7,4],[14,4,8,4,"subscriptions"],[14,17,8,17],[14,20,8,20],[14,21,8,21],[14,22,8,22],[15,4,9,4,"clusterIds"],[15,14,9,14],[15,17,9,17],[15,21,9,21,"Set"],[15,24,9,24],[15,25,9,25],[15,26,9,26],[16,4,10,4],[17,0,11,0],[18,0,12,0],[19,4,13,4,"getClusterIds"],[19,17,13,17,"getClusterIds"],[19,18,13,17],[19,20,13,20],[20,6,14,8],[20,13,14,15],[20,14,14,16],[20,17,14,19],[20,21,14,23],[20,22,14,24,"clusterIds"],[20,32,14,34],[20,33,14,35],[21,4,15,4],[22,4,16,4,"constructor"],[22,15,16,15,"constructor"],[22,16,16,16,"bridge"],[22,22,16,22],[22,24,16,24,"emitter"],[22,31,16,31],[22,33,16,33],[23,6,17,8],[23,10,17,12],[23,11,17,13,"bridge"],[23,17,17,19],[23,20,17,22,"bridge"],[23,26,17,28],[24,6,18,8,"emitter"],[24,13,18,15],[24,14,18,16,"addListener"],[24,25,18,27],[24,26,18,28],[24,48,18,50],[24,50,18,53,"e"],[24,51,18,54],[24,55,18,59],[25,8,19,12],[25,12,19,16],[25,13,19,17,"subscriptions"],[25,26,19,30],[25,27,19,31,"e"],[25,28,19,32],[25,29,19,33,"id"],[25,31,19,35],[25,32,19,36],[25,34,19,38,"onDisconnect"],[25,46,19,50],[25,49,19,53],[25,50,19,54],[26,8,20,12],[26,12,20,16],[26,13,20,17,"clusterIds"],[26,23,20,27],[26,24,20,28,"delete"],[26,30,20,34],[26,31,20,35,"e"],[26,32,20,36],[26,33,20,37,"id"],[26,35,20,39],[26,36,20,40],[27,6,21,8],[27,7,21,9],[27,8,21,10],[28,6,22,8,"emitter"],[28,13,22,15],[28,14,22,16,"addListener"],[28,25,22,27],[28,26,22,28],[28,58,22,60],[28,60,22,62,"e"],[28,61,22,63],[28,65,22,67],[29,8,23,12],[29,14,23,18],[30,10,23,20,"id"],[30,12,23,22],[31,10,23,24,"compassSetting"],[32,8,23,39],[32,9,23,40],[32,12,23,43,"e"],[32,13,23,44],[33,8,24,12],[33,12,24,16],[33,13,24,17,"subscriptions"],[33,26,24,30],[33,27,24,31,"id"],[33,29,24,33],[33,30,24,34],[33,32,24,36,"onDidChangeCompassSetting"],[33,57,24,61],[33,60,24,64,"compassSetting"],[33,74,24,78],[33,75,24,79],[34,6,25,8],[34,7,25,9],[34,8,25,10],[35,6,26,8,"emitter"],[35,13,26,15],[35,14,26,16,"addListener"],[35,25,26,27],[35,26,26,28],[35,61,26,63],[35,63,26,65,"e"],[35,64,26,66],[35,68,26,70],[36,8,27,12],[36,14,27,18],[37,10,27,20,"id"],[37,12,27,22],[38,10,27,24,"speedLimitSetting"],[39,8,27,42],[39,9,27,43],[39,12,27,46,"e"],[39,13,27,47],[40,8,28,12],[40,12,28,16],[40,13,28,17,"subscriptions"],[40,26,28,30],[40,27,28,31,"id"],[40,29,28,33],[40,30,28,34],[40,32,28,36,"onDidChangeSpeedLimitSetting"],[40,60,28,64],[40,63,28,67,"speedLimitSetting"],[40,80,28,84],[40,81,28,85],[41,6,29,8],[41,7,29,9],[41,8,29,10],[42,6,30,8,"emitter"],[42,13,30,15],[42,14,30,16,"addListener"],[42,25,30,27],[42,26,30,28],[42,44,30,46],[42,46,30,48,"e"],[42,47,30,49],[42,51,30,53],[43,8,31,12],[43,12,31,16],[43,13,31,17,"subscriptions"],[43,26,31,30],[43,27,31,31,"e"],[43,28,31,32],[43,29,31,33,"id"],[43,31,31,35],[43,32,31,36],[43,34,31,38,"onZoomIn"],[43,42,31,46],[43,45,31,49],[43,46,31,50],[44,6,32,8],[44,7,32,9],[44,8,32,10],[45,6,33,8,"emitter"],[45,13,33,15],[45,14,33,16,"addListener"],[45,25,33,27],[45,26,33,28],[45,45,33,47],[45,47,33,49,"e"],[45,48,33,50],[45,52,33,54],[46,8,34,12],[46,12,34,16],[46,13,34,17,"subscriptions"],[46,26,34,30],[46,27,34,31,"e"],[46,28,34,32],[46,29,34,33,"id"],[46,31,34,35],[46,32,34,36],[46,34,34,38,"onZoomOut"],[46,43,34,47],[46,46,34,50],[46,47,34,51],[47,6,35,8],[47,7,35,9],[47,8,35,10],[48,6,36,8,"emitter"],[48,13,36,15],[48,14,36,16,"addListener"],[48,25,36,27],[48,26,36,28],[48,51,36,53],[48,53,36,55,"e"],[48,54,36,56],[48,58,36,60],[49,8,37,12],[49,14,37,18],[50,12,37,20,"id"],[51,10,37,32],[51,11,37,33],[51,14,37,36,"e"],[51,15,37,37],[52,10,37,27,"rest"],[52,14,37,31],[52,17,37,31,"_objectWithoutPropertiesLoose"],[52,46,37,31],[52,47,37,36,"e"],[52,48,37,37],[52,50,37,37,"_excluded"],[52,59,37,37],[53,8,38,12],[53,12,38,16],[53,13,38,17,"subscriptions"],[53,26,38,30],[53,27,38,31,"id"],[53,29,38,33],[53,30,38,34],[53,32,38,36,"onWindowDidConnect"],[53,50,38,54],[53,53,38,57,"rest"],[53,57,38,61],[53,58,38,62],[54,6,39,8],[54,7,39,9],[54,8,39,10],[55,6,40,8,"emitter"],[55,13,40,15],[55,14,40,16,"addListener"],[55,25,40,27],[55,26,40,28],[55,56,40,58],[55,58,40,60,"e"],[55,59,40,61],[55,63,40,65],[56,8,41,12],[56,14,41,18],[57,12,41,20,"id"],[58,10,41,32],[58,11,41,33],[58,14,41,36,"e"],[58,15,41,37],[59,10,41,27,"rest"],[59,14,41,31],[59,17,41,31,"_objectWithoutPropertiesLoose"],[59,46,41,31],[59,47,41,36,"e"],[59,48,41,37],[59,50,41,37,"_excluded2"],[59,60,41,37],[60,8,42,12],[60,12,42,16],[60,13,42,17,"subscriptions"],[60,26,42,30],[60,27,42,31,"id"],[60,29,42,33],[60,30,42,34],[60,32,42,36,"onContentStyleDidChange"],[60,55,42,59],[60,58,42,62,"rest"],[60,62,42,66],[60,63,42,67],[61,6,43,8],[61,7,43,9],[61,8,43,10],[62,6,44,8,"emitter"],[62,13,44,15],[62,14,44,16,"addListener"],[62,25,44,27],[62,26,44,28],[62,49,44,51],[62,51,44,53,"e"],[62,52,44,54],[62,56,44,58],[63,8,45,12],[63,14,45,18],[64,10,45,20,"id"],[64,12,45,22],[65,10,45,24,"isVisible"],[66,8,45,34],[66,9,45,35],[66,12,45,38,"e"],[66,13,45,39],[67,8,46,12],[67,12,46,16],[67,13,46,17,"subscriptions"],[67,26,46,30],[67,27,46,31,"id"],[67,29,46,33],[67,30,46,34],[67,32,46,36,"onStateChanged"],[67,46,46,50],[67,49,46,53,"isVisible"],[67,58,46,62],[67,59,46,63],[68,6,47,8],[68,7,47,9],[68,8,47,10],[69,4,48,4],[70,4,49,4,"create"],[70,10,49,10,"create"],[70,11,49,11,"config"],[70,17,49,17],[70,19,49,19],[71,6,50,8],[71,12,50,14],[72,8,50,16,"id"],[72,10,50,18],[73,8,50,20,"component"],[73,17,50,29],[74,8,50,31,"onDisconnect"],[74,20,50,43],[75,8,50,45,"onWindowDidConnect"],[75,26,50,63],[76,8,50,65,"onContentStyleDidChange"],[76,31,50,88],[77,8,50,90,"onStateChanged"],[78,6,50,106],[78,7,50,107],[78,10,50,110,"config"],[78,16,50,116],[79,6,51,8],[79,12,51,14,"inactiveDescriptionVariants"],[79,39,51,41],[79,42,51,44],[79,71,51,73],[79,75,51,77,"config"],[79,81,51,83],[79,84,51,86,"config"],[79,90,51,92],[79,91,51,93,"inactiveDescriptionVariants"],[79,118,51,120],[79,121,51,123],[79,123,51,125],[80,6,52,8],[80,12,52,14,"onDidChangeCompassSetting"],[80,37,52,39],[80,40,52,42],[80,67,52,69],[80,71,52,73,"config"],[80,77,52,79],[80,80,52,82,"config"],[80,86,52,88],[80,87,52,89,"onDidChangeCompassSetting"],[80,112,52,114],[80,115,52,117,"undefined"],[80,124,52,126],[81,6,53,8],[81,12,53,14,"onDidChangeSpeedLimitSetting"],[81,40,53,42],[81,43,53,45],[81,73,53,75],[81,77,53,79,"config"],[81,83,53,85],[81,86,53,88,"config"],[81,92,53,94],[81,93,53,95,"onDidChangeSpeedLimitSetting"],[81,121,53,123],[81,124,53,126,"undefined"],[81,133,53,135],[82,6,54,8],[82,12,54,14,"onZoomIn"],[82,20,54,22],[82,23,54,25],[82,33,54,35],[82,37,54,39,"config"],[82,43,54,45],[82,46,54,48,"config"],[82,52,54,54],[82,53,54,55,"onZoomIn"],[82,61,54,63],[82,64,54,66,"undefined"],[82,73,54,75],[83,6,55,8],[83,12,55,14,"onZoomOut"],[83,21,55,23],[83,24,55,26],[83,35,55,37],[83,39,55,41,"config"],[83,45,55,47],[83,48,55,50,"config"],[83,54,55,56],[83,55,55,57,"onZoomOut"],[83,64,55,66],[83,67,55,69,"undefined"],[83,76,55,78],[84,6,56,8],[84,10,56,12],[84,11,56,13,"subscriptions"],[84,24,56,26],[84,25,56,27,"id"],[84,27,56,29],[84,28,56,30],[84,31,56,33],[85,8,57,12,"onDisconnect"],[85,20,57,24],[86,8,58,12,"onDidChangeCompassSetting"],[86,33,58,37],[87,8,59,12,"onDidChangeSpeedLimitSetting"],[87,36,59,40],[88,8,60,12,"onZoomIn"],[88,16,60,20],[89,8,61,12,"onZoomOut"],[89,17,61,21],[90,8,62,12,"onWindowDidConnect"],[90,26,62,30],[91,8,63,12,"onContentStyleDidChange"],[91,31,63,35],[92,8,64,12,"onStateChanged"],[93,6,65,8],[93,7,65,9],[94,6,66,8,"react_native_1"],[94,20,66,22],[94,21,66,23,"AppRegistry"],[94,32,66,34],[94,33,66,35,"registerComponent"],[94,50,66,52],[94,51,66,53,"id"],[94,53,66,55],[94,55,66,57],[94,61,66,63,"component"],[94,70,66,72],[94,71,66,73],[95,6,67,8],[95,10,67,12],[95,11,67,13,"clusterIds"],[95,21,67,23],[95,22,67,24,"add"],[95,25,67,27],[95,26,67,28,"id"],[95,28,67,30],[95,29,67,31],[96,6,68,8],[96,10,68,12,"react_native_1"],[96,24,68,26],[96,25,68,27,"Platform"],[96,33,68,35],[96,34,68,36,"OS"],[96,36,68,38],[96,41,68,43],[96,50,68,52],[96,52,68,54],[97,8,69,12],[98,8,70,12],[99,6,71,8],[100,6,72,8],[100,12,72,14,"clusterConfig"],[100,25,72,27],[100,28,72,30],[101,8,73,12,"inactiveDescriptionVariants"],[101,35,73,39],[101,37,73,41,"inactiveDescriptionVariants"],[101,64,73,68],[101,65,73,69,"map"],[101,68,73,72],[101,69,73,73,"description"],[101,80,73,84],[101,84,73,84,"Object"],[101,90,73,84],[101,91,73,84,"assign"],[101,97,73,84],[101,102,74,19,"description"],[101,113,74,30],[102,10,75,16,"image"],[102,15,75,21],[102,17,75,23,"description"],[102,28,75,34],[102,29,75,35,"image"],[102,34,75,40],[102,37,75,43,"react_native_1"],[102,51,75,57],[102,52,75,58,"Image"],[102,57,75,63],[102,58,75,64,"resolveAssetSource"],[102,76,75,82],[102,77,75,83,"description"],[102,88,75,94],[102,89,75,95,"image"],[102,94,75,100],[102,95,75,101],[102,98,75,104],[103,8,75,108],[103,10,76,14],[104,6,77,8],[104,7,77,9],[105,6,78,8],[105,10,78,12],[105,11,78,13,"bridge"],[105,17,78,19],[105,18,78,20,"initCluster"],[105,29,78,31],[105,30,78,32,"id"],[105,32,78,34],[105,34,78,36,"clusterConfig"],[105,47,78,49],[105,48,78,50],[106,4,79,4],[107,4,80,4,"checkForConnection"],[107,22,80,22,"checkForConnection"],[107,23,80,23,"id"],[107,25,80,25],[107,27,80,27],[108,6,81,8],[108,10,81,12],[108,11,81,13,"bridge"],[108,17,81,19],[108,18,81,20,"checkForClusterConnection"],[108,43,81,45],[108,44,81,46,"id"],[108,46,81,48],[108,47,81,49],[109,4,82,4],[110,2,83,0],[111,2,84,0,"exports"],[111,9,84,7],[111,10,84,8,"Cluster"],[111,17,84,15],[111,20,84,18,"Cluster"],[111,27,84,25],[112,0,84,26],[112,3]],"functionMap":{"names":["<global>","Cluster","getClusterIds","constructor","emitter.addListener$argument_1","create","react_native_1.AppRegistry.registerComponent$argument_1","inactiveDescriptionVariants.map$argument_0","checkForConnection"],"mappings":"AAA;ACI;ICQ;KDE;IEC;oDCE;SDG;8DCC;SDG;iECC;SDG;gDCC;SDE;iDCC;SDE;uDCC;SDG;4DCC;SDG;qDCC;SDG;KFC;IIC;yDCiB,eD;yEEO;cFG;KJG;IOC;KPE;CDC"},"hasCjsExports":true},"type":"js/module"}]}