{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Cluster = void 0;\n  const react_native_1 = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  class Cluster {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    subscriptions = {};\n    clusterIds = new Set();\n    /**\n     * @returns ids of all connected clusters\n     */\n    getClusterIds() {\n      return [...this.clusterIds];\n    }\n    constructor(bridge, emitter) {\n      this.bridge = bridge;\n      emitter.addListener('clusterDidDisconnect', e => {\n        this.subscriptions[e.id]?.onDisconnect?.();\n        this.clusterIds.delete(e.id);\n      });\n      emitter.addListener('clusterDidChangeCompassSetting', e => {\n        const {\n          id,\n          compassSetting\n        } = e;\n        this.subscriptions[id]?.onDidChangeCompassSetting?.(compassSetting);\n      });\n      emitter.addListener('clusterDidChangeSpeedLimitSetting', e => {\n        const {\n          id,\n          speedLimitSetting\n        } = e;\n        this.subscriptions[id]?.onDidChangeSpeedLimitSetting?.(speedLimitSetting);\n      });\n      emitter.addListener('clusterDidZoomIn', e => {\n        this.subscriptions[e.id]?.onZoomIn?.();\n      });\n      emitter.addListener('clusterDidZoomOut', e => {\n        this.subscriptions[e.id]?.onZoomOut?.();\n      });\n      emitter.addListener('clusterWindowDidConnect', e => {\n        const {\n          id,\n          ...rest\n        } = e;\n        this.subscriptions[id]?.onWindowDidConnect?.(rest);\n      });\n      emitter.addListener('clusterContentStyleDidChange', e => {\n        const {\n          id,\n          ...rest\n        } = e;\n        this.subscriptions[id]?.onContentStyleDidChange?.(rest);\n      });\n      emitter.addListener('clusterStateDidChange', e => {\n        const {\n          id,\n          isVisible\n        } = e;\n        this.subscriptions[id]?.onStateChanged?.(isVisible);\n      });\n    }\n    create(config) {\n      const {\n        id,\n        component,\n        onDisconnect,\n        onWindowDidConnect,\n        onContentStyleDidChange,\n        onStateChanged\n      } = config;\n      const inactiveDescriptionVariants = 'inactiveDescriptionVariants' in config ? config.inactiveDescriptionVariants : [];\n      const onDidChangeCompassSetting = 'onDidChangeCompassSetting' in config ? config.onDidChangeCompassSetting : undefined;\n      const onDidChangeSpeedLimitSetting = 'onDidChangeSpeedLimitSetting' in config ? config.onDidChangeSpeedLimitSetting : undefined;\n      const onZoomIn = 'onZoomIn' in config ? config.onZoomIn : undefined;\n      const onZoomOut = 'onZoomOut' in config ? config.onZoomOut : undefined;\n      this.subscriptions[id] = {\n        onDisconnect,\n        onDidChangeCompassSetting,\n        onDidChangeSpeedLimitSetting,\n        onZoomIn,\n        onZoomOut,\n        onWindowDidConnect,\n        onContentStyleDidChange,\n        onStateChanged\n      };\n      react_native_1.AppRegistry.registerComponent(id, () => component);\n      this.clusterIds.add(id);\n      if (react_native_1.Platform.OS === 'android') {\n        // on Android Auto we have a clusters that are set up on native side only\n        return;\n      }\n      const clusterConfig = {\n        inactiveDescriptionVariants: inactiveDescriptionVariants.map(description => ({\n          ...description,\n          image: description.image ? react_native_1.Image.resolveAssetSource(description.image) : null\n        }))\n      };\n      this.bridge.initCluster(id, clusterConfig);\n    }\n    checkForConnection(id) {\n      this.bridge.checkForClusterConnection(id);\n    }\n  }\n  exports.Cluster = Cluster;\n});","lineCount":110,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"Cluster"],[7,17,3,15],[7,20,3,18],[7,25,3,23],[7,26,3,24],[8,2,3,25],[8,8,3,25,"react_native_1"],[8,22,3,25],[8,25,3,25,"require"],[8,32,3,25],[8,33,3,25,"_dependencyMap"],[8,47,3,25],[9,2,5,0],[9,8,5,6,"Cluster"],[9,15,5,13],[9,16,5,14],[10,4,7,4],[11,4,8,4,"subscriptions"],[11,17,8,17],[11,20,8,20],[11,21,8,21],[11,22,8,22],[12,4,9,4,"clusterIds"],[12,14,9,14],[12,17,9,17],[12,21,9,21,"Set"],[12,24,9,24],[12,25,9,25],[12,26,9,26],[13,4,10,4],[14,0,11,0],[15,0,12,0],[16,4,13,4,"getClusterIds"],[16,17,13,17,"getClusterIds"],[16,18,13,17],[16,20,13,20],[17,6,14,8],[17,13,14,15],[17,14,14,16],[17,17,14,19],[17,21,14,23],[17,22,14,24,"clusterIds"],[17,32,14,34],[17,33,14,35],[18,4,15,4],[19,4,16,4,"constructor"],[19,15,16,15,"constructor"],[19,16,16,16,"bridge"],[19,22,16,22],[19,24,16,24,"emitter"],[19,31,16,31],[19,33,16,33],[20,6,17,8],[20,10,17,12],[20,11,17,13,"bridge"],[20,17,17,19],[20,20,17,22,"bridge"],[20,26,17,28],[21,6,18,8,"emitter"],[21,13,18,15],[21,14,18,16,"addListener"],[21,25,18,27],[21,26,18,28],[21,48,18,50],[21,50,18,53,"e"],[21,51,18,54],[21,55,18,59],[22,8,19,12],[22,12,19,16],[22,13,19,17,"subscriptions"],[22,26,19,30],[22,27,19,31,"e"],[22,28,19,32],[22,29,19,33,"id"],[22,31,19,35],[22,32,19,36],[22,34,19,38,"onDisconnect"],[22,46,19,50],[22,49,19,53],[22,50,19,54],[23,8,20,12],[23,12,20,16],[23,13,20,17,"clusterIds"],[23,23,20,27],[23,24,20,28,"delete"],[23,30,20,34],[23,31,20,35,"e"],[23,32,20,36],[23,33,20,37,"id"],[23,35,20,39],[23,36,20,40],[24,6,21,8],[24,7,21,9],[24,8,21,10],[25,6,22,8,"emitter"],[25,13,22,15],[25,14,22,16,"addListener"],[25,25,22,27],[25,26,22,28],[25,58,22,60],[25,60,22,62,"e"],[25,61,22,63],[25,65,22,67],[26,8,23,12],[26,14,23,18],[27,10,23,20,"id"],[27,12,23,22],[28,10,23,24,"compassSetting"],[29,8,23,39],[29,9,23,40],[29,12,23,43,"e"],[29,13,23,44],[30,8,24,12],[30,12,24,16],[30,13,24,17,"subscriptions"],[30,26,24,30],[30,27,24,31,"id"],[30,29,24,33],[30,30,24,34],[30,32,24,36,"onDidChangeCompassSetting"],[30,57,24,61],[30,60,24,64,"compassSetting"],[30,74,24,78],[30,75,24,79],[31,6,25,8],[31,7,25,9],[31,8,25,10],[32,6,26,8,"emitter"],[32,13,26,15],[32,14,26,16,"addListener"],[32,25,26,27],[32,26,26,28],[32,61,26,63],[32,63,26,65,"e"],[32,64,26,66],[32,68,26,70],[33,8,27,12],[33,14,27,18],[34,10,27,20,"id"],[34,12,27,22],[35,10,27,24,"speedLimitSetting"],[36,8,27,42],[36,9,27,43],[36,12,27,46,"e"],[36,13,27,47],[37,8,28,12],[37,12,28,16],[37,13,28,17,"subscriptions"],[37,26,28,30],[37,27,28,31,"id"],[37,29,28,33],[37,30,28,34],[37,32,28,36,"onDidChangeSpeedLimitSetting"],[37,60,28,64],[37,63,28,67,"speedLimitSetting"],[37,80,28,84],[37,81,28,85],[38,6,29,8],[38,7,29,9],[38,8,29,10],[39,6,30,8,"emitter"],[39,13,30,15],[39,14,30,16,"addListener"],[39,25,30,27],[39,26,30,28],[39,44,30,46],[39,46,30,48,"e"],[39,47,30,49],[39,51,30,53],[40,8,31,12],[40,12,31,16],[40,13,31,17,"subscriptions"],[40,26,31,30],[40,27,31,31,"e"],[40,28,31,32],[40,29,31,33,"id"],[40,31,31,35],[40,32,31,36],[40,34,31,38,"onZoomIn"],[40,42,31,46],[40,45,31,49],[40,46,31,50],[41,6,32,8],[41,7,32,9],[41,8,32,10],[42,6,33,8,"emitter"],[42,13,33,15],[42,14,33,16,"addListener"],[42,25,33,27],[42,26,33,28],[42,45,33,47],[42,47,33,49,"e"],[42,48,33,50],[42,52,33,54],[43,8,34,12],[43,12,34,16],[43,13,34,17,"subscriptions"],[43,26,34,30],[43,27,34,31,"e"],[43,28,34,32],[43,29,34,33,"id"],[43,31,34,35],[43,32,34,36],[43,34,34,38,"onZoomOut"],[43,43,34,47],[43,46,34,50],[43,47,34,51],[44,6,35,8],[44,7,35,9],[44,8,35,10],[45,6,36,8,"emitter"],[45,13,36,15],[45,14,36,16,"addListener"],[45,25,36,27],[45,26,36,28],[45,51,36,53],[45,53,36,55,"e"],[45,54,36,56],[45,58,36,60],[46,8,37,12],[46,14,37,18],[47,10,37,20,"id"],[47,12,37,22],[48,10,37,24],[48,13,37,27,"rest"],[49,8,37,32],[49,9,37,33],[49,12,37,36,"e"],[49,13,37,37],[50,8,38,12],[50,12,38,16],[50,13,38,17,"subscriptions"],[50,26,38,30],[50,27,38,31,"id"],[50,29,38,33],[50,30,38,34],[50,32,38,36,"onWindowDidConnect"],[50,50,38,54],[50,53,38,57,"rest"],[50,57,38,61],[50,58,38,62],[51,6,39,8],[51,7,39,9],[51,8,39,10],[52,6,40,8,"emitter"],[52,13,40,15],[52,14,40,16,"addListener"],[52,25,40,27],[52,26,40,28],[52,56,40,58],[52,58,40,60,"e"],[52,59,40,61],[52,63,40,65],[53,8,41,12],[53,14,41,18],[54,10,41,20,"id"],[54,12,41,22],[55,10,41,24],[55,13,41,27,"rest"],[56,8,41,32],[56,9,41,33],[56,12,41,36,"e"],[56,13,41,37],[57,8,42,12],[57,12,42,16],[57,13,42,17,"subscriptions"],[57,26,42,30],[57,27,42,31,"id"],[57,29,42,33],[57,30,42,34],[57,32,42,36,"onContentStyleDidChange"],[57,55,42,59],[57,58,42,62,"rest"],[57,62,42,66],[57,63,42,67],[58,6,43,8],[58,7,43,9],[58,8,43,10],[59,6,44,8,"emitter"],[59,13,44,15],[59,14,44,16,"addListener"],[59,25,44,27],[59,26,44,28],[59,49,44,51],[59,51,44,53,"e"],[59,52,44,54],[59,56,44,58],[60,8,45,12],[60,14,45,18],[61,10,45,20,"id"],[61,12,45,22],[62,10,45,24,"isVisible"],[63,8,45,34],[63,9,45,35],[63,12,45,38,"e"],[63,13,45,39],[64,8,46,12],[64,12,46,16],[64,13,46,17,"subscriptions"],[64,26,46,30],[64,27,46,31,"id"],[64,29,46,33],[64,30,46,34],[64,32,46,36,"onStateChanged"],[64,46,46,50],[64,49,46,53,"isVisible"],[64,58,46,62],[64,59,46,63],[65,6,47,8],[65,7,47,9],[65,8,47,10],[66,4,48,4],[67,4,49,4,"create"],[67,10,49,10,"create"],[67,11,49,11,"config"],[67,17,49,17],[67,19,49,19],[68,6,50,8],[68,12,50,14],[69,8,50,16,"id"],[69,10,50,18],[70,8,50,20,"component"],[70,17,50,29],[71,8,50,31,"onDisconnect"],[71,20,50,43],[72,8,50,45,"onWindowDidConnect"],[72,26,50,63],[73,8,50,65,"onContentStyleDidChange"],[73,31,50,88],[74,8,50,90,"onStateChanged"],[75,6,50,106],[75,7,50,107],[75,10,50,110,"config"],[75,16,50,116],[76,6,51,8],[76,12,51,14,"inactiveDescriptionVariants"],[76,39,51,41],[76,42,51,44],[76,71,51,73],[76,75,51,77,"config"],[76,81,51,83],[76,84,51,86,"config"],[76,90,51,92],[76,91,51,93,"inactiveDescriptionVariants"],[76,118,51,120],[76,121,51,123],[76,123,51,125],[77,6,52,8],[77,12,52,14,"onDidChangeCompassSetting"],[77,37,52,39],[77,40,52,42],[77,67,52,69],[77,71,52,73,"config"],[77,77,52,79],[77,80,52,82,"config"],[77,86,52,88],[77,87,52,89,"onDidChangeCompassSetting"],[77,112,52,114],[77,115,52,117,"undefined"],[77,124,52,126],[78,6,53,8],[78,12,53,14,"onDidChangeSpeedLimitSetting"],[78,40,53,42],[78,43,53,45],[78,73,53,75],[78,77,53,79,"config"],[78,83,53,85],[78,86,53,88,"config"],[78,92,53,94],[78,93,53,95,"onDidChangeSpeedLimitSetting"],[78,121,53,123],[78,124,53,126,"undefined"],[78,133,53,135],[79,6,54,8],[79,12,54,14,"onZoomIn"],[79,20,54,22],[79,23,54,25],[79,33,54,35],[79,37,54,39,"config"],[79,43,54,45],[79,46,54,48,"config"],[79,52,54,54],[79,53,54,55,"onZoomIn"],[79,61,54,63],[79,64,54,66,"undefined"],[79,73,54,75],[80,6,55,8],[80,12,55,14,"onZoomOut"],[80,21,55,23],[80,24,55,26],[80,35,55,37],[80,39,55,41,"config"],[80,45,55,47],[80,48,55,50,"config"],[80,54,55,56],[80,55,55,57,"onZoomOut"],[80,64,55,66],[80,67,55,69,"undefined"],[80,76,55,78],[81,6,56,8],[81,10,56,12],[81,11,56,13,"subscriptions"],[81,24,56,26],[81,25,56,27,"id"],[81,27,56,29],[81,28,56,30],[81,31,56,33],[82,8,57,12,"onDisconnect"],[82,20,57,24],[83,8,58,12,"onDidChangeCompassSetting"],[83,33,58,37],[84,8,59,12,"onDidChangeSpeedLimitSetting"],[84,36,59,40],[85,8,60,12,"onZoomIn"],[85,16,60,20],[86,8,61,12,"onZoomOut"],[86,17,61,21],[87,8,62,12,"onWindowDidConnect"],[87,26,62,30],[88,8,63,12,"onContentStyleDidChange"],[88,31,63,35],[89,8,64,12,"onStateChanged"],[90,6,65,8],[90,7,65,9],[91,6,66,8,"react_native_1"],[91,20,66,22],[91,21,66,23,"AppRegistry"],[91,32,66,34],[91,33,66,35,"registerComponent"],[91,50,66,52],[91,51,66,53,"id"],[91,53,66,55],[91,55,66,57],[91,61,66,63,"component"],[91,70,66,72],[91,71,66,73],[92,6,67,8],[92,10,67,12],[92,11,67,13,"clusterIds"],[92,21,67,23],[92,22,67,24,"add"],[92,25,67,27],[92,26,67,28,"id"],[92,28,67,30],[92,29,67,31],[93,6,68,8],[93,10,68,12,"react_native_1"],[93,24,68,26],[93,25,68,27,"Platform"],[93,33,68,35],[93,34,68,36,"OS"],[93,36,68,38],[93,41,68,43],[93,50,68,52],[93,52,68,54],[94,8,69,12],[95,8,70,12],[96,6,71,8],[97,6,72,8],[97,12,72,14,"clusterConfig"],[97,25,72,27],[97,28,72,30],[98,8,73,12,"inactiveDescriptionVariants"],[98,35,73,39],[98,37,73,41,"inactiveDescriptionVariants"],[98,64,73,68],[98,65,73,69,"map"],[98,68,73,72],[98,69,73,73,"description"],[98,80,73,84],[98,85,73,89],[99,10,74,16],[99,13,74,19,"description"],[99,24,74,30],[100,10,75,16,"image"],[100,15,75,21],[100,17,75,23,"description"],[100,28,75,34],[100,29,75,35,"image"],[100,34,75,40],[100,37,75,43,"react_native_1"],[100,51,75,57],[100,52,75,58,"Image"],[100,57,75,63],[100,58,75,64,"resolveAssetSource"],[100,76,75,82],[100,77,75,83,"description"],[100,88,75,94],[100,89,75,95,"image"],[100,94,75,100],[100,95,75,101],[100,98,75,104],[101,8,76,12],[101,9,76,13],[101,10,76,14],[102,6,77,8],[102,7,77,9],[103,6,78,8],[103,10,78,12],[103,11,78,13,"bridge"],[103,17,78,19],[103,18,78,20,"initCluster"],[103,29,78,31],[103,30,78,32,"id"],[103,32,78,34],[103,34,78,36,"clusterConfig"],[103,47,78,49],[103,48,78,50],[104,4,79,4],[105,4,80,4,"checkForConnection"],[105,22,80,22,"checkForConnection"],[105,23,80,23,"id"],[105,25,80,25],[105,27,80,27],[106,6,81,8],[106,10,81,12],[106,11,81,13,"bridge"],[106,17,81,19],[106,18,81,20,"checkForClusterConnection"],[106,43,81,45],[106,44,81,46,"id"],[106,46,81,48],[106,47,81,49],[107,4,82,4],[108,2,83,0],[109,2,84,0,"exports"],[109,9,84,7],[109,10,84,8,"Cluster"],[109,17,84,15],[109,20,84,18,"Cluster"],[109,27,84,25],[110,0,84,26],[110,3]],"functionMap":{"names":["<global>","Cluster","getClusterIds","constructor","emitter.addListener$argument_1","create","react_native_1.AppRegistry.registerComponent$argument_1","inactiveDescriptionVariants.map$argument_0","checkForConnection"],"mappings":"AAA;ACI;ICQ;KDE;IEC;oDCE;SDG;8DCC;SDG;iECC;SDG;gDCC;SDE;iDCC;SDE;uDCC;SDG;4DCC;SDG;qDCC;SDG;KFC;IIC;yDCiB,eD;yEEO;cFG;KJG;IOC;KPE;CDC"},"hasCjsExports":true},"type":"js/module"}]}