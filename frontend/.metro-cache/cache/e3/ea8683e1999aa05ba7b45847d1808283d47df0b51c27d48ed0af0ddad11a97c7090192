{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./SessionManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":46,"index":91}}],"key":"kYUIWGdO96GNv7PkJAxqh2DlUyM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useCastSession;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _SessionManager = require(_dependencyMap[1], \"./SessionManager\");\n  var SessionManager = _interopDefault(_SessionManager);\n  /**\n   * Hook that provides the current {@link CastSession}.\n   *\n   * @returns current session, or `null` if there's no session connected\n   * @example\n   * ```js\n   * import { useCastSession } from 'react-native-google-cast'\n   *\n   * function MyComponent() {\n   *   const castSession = useCastSession()\n   *\n   *   if (castSession) {\n   *     castSession.client.loadMedia(...)\n   *   }\n   * }\n   * ```\n   */\n\n  function useCastSession(options) {\n    const ignoreBackground = options === null || options === void 0 ? void 0 : options.ignoreSessionUpdatesInBackground;\n    const [castSession, setCastSession] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      manager.getCurrentCastSession().then(setCastSession);\n      const started = manager.onSessionStarted(setCastSession);\n      const suspended = ignoreBackground ? null : manager.onSessionSuspended(() => setCastSession(null));\n      const resumed = manager.onSessionResumed(session => {\n        if (ignoreBackground) {\n          // only update the session if it's different from previous one\n          setCastSession(s => (s === null || s === void 0 ? void 0 : s.id) === session.id ? s : session);\n        } else {\n          setCastSession(session);\n        }\n      });\n      const ended = manager.onSessionEnded(() => setCastSession(null));\n      return () => {\n        started.remove();\n        suspended === null || suspended === void 0 || suspended.remove();\n        resumed === null || resumed === void 0 || resumed.remove();\n        ended.remove();\n      };\n    }, [ignoreBackground]);\n    return castSession;\n  }\n  const manager = new SessionManager.default();\n});","lineCount":65,"map":[[12,2,21,15,"Object"],[12,8,21,15],[12,9,21,15,"defineProperty"],[12,23,21,15],[12,24,21,15,"exports"],[12,31,21,15],[13,4,21,15,"enumerable"],[13,14,21,15],[14,4,21,15,"get"],[14,7,21,15],[14,18,21,15,"get"],[14,19,21,15],[15,6,21,15],[15,13,21,15,"useCastSession"],[15,27,21,15],[16,4,21,15],[17,2,21,15],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_SessionManager"],[19,21,2,0],[19,24,2,0,"require"],[19,31,2,0],[19,32,2,0,"_dependencyMap"],[19,46,2,0],[20,2,2,0],[20,6,2,0,"SessionManager"],[20,20,2,0],[20,23,2,0,"_interopDefault"],[20,38,2,0],[20,39,2,0,"_SessionManager"],[20,54,2,0],[21,2,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,0,16,0],[35,0,17,0],[36,0,18,0],[37,0,19,0],[39,2,21,15],[39,11,21,24,"useCastSession"],[39,25,21,38,"useCastSession"],[39,26,21,39,"options"],[39,33,21,46],[39,35,21,48],[40,4,22,2],[40,10,22,8,"ignoreBackground"],[40,26,22,24],[40,29,22,27,"options"],[40,36,22,34],[40,41,22,39],[40,45,22,43],[40,49,22,47,"options"],[40,56,22,54],[40,61,22,59],[40,66,22,64],[40,67,22,65],[40,70,22,68],[40,75,22,73],[40,76,22,74],[40,79,22,77,"options"],[40,86,22,84],[40,87,22,85,"ignoreSessionUpdatesInBackground"],[40,119,22,117],[41,4,23,2],[41,10,23,8],[41,11,23,9,"castSession"],[41,22,23,20],[41,24,23,22,"setCastSession"],[41,38,23,36],[41,39,23,37],[41,42,23,40],[41,46,23,40,"useState"],[41,52,23,48],[41,53,23,48,"useState"],[41,61,23,48],[41,63,23,49],[41,67,23,53],[41,68,23,54],[42,4,24,2],[42,8,24,2,"useEffect"],[42,14,24,11],[42,15,24,11,"useEffect"],[42,24,24,11],[42,26,24,12],[42,32,24,18],[43,6,25,4,"manager"],[43,13,25,11],[43,14,25,12,"getCurrentCastSession"],[43,35,25,33],[43,36,25,34],[43,37,25,35],[43,38,25,36,"then"],[43,42,25,40],[43,43,25,41,"setCastSession"],[43,57,25,55],[43,58,25,56],[44,6,26,4],[44,12,26,10,"started"],[44,19,26,17],[44,22,26,20,"manager"],[44,29,26,27],[44,30,26,28,"onSessionStarted"],[44,46,26,44],[44,47,26,45,"setCastSession"],[44,61,26,59],[44,62,26,60],[45,6,27,4],[45,12,27,10,"suspended"],[45,21,27,19],[45,24,27,22,"ignoreBackground"],[45,40,27,38],[45,43,27,41],[45,47,27,45],[45,50,27,48,"manager"],[45,57,27,55],[45,58,27,56,"onSessionSuspended"],[45,76,27,74],[45,77,27,75],[45,83,27,81,"setCastSession"],[45,97,27,95],[45,98,27,96],[45,102,27,100],[45,103,27,101],[45,104,27,102],[46,6,28,4],[46,12,28,10,"resumed"],[46,19,28,17],[46,22,28,20,"manager"],[46,29,28,27],[46,30,28,28,"onSessionResumed"],[46,46,28,44],[46,47,28,45,"session"],[46,54,28,52],[46,58,28,56],[47,8,29,6],[47,12,29,10,"ignoreBackground"],[47,28,29,26],[47,30,29,28],[48,10,30,8],[49,10,31,8,"setCastSession"],[49,24,31,22],[49,25,31,23,"s"],[49,26,31,24],[49,30,31,28],[49,31,31,29,"s"],[49,32,31,30],[49,37,31,35],[49,41,31,39],[49,45,31,43,"s"],[49,46,31,44],[49,51,31,49],[49,56,31,54],[49,57,31,55],[49,60,31,58],[49,65,31,63],[49,66,31,64],[49,69,31,67,"s"],[49,70,31,68],[49,71,31,69,"id"],[49,73,31,71],[49,79,31,77,"session"],[49,86,31,84],[49,87,31,85,"id"],[49,89,31,87],[49,92,31,90,"s"],[49,93,31,91],[49,96,31,94,"session"],[49,103,31,101],[49,104,31,102],[50,8,32,6],[50,9,32,7],[50,15,32,13],[51,10,33,8,"setCastSession"],[51,24,33,22],[51,25,33,23,"session"],[51,32,33,30],[51,33,33,31],[52,8,34,6],[53,6,35,4],[53,7,35,5],[53,8,35,6],[54,6,36,4],[54,12,36,10,"ended"],[54,17,36,15],[54,20,36,18,"manager"],[54,27,36,25],[54,28,36,26,"onSessionEnded"],[54,42,36,40],[54,43,36,41],[54,49,36,47,"setCastSession"],[54,63,36,61],[54,64,36,62],[54,68,36,66],[54,69,36,67],[54,70,36,68],[55,6,37,4],[55,13,37,11],[55,19,37,17],[56,8,38,6,"started"],[56,15,38,13],[56,16,38,14,"remove"],[56,22,38,20],[56,23,38,21],[56,24,38,22],[57,8,39,6,"suspended"],[57,17,39,15],[57,22,39,20],[57,26,39,24],[57,30,39,28,"suspended"],[57,39,39,37],[57,44,39,42],[57,49,39,47],[57,50,39,48],[57,54,39,52,"suspended"],[57,63,39,61],[57,64,39,62,"remove"],[57,70,39,68],[57,71,39,69],[57,72,39,70],[58,8,40,6,"resumed"],[58,15,40,13],[58,20,40,18],[58,24,40,22],[58,28,40,26,"resumed"],[58,35,40,33],[58,40,40,38],[58,45,40,43],[58,46,40,44],[58,50,40,48,"resumed"],[58,57,40,55],[58,58,40,56,"remove"],[58,64,40,62],[58,65,40,63],[58,66,40,64],[59,8,41,6,"ended"],[59,13,41,11],[59,14,41,12,"remove"],[59,20,41,18],[59,21,41,19],[59,22,41,20],[60,6,42,4],[60,7,42,5],[61,4,43,2],[61,5,43,3],[61,7,43,5],[61,8,43,6,"ignoreBackground"],[61,24,43,22],[61,25,43,23],[61,26,43,24],[62,4,44,2],[62,11,44,9,"castSession"],[62,22,44,20],[63,2,45,0],[64,2,46,0],[64,8,46,6,"manager"],[64,15,46,13],[64,18,46,16],[64,22,46,20,"SessionManager"],[64,36,46,34],[64,37,46,34,"default"],[64,44,46,34],[64,45,46,35],[64,46,46,36],[65,0,46,37],[65,3]],"functionMap":{"names":["<global>","useCastSession","useEffect$argument_0","manager.onSessionSuspended$argument_0","manager.onSessionResumed$argument_0","setCastSession$argument_0","manager.onSessionEnded$argument_0","<anonymous>"],"mappings":"AAA;eCoB;YCG;2ECG,0BD;6CEC;uBCG,8ED;KFI;yCIC,0BJ;WKC;KLK;GDC;CDE"},"hasCjsExports":false},"type":"js/module"}]}