{"dependencies":[{"name":"expo-web-browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"qFWzf28Sq0474idIhFBHQFboHaY=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":34,"index":82}}],"key":"4HPAaDQ25ZwZ2dzTLatXuUucZUM=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./AuthRequest.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":124},"end":{"line":4,"column":73,"index":197}}],"key":"0pAeVE4PBjkr2BbVHAnYCGpI6dQ=","exportNames":["*"],"imports":1}},{"name":"./Errors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":198},"end":{"line":5,"column":37,"index":235}}],"key":"Hc24lHtszv0n4sfQahKq/F+wSE4=","exportNames":["*"],"imports":1}},{"name":"./PKCE","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":236},"end":{"line":6,"column":31,"index":267}}],"key":"O6rIjOENJps9CCWJ28jKcMFTSp8=","exportNames":["*"],"imports":1}},{"name":"./QueryParams","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":268},"end":{"line":7,"column":45,"index":313}}],"key":"+sRi/Vos4DfuwEst+v0hvDvbtnY=","exportNames":["*"],"imports":1}},{"name":"./TokenRequest","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":314},"end":{"line":8,"column":47,"index":361}}],"key":"d1uOSXontqXdGR3Qx6fQsTSh36E=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var o=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthRequest\",{enumerable:!0,get:function(){return y}});var t,s=e(r(_d[0])),o=r(_d[1]),n=(t=o)&&t.__esModule?t:{default:t};r(_d[2]);var c=r(_d[3]),l=r(_d[4]),h=e(r(_d[5])),u=e(r(_d[6])),d=r(_d[7]);let p=!1;class y{url=null;constructor(e){this.responseType=e.responseType??c.ResponseType.Code,this.clientId=e.clientId,this.redirectUri=e.redirectUri,this.scopes=e.scopes,this.clientSecret=e.clientSecret,this.prompt=e.prompt,this.state=e.state??h.generateRandom(10),this.extraParams=e.extraParams??{},this.codeChallengeMethod=e.codeChallengeMethod??c.CodeChallengeMethod.S256,this.usePKCE=e.usePKCE??!0,(0,n.default)(this.codeChallengeMethod!==c.CodeChallengeMethod.Plain,\"`AuthRequest` does not support `CodeChallengeMethod.Plain` as it's not secure.\"),(0,n.default)(this.redirectUri,\"`AuthRequest` requires a valid `redirectUri`. Ex: https://yourwebsite.com/\")}async getAuthRequestConfigAsync(){return this.usePKCE&&await this.ensureCodeIsSetupAsync(),{responseType:this.responseType,clientId:this.clientId,redirectUri:this.redirectUri,scopes:this.scopes,clientSecret:this.clientSecret,codeChallenge:this.codeChallenge,codeChallengeMethod:this.codeChallengeMethod,prompt:this.prompt,state:this.state,extraParams:this.extraParams,usePKCE:this.usePKCE}}async promptAsync(e,{url:t,...o}={}){if(!t){if(!this.url)return this.promptAsync(e,{...o,url:await this.makeAuthUrlAsync(e)});t=this.url}(0,n.default)(t,'No authUrl provided to AuthSession.startAsync. An authUrl is required -- it points to the page where the user will be able to sign in.');const c=t,l=this.redirectUri;if(p)return{type:'locked'};let h;p=!0;try{h=await s.openAuthSessionAsync(c,l,o)}finally{p=!1}if('opened'===h.type)throw new Error('An unexpected error occurred');return'success'!==h.type?{type:h.type}:this.parseReturnUrl(h.url)}parseReturnUrl(e){const{params:t,errorCode:s}=u.getQueryParams(e),{state:o,error:n=s}=t;let c=null,h=null;return o!==this.state?c=new l.AuthError({error:'state_mismatch',error_description:'Cross-Site request verification failed. Cached state and returned state do not match.'}):n&&(c=new l.AuthError({error:n,...t})),t.access_token&&(h=d.TokenResponse.fromQueryParams(t)),{type:c?'error':'success',error:c,url:e,params:t,authentication:h,errorCode:s}}async makeAuthUrlAsync(e){const t=await this.getAuthRequestConfigAsync();if(!t.state)throw new Error('Cannot make request URL without a valid `state` loaded');const s={};t.codeChallenge&&(s.code_challenge=t.codeChallenge);for(const e in t.extraParams)e in t.extraParams&&(s[e]=t.extraParams[e]);return t.usePKCE&&t.codeChallengeMethod&&(s.code_challenge_method=t.codeChallengeMethod),t.clientSecret&&(s.client_secret=t.clientSecret),t.prompt&&(s.prompt='string'==typeof t.prompt?t.prompt:t.prompt.join(' ')),s.redirect_uri=t.redirectUri,s.client_id=t.clientId,s.response_type=t.responseType,s.state=t.state,t.scopes?.length&&(s.scope=t.scopes.join(' ')),this.url=`${e.authorizationEndpoint}?${new URLSearchParams(s)}`,this.url}async ensureCodeIsSetupAsync(){if(this.codeVerifier)return;const{codeVerifier:e,codeChallenge:t}=await h.buildCodeAsync();this.codeVerifier=e,this.codeChallenge=t}}});","lineCount":1,"map":[[1,327,36,0,"Object"],[1,334,36,0,"defineProperty"],[1,349,36,0,"_e"],[1,352,36,0],[1,367,36,0,"enumerable"],[1,379,36,0],[1,381,36,0,"get"],[1,385,36,0],[1,403,36,0,"AuthRequest"],[1,404,36,0],[1,408,1,0],[1,412],[1,414,1,0,"WebBrowser"],[1,416,1,0,"_interopNamespace"],[1,418,1,0,"r"],[1,420,1,0,"_d"],[1,423,1,0],[1,428,2,0,"_invariant"],[1,430,2,0,"r"],[1,432,2,0,"_d"],[1,435,2,0],[1,439,2,0,"invariant"],[1,442],[1,444,2,0,"_invariant"],[1,448],[1,475,2,34,"r"],[1,477,2,34,"_d"],[1,480,2,34],[1,484,4,0],[1,488,4,0,"_AuthRequestTypes"],[1,490,4,0,"r"],[1,492,4,0,"_d"],[1,495,4,0],[1,499,5,0,"_Errors"],[1,501,5,0,"r"],[1,503,5,0,"_d"],[1,506,5,0],[1,510,6,0,"PKCE"],[1,512,6,0,"_interopNamespace"],[1,514,6,0,"r"],[1,516,6,0,"_d"],[1,519,6,0],[1,524,7,0,"QueryParams"],[1,526,7,0,"_interopNamespace"],[1,528,7,0,"r"],[1,530,7,0,"_d"],[1,533,7,0],[1,538,8,0,"_TokenRequest"],[1,540,8,0,"r"],[1,542,8,0,"_d"],[1,545,8,0],[1,549,9,0],[1,553,9,4,"_authLock"],[1,556,9,16],[1,558,36,7],[1,564,36,13,"AuthRequest"],[1,566,41,4,"url"],[1,570,41,10],[1,575,53,4,"constructor"],[1,587,53,16,"request"],[1,590,54,8,"this"],[1,595,54,13,"responseType"],[1,608,54,28,"request"],[1,610,54,36,"responseType"],[1,624,54,52,"ResponseType"],[1,626,54,64,"ResponseType"],[1,639,54,65,"Code"],[1,644,55,8,"this"],[1,649,55,13,"clientId"],[1,658,55,24,"request"],[1,660,55,32,"clientId"],[1,669,56,8,"this"],[1,674,56,13,"redirectUri"],[1,686,56,27,"request"],[1,688,56,35,"redirectUri"],[1,700,57,8,"this"],[1,705,57,13,"scopes"],[1,712,57,22,"request"],[1,714,57,30,"scopes"],[1,721,58,8,"this"],[1,726,58,13,"clientSecret"],[1,739,58,28,"request"],[1,741,58,36,"clientSecret"],[1,754,59,8,"this"],[1,759,59,13,"prompt"],[1,766,59,22,"request"],[1,768,59,30,"prompt"],[1,775,60,8,"this"],[1,780,60,13,"state"],[1,786,60,21,"request"],[1,788,60,29,"state"],[1,795,60,38,"PKCE"],[1,797,60,43,"generateRandom"],[1,812,60,58],[1,816,61,8,"this"],[1,821,61,13,"extraParams"],[1,833,61,27,"request"],[1,835,61,35,"extraParams"],[1,848,61,50],[1,849,61,51],[1,851,62,8,"this"],[1,856,62,13,"codeChallengeMethod"],[1,876,62,35,"request"],[1,878,62,43,"codeChallengeMethod"],[1,899,62,66,"CodeChallengeMethod"],[1,901,62,85,"CodeChallengeMethod"],[1,921,62,86,"S256"],[1,926,64,8,"this"],[1,931,64,13,"usePKCE"],[1,939,64,23,"request"],[1,941,64,31,"usePKCE"],[1,951,64,42],[1,954,77,8],[1,956,77,8,"invariant"],[1,958,77,17,"default"],[1,967,77,18,"this"],[1,972,77,23,"codeChallengeMethod"],[1,994,77,47,"CodeChallengeMethod"],[1,996,77,66,"CodeChallengeMethod"],[1,1016,77,67,"Plain"],[1,1022,77,74],[1,1105,78,8],[1,1107,78,8,"invariant"],[1,1109,78,17,"default"],[1,1118,78,18,"this"],[1,1123,78,23,"redirectUri"],[1,1135,78,36],[1,1212,82,4],[1,1213,86,4],[1,1244,86,10,"getAuthRequestConfigAsync"],[1,1247,90,8],[1,1254,87,12,"this"],[1,1259,87,17,"usePKCE"],[1,1274,88,18,"this"],[1,1279,88,23,"ensureCodeIsSetupAsync"],[1,1304,90,15],[1,1305,91,12,"responseType"],[1,1318,91,26,"this"],[1,1323,91,31,"responseType"],[1,1336,92,12,"clientId"],[1,1345,92,22,"this"],[1,1350,92,27,"clientId"],[1,1359,93,12,"redirectUri"],[1,1371,93,25,"this"],[1,1376,93,30,"redirectUri"],[1,1388,94,12,"scopes"],[1,1395,94,20,"this"],[1,1400,94,25,"scopes"],[1,1407,95,12,"clientSecret"],[1,1420,95,26,"this"],[1,1425,95,31,"clientSecret"],[1,1438,96,12,"codeChallenge"],[1,1452,96,27,"this"],[1,1457,96,32,"codeChallenge"],[1,1471,97,12,"codeChallengeMethod"],[1,1491,97,33,"this"],[1,1496,97,38,"codeChallengeMethod"],[1,1516,98,12,"prompt"],[1,1523,98,20,"this"],[1,1528,98,25,"prompt"],[1,1535,99,12,"state"],[1,1541,99,19,"this"],[1,1546,99,24,"state"],[1,1552,100,12,"extraParams"],[1,1564,100,25,"this"],[1,1569,100,30,"extraParams"],[1,1581,101,12,"usePKCE"],[1,1589,101,21,"this"],[1,1594,101,26,"usePKCE"],[1,1602,103,4],[1,1603,110,4],[1,1620,110,10,"promptAsync"],[1,1621,110,22,"discovery"],[1,1624,110,33,"url"],[1,1628,110,35,"url"],[1,1633,110,43,"options"],[1,1636,110,55],[1,1637,110,56],[1,1640,111,8],[1,1644,111,13,"url"],[1,1646,111,18],[1,1647,112,12],[1,1651,112,17,"this"],[1,1656,112,22,"url"],[1,1660,114,16],[1,1667,114,23,"this"],[1,1672,114,28,"promptAsync"],[1,1684,114,40,"discovery"],[1,1686,114,51],[1,1690,115,23,"options"],[1,1692,116,20,"url"],[1,1702,116,31,"this"],[1,1707,116,36,"makeAuthUrlAsync"],[1,1724,116,53,"discovery"],[1,1729,120,12,"url"],[1,1731,120,18,"this"],[1,1736,120,23,"url"],[1,1739,121,8],[1,1741,123,8],[1,1743,123,8,"invariant"],[1,1745,123,17,"default"],[1,1754,123,18,"url"],[1,1756,123,23],[1,1894,124,8],[1,1900,124,14,"startUrl"],[1,1902,124,25,"url"],[1,1904,125,14,"returnUrl"],[1,1906,125,26,"this"],[1,1911,125,31,"redirectUri"],[1,1923,128,8],[1,1926,128,12,"_authLock"],[1,1928,132,12],[1,1934,132,19],[1,1935,132,21,"type"],[1,1940,132,27],[1,1950,136,8],[1,1954,136,12,"result"],[1,1956,135,8,"_authLock"],[1,1959,135,20],[1,1961,137,8],[1,1965,138,12,"result"],[1,1973,138,27,"WebBrowser"],[1,1975,138,38,"openAuthSessionAsync"],[1,1996,138,59,"startUrl"],[1,1998,138,69,"returnUrl"],[1,2000,138,80,"options"],[1,2002,139,8],[1,2003,139,9],[1,2011,141,12,"_authLock"],[1,2014,141,24],[1,2015,142,8],[1,2016,143,8],[1,2019,143,28],[1,2030,143,12,"result"],[1,2032,143,19,"type"],[1,2037,145,12],[1,2043,145,18],[1,2047,145,22,"Error"],[1,2053,145,28],[1,2085,147,8],[1,2091,147,28],[1,2103,147,12,"result"],[1,2105,147,19,"type"],[1,2110,148,19],[1,2111,148,21,"type"],[1,2116,148,27,"result"],[1,2118,148,34,"type"],[1,2124,150,15,"this"],[1,2129,150,20,"parseReturnUrl"],[1,2144,150,35,"result"],[1,2146,150,42,"url"],[1,2150,151,4],[1,2151,152,4,"parseReturnUrl"],[1,2166,152,19,"url"],[1,2169,153,8],[1,2175,153,14,"params"],[1,2182,153,16,"params"],[1,2184,153,22,"errorCode"],[1,2194,153,24,"errorCode"],[1,2197,153,38,"QueryParams"],[1,2199,153,50,"getQueryParams"],[1,2214,153,65,"url"],[1,2218,154,14,"state"],[1,2224,154,16,"state"],[1,2226,154,21,"error"],[1,2232,154,23,"error"],[1,2234,154,31,"errorCode"],[1,2237,154,45,"params"],[1,2239,155,8],[1,2243,155,12,"parsedError"],[1,2245,155,26],[1,2250,156,12,"authentication"],[1,2252,156,29],[1,2257,170,8],[1,2264,157,12,"state"],[1,2268,157,22,"this"],[1,2273,157,27,"state"],[1,2279,159,12,"parsedError"],[1,2281,159,26],[1,2285,159,30,"AuthError"],[1,2287,159,39,"AuthError"],[1,2297,159,40],[1,2298,160,16,"error"],[1,2304,160,23],[1,2321,161,16,"error_description"],[1,2339,161,35],[1,2429,164,17,"error"],[1,2433,165,12,"parsedError"],[1,2435,165,26],[1,2439,165,30,"AuthError"],[1,2441,165,39,"AuthError"],[1,2451,165,40],[1,2452,165,42,"error"],[1,2463,165,52,"params"],[1,2468,167,12,"params"],[1,2470,167,19,"access_token"],[1,2485,168,12,"authentication"],[1,2487,168,29,"TokenResponse"],[1,2489,168,42,"TokenResponse"],[1,2503,168,43,"fromQueryParams"],[1,2519,168,59,"params"],[1,2523,170,15],[1,2524,171,12,"type"],[1,2529,171,18,"parsedError"],[1,2531,171,32],[1,2539,171,42],[1,2549,172,12,"error"],[1,2555,172,19,"parsedError"],[1,2557,173,12,"url"],[1,2563,174,12,"params"],[1,2572,175,12,"authentication"],[1,2589,177,12,"errorCode"],[1,2601,179,4],[1,2602,185,4],[1,2624,185,10,"makeAuthUrlAsync"],[1,2625,185,27,"discovery"],[1,2628,186,8],[1,2634,186,14,"request"],[1,2642,186,30,"this"],[1,2647,186,35,"getAuthRequestConfigAsync"],[1,2675,187,8],[1,2679,187,13,"request"],[1,2681,187,21,"state"],[1,2687,188,12],[1,2693,188,18],[1,2697,188,22,"Error"],[1,2703,188,28],[1,2761,190,8],[1,2767,190,14,"params"],[1,2769,190,23],[1,2770,190,24],[1,2772,191,12,"request"],[1,2774,191,20,"codeChallenge"],[1,2790,192,12,"params"],[1,2792,192,19,"code_challenge"],[1,2807,192,36,"request"],[1,2809,192,44,"codeChallenge"],[1,2824,195,8],[1,2828,195,13],[1,2834,195,19,"extra"],[1,2839,195,28,"request"],[1,2841,195,36,"extraParams"],[1,2853,196,16,"extra"],[1,2858,196,25,"request"],[1,2860,196,33,"extraParams"],[1,2874,197,16,"params"],[1,2876,197,23,"extra"],[1,2879,197,32,"request"],[1,2881,197,40,"extraParams"],[1,2893,197,52,"extra"],[1,2897,220,8],[1,2904,200,12,"request"],[1,2906,200,20,"usePKCE"],[1,2915,200,31,"request"],[1,2917,200,39,"codeChallengeMethod"],[1,2939,201,12,"params"],[1,2941,201,19,"code_challenge_method"],[1,2963,201,43,"request"],[1,2965,201,51,"codeChallengeMethod"],[1,2986,203,12,"request"],[1,2988,203,20,"clientSecret"],[1,3003,204,12,"params"],[1,3005,204,19,"client_secret"],[1,3019,204,35,"request"],[1,3021,204,43,"clientSecret"],[1,3035,206,12,"request"],[1,3037,206,20,"prompt"],[1,3046,207,12,"params"],[1,3048,207,19,"prompt"],[1,3055,208,42],[1,3072,208,23,"request"],[1,3074,208,31,"prompt"],[1,3081,208,53,"request"],[1,3083,208,61,"prompt"],[1,3090,208,70,"request"],[1,3092,208,78,"prompt"],[1,3099,208,85,"join"],[1,3104,208,90],[1,3110,211,8,"params"],[1,3112,211,15,"redirect_uri"],[1,3125,211,30,"request"],[1,3127,211,38,"redirectUri"],[1,3139,212,8,"params"],[1,3141,212,15,"client_id"],[1,3151,212,27,"request"],[1,3153,212,35,"clientId"],[1,3162,213,8,"params"],[1,3164,213,15,"response_type"],[1,3178,213,31,"request"],[1,3180,213,39,"responseType"],[1,3193,214,8,"params"],[1,3195,214,15,"state"],[1,3201,214,23,"request"],[1,3203,214,31,"state"],[1,3209,215,12,"request"],[1,3211,215,20,"scopes"],[1,3219,215,28,"length"],[1,3228,216,12,"params"],[1,3230,216,19,"scope"],[1,3236,216,27,"request"],[1,3238,216,35,"scopes"],[1,3245,216,42,"join"],[1,3250,216,47],[1,3256,219,8,"this"],[1,3261,219,13,"url"],[1,3265,219,19],[1,3268,219,22,"discovery"],[1,3270,219,32,"authorizationEndpoint"],[1,3295,219,57],[1,3299,219,61,"URLSearchParams"],[1,3315,219,77,"params"],[1,3320,220,15,"this"],[1,3325,220,20,"url"],[1,3328,221,4],[1,3329,222,4],[1,3357,222,10,"ensureCodeIsSetupAsync"],[1,3360,223,8],[1,3363,223,12,"this"],[1,3368,223,17,"codeVerifier"],[1,3381,224,12],[1,3388,227,8],[1,3394,227,14,"codeVerifier"],[1,3407,227,16,"codeVerifier"],[1,3409,227,28,"codeChallenge"],[1,3423,227,30,"codeChallenge"],[1,3432,227,54,"PKCE"],[1,3434,227,59,"buildCodeAsync"],[1,3451,228,8,"this"],[1,3456,228,13,"codeVerifier"],[1,3469,228,28,"codeVerifier"],[1,3471,229,8,"this"],[1,3476,229,13,"codeChallenge"],[1,3490,229,29,"codeChallenge"],[1,3491,230,4],[1,3493,231,1],[1,3496]],"functionMap":{"names":["<global>","AuthRequest","constructor","getAuthRequestConfigAsync","promptAsync","parseReturnUrl","makeAuthUrlAsync","ensureCodeIsSetupAsync"],"mappings":"AAA;OCmC;ICiB;KD6B;IEI;KFiB;IGO;KHyC;IIC;KJ2B;IKM;KLoC;IMC;KNQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}