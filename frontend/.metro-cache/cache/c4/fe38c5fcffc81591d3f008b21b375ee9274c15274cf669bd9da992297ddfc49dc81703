{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":156},"end":{"line":4,"column":42,"index":198}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":199},"end":{"line":5,"column":69,"index":268}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":269},"end":{"line":6,"column":50,"index":319}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"../store/favoritesStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":320},"end":{"line":7,"column":60,"index":380}}],"key":"rQmi7ZiN3wSYC/3oB9X28qKmXrY=","exportNames":["*"],"imports":1}},{"name":"../hooks/useAudioPlayer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":381},"end":{"line":8,"column":51,"index":432}}],"key":"pUckzGairsxi/1vGHJirSPNjmRQ=","exportNames":["*"],"imports":1}},{"name":"../services/stationService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":433},"end":{"line":9,"column":56,"index":489}}],"key":"uwHKYj7/xzUyIn0NC/c691Hz7MQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,\"PlayAtLoginHandler\",{enumerable:!0,get:function(){return u}});var e=r(d[0]),o=t(r(d[1])),n=r(d[2]),l=r(d[3]),s=r(d[4]),c=t(r(d[5]));const u=()=>{const t=(0,e.useRef)(!1),{isAuthenticated:u,isAuthLoaded:f}=(0,n.useAuthStore)(),{favorites:y,isLoaded:A}=(0,l.useFavoritesStore)(),{playStation:P}=(0,s.useAudio)();return(0,e.useEffect)(()=>{(async()=>{if(!t.current)if(f){if(!u)return console.log('[PlayAtLogin] User not authenticated, skipping'),void(t.current=!0);await new Promise(t=>setTimeout(t,500));try{const e=await o.default.getItem(\"play_at_login_setting\");if(console.log('[PlayAtLogin] Setting:',e),t.current=!0,!e||'off'===e)return void console.log('[PlayAtLogin] Disabled or not set');let n=null;switch(e){case'last_played':const t=await o.default.getItem(\"@megaradio_last_played_station\");t&&(n=JSON.parse(t),console.log('[PlayAtLogin] Last played station:',n?.name));break;case'favorite':y&&y.length>0&&(n=y[0],console.log('[PlayAtLogin] First favorite station:',n?.name));break;case'random':try{const t=await c.default.getStations({limit:50});if(t?.stations&&t.stations.length>0){const e=Math.floor(Math.random()*t.stations.length);n=t.stations[e],console.log('[PlayAtLogin] Random station:',n?.name)}}catch(t){console.error('[PlayAtLogin] Failed to fetch random station:',t)}}n&&(console.log('[PlayAtLogin] Starting playback:',n.name),await P(n))}catch(t){console.error('[PlayAtLogin] Error:',t)}}else console.log('[PlayAtLogin] Auth not loaded yet, waiting...')})()},[u,f,y,A,P]),null};var f=u});","lineCount":1,"map":[[1,143,106,0,"Object"],[1,150,106,0,"defineProperty"],[1,165,106,0,"_e"],[1,168,106,0],[1,179,106,0,"enumerable"],[1,191,106,0],[1,193,106,0,"get"],[1,197,106,0],[1,215,106,0,"_default"],[1,216,106,0],[1,220,14,0,"Object"],[1,227,14,0,"defineProperty"],[1,242,14,0,"_e"],[1,245,14,0],[1,267,14,0,"enumerable"],[1,279,14,0],[1,281,14,0,"get"],[1,285,14,0],[1,303,14,0,"PlayAtLoginHandler"],[1,304,14,0],[1,308,4,0],[1,312,4,0,"_react"],[1,314,4,0,"r"],[1,316,4,0,"d"],[1,318,4,0],[1,322,5,0,"AsyncStorage"],[1,324,5,0,"_interopDefault"],[1,326,5,0,"r"],[1,328,5,0,"d"],[1,330,5,0],[1,335,6,0,"_storeAuthStore"],[1,337,6,0,"r"],[1,339,6,0,"d"],[1,341,6,0],[1,345,7,0,"_storeFavoritesStore"],[1,347,7,0,"r"],[1,349,7,0,"d"],[1,351,7,0],[1,355,8,0,"_hooksUseAudioPlayer"],[1,357,8,0,"r"],[1,359,8,0,"d"],[1,361,8,0],[1,365,9,0,"stationService"],[1,367,9,0,"_interopDefault"],[1,369,9,0,"r"],[1,371,9,0,"d"],[1,373,9,0],[1,378,11,0],[1,384,14,13,"PlayAtLoginHandler"],[1,386,14,44,"PlayAtLoginHandler"],[1,391,15,2],[1,397,15,8,"hasExecuted"],[1,400,15,22],[1,402,15,22,"useRef"],[1,404,15,28,"useRef"],[1,413,15,29],[1,417,16,8,"isAuthenticated"],[1,433,16,10,"isAuthenticated"],[1,435,16,25,"isAuthLoaded"],[1,448,16,27,"isAuthLoaded"],[1,452,16,44],[1,454,16,44,"useAuthStore"],[1,456,16,56,"useAuthStore"],[1,473,17,8,"favorites"],[1,483,17,10,"favorites"],[1,485,17,21,"isLoaded"],[1,494,17,31,"favoritesLoaded"],[1,498,17,51],[1,500,17,51,"useFavoritesStore"],[1,502,17,68,"useFavoritesStore"],[1,524,18,8,"playStation"],[1,536,18,10,"playStation"],[1,540,18,26],[1,542,18,26,"useAudio"],[1,544,18,34,"useAudio"],[1,556,103,2],[1,563,20,2],[1,565,20,2,"useEffect"],[1,567,20,11,"useEffect"],[1,578,20,12],[1,583,21,31,"async"],[1,594,23,6],[1,598,23,10,"hasExecuted"],[1,600,23,22,"current"],[1,608,28,6],[1,611,28,11,"isAuthLoaded"],[1,613,28,6],[1,614,34,6],[1,618,34,11,"isAuthenticated"],[1,620,37,8],[1,627,35,8,"console"],[1,635,35,16,"log"],[1,639,35,20],[1,694,36,8,"hasExecuted"],[1,696,36,20,"current"],[1,705,36,30],[1,714,41,12],[1,718,41,16,"Promise"],[1,726,41,24,"resolve"],[1,729,41,35,"setTimeout"],[1,740,41,46,"resolve"],[1,742,41,55],[1,748,43,6],[1,752,44,8],[1,758,44,14,"setting"],[1,766,44,30,"AsyncStorage"],[1,768,44,42,"default"],[1,776,44,43,"getItem"],[1,784,11,26],[1,809,50,8],[1,812,45,8,"console"],[1,820,45,16,"log"],[1,824,45,20],[1,849,45,46,"setting"],[1,852,48,8,"hasExecuted"],[1,854,48,20,"current"],[1,863,48,30],[1,866,50,13,"setting"],[1,869,50,36],[1,877,50,24,"setting"],[1,879,52,10],[1,891,51,10,"console"],[1,899,51,18,"log"],[1,903,51,22],[1,940,55,8],[1,944,55,12,"stationToPlay"],[1,946,55,28],[1,951,57,8],[1,958,57,16,"setting"],[1,961,58,10],[1,965,58,15],[1,979,60,12],[1,985,60,18,"lastPlayedJson"],[1,993,60,41,"AsyncStorage"],[1,995,60,53,"default"],[1,1003,60,54,"getItem"],[1,1011,12,32],[1,1045,61,16,"lastPlayedJson"],[1,1049,62,14,"stationToPlay"],[1,1051,62,30,"JSON"],[1,1056,62,35,"parse"],[1,1062,62,41,"lastPlayedJson"],[1,1065,63,14,"console"],[1,1073,63,22,"log"],[1,1077,63,26],[1,1114,63,64,"stationToPlay"],[1,1117,63,79,"name"],[1,1124,65,12],[1,1130,67,10],[1,1134,67,15],[1,1145,69,16,"favorites"],[1,1148,69,29,"favorites"],[1,1150,69,39,"length"],[1,1157,69,48],[1,1161,70,14,"stationToPlay"],[1,1163,70,30,"favorites"],[1,1165,70,40],[1,1168,71,14,"console"],[1,1176,71,22,"log"],[1,1180,71,26],[1,1220,71,67,"stationToPlay"],[1,1223,71,82,"name"],[1,1230,73,12],[1,1236,75,10],[1,1240,75,15],[1,1249,77,12],[1,1253,78,14],[1,1259,78,20,"response"],[1,1267,78,37,"stationService"],[1,1269,78,51,"default"],[1,1277,78,52,"getStations"],[1,1289,78,64],[1,1290,78,66,"limit"],[1,1296,78,73],[1,1301,79,14],[1,1304,79,18,"response"],[1,1307,79,28,"stations"],[1,1317,79,40,"response"],[1,1319,79,49,"stations"],[1,1328,79,58,"length"],[1,1335,79,67],[1,1337,79,70],[1,1338,80,16],[1,1344,80,22,"randomIndex"],[1,1346,80,36,"Math"],[1,1351,80,41,"floor"],[1,1357,80,47,"Math"],[1,1362,80,52,"random"],[1,1371,80,63,"response"],[1,1373,80,72,"stations"],[1,1382,80,81,"length"],[1,1390,81,16,"stationToPlay"],[1,1392,81,32,"response"],[1,1394,81,41,"stations"],[1,1403,81,50,"randomIndex"],[1,1406,82,16,"console"],[1,1414,82,24,"log"],[1,1418,82,28],[1,1450,82,61,"stationToPlay"],[1,1453,82,76,"name"],[1,1458,83,14],[1,1459,84,12],[1,1460,84,14],[1,1466,84,21,"error"],[1,1469,85,14,"console"],[1,1477,85,22,"error"],[1,1483,85,28],[1,1531,85,77,"error"],[1,1533,86,12],[1,1535,90,12,"stationToPlay"],[1,1539,91,10,"console"],[1,1547,91,18,"log"],[1,1551,91,22],[1,1586,91,58,"stationToPlay"],[1,1588,91,72,"name"],[1,1600,92,16,"playStation"],[1,1602,92,28,"stationToPlay"],[1,1605,94,6],[1,1606,94,8],[1,1612,94,15,"error"],[1,1615,95,8,"console"],[1,1623,95,16,"error"],[1,1629,95,22],[1,1652,95,46,"error"],[1,1654,96,6],[1,1655,31,6],[1,1661,29,8,"console"],[1,1669,29,16,"log"],[1,1673,29,20],[1,1723,99,4,"executePlayAtLogin"],[1,1727,100,5],[1,1728,100,6,"isAuthenticated"],[1,1730,100,23,"isAuthLoaded"],[1,1732,100,37,"favorites"],[1,1734,100,48,"favoritesLoaded"],[1,1736,100,65,"playStation"],[1,1740,103,9],[1,1746,106,0],[1,1750,106,0,"_default"],[1,1752,106,15,"PlayAtLoginHandler"],[1,1753,106,34],[1,1756]],"functionMap":{"names":["<global>","PlayAtLoginHandler","useEffect$argument_0","executePlayAtLogin","Promise$argument_0"],"mappings":"AAA;4CCa;YCM;+BCC;wBCoB,mCD;KDwD;GDG;CDI"},"hasCjsExports":false},"type":"js/module"}]}