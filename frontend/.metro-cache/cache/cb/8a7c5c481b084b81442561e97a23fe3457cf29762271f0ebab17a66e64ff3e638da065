{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const PAGES_CACHE_KEY = '@megaradio_app_pages';\n  const INFO_CACHE_KEY = '@megaradio_app_info';\n  const CACHE_TTL = 24 * 60 * 60 * 1000; // 24 hours\n\n  const appService = {\n    // Get static pages (About, Terms, Privacy)\n    async getPages() {\n      try {\n        // Check cache first\n        const cached = await AsyncStorage.default.getItem(PAGES_CACHE_KEY);\n        if (cached) {\n          const {\n            data,\n            timestamp\n          } = JSON.parse(cached);\n          if (Date.now() - timestamp < CACHE_TTL) {\n            console.log('[AppService] Using cached pages');\n            return data;\n          }\n        }\n\n        // Fetch from API\n        const response = await api.default.get('https://themegaradio.com/api/app/pages');\n        const pages = response.data?.pages;\n        if (pages) {\n          // Cache the data\n          await AsyncStorage.default.setItem(PAGES_CACHE_KEY, JSON.stringify({\n            data: pages,\n            timestamp: Date.now()\n          }));\n          console.log('[AppService] Pages fetched and cached');\n        }\n        return pages || null;\n      } catch (error) {\n        console.error('[AppService] Failed to fetch pages:', error);\n        return null;\n      }\n    },\n    // Get app info\n    async getAppInfo() {\n      try {\n        // Check cache first\n        const cached = await AsyncStorage.default.getItem(INFO_CACHE_KEY);\n        if (cached) {\n          const {\n            data,\n            timestamp\n          } = JSON.parse(cached);\n          if (Date.now() - timestamp < CACHE_TTL) {\n            console.log('[AppService] Using cached app info');\n            return data;\n          }\n        }\n\n        // Fetch from API\n        const response = await api.default.get('https://themegaradio.com/api/app/info');\n        const appInfo = response.data?.app;\n        if (appInfo) {\n          // Cache the data\n          await AsyncStorage.default.setItem(INFO_CACHE_KEY, JSON.stringify({\n            data: appInfo,\n            timestamp: Date.now()\n          }));\n          console.log('[AppService] App info fetched and cached');\n        }\n        return appInfo || null;\n      } catch (error) {\n        console.error('[AppService] Failed to fetch app info:', error);\n        return null;\n      }\n    },\n    // Clear cache\n    async clearCache() {\n      await AsyncStorage.default.multiRemove([PAGES_CACHE_KEY, INFO_CACHE_KEY]);\n    }\n  };\n  var _default = appService;\n});","lineCount":99,"map":[[12,2,108,0,"Object"],[12,8,108,0],[12,9,108,0,"defineProperty"],[12,23,108,0],[12,24,108,0,"exports"],[12,31,108,0],[13,4,108,0,"enumerable"],[13,14,108,0],[14,4,108,0,"get"],[14,7,108,0],[14,18,108,0,"get"],[14,19,108,0],[15,6,108,0],[15,13,108,0,"_default"],[15,21,108,0],[16,4,108,0],[17,2,108,0],[18,2,1,0],[18,6,1,0,"_api"],[18,10,1,0],[18,13,1,0,"require"],[18,20,1,0],[18,21,1,0,"_dependencyMap"],[18,35,1,0],[19,2,1,0],[19,6,1,0,"api"],[19,9,1,0],[19,12,1,0,"_interopDefault"],[19,27,1,0],[19,28,1,0,"_api"],[19,32,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,4,0],[22,8,4,6,"PAGES_CACHE_KEY"],[22,23,4,21],[22,26,4,24],[22,48,4,46],[23,2,5,0],[23,8,5,6,"INFO_CACHE_KEY"],[23,22,5,20],[23,25,5,23],[23,46,5,44],[24,2,6,0],[24,8,6,6,"CACHE_TTL"],[24,17,6,15],[24,20,6,18],[24,22,6,20],[24,25,6,23],[24,27,6,25],[24,30,6,28],[24,32,6,30],[24,35,6,33],[24,39,6,37],[24,40,6,38],[24,41,6,39],[26,2,35,0],[26,8,35,6,"appService"],[26,18,35,16],[26,21,35,19],[27,4,36,2],[28,4,37,2],[28,10,37,8,"getPages"],[28,18,37,16,"getPages"],[28,19,37,16],[28,21,37,45],[29,6,38,4],[29,10,38,8],[30,8,39,6],[31,8,40,6],[31,14,40,12,"cached"],[31,20,40,18],[31,23,40,21],[31,29,40,27,"AsyncStorage"],[31,41,40,39],[31,42,40,39,"default"],[31,49,40,39],[31,50,40,40,"getItem"],[31,57,40,47],[31,58,40,48,"PAGES_CACHE_KEY"],[31,73,40,63],[31,74,40,64],[32,8,41,6],[32,12,41,10,"cached"],[32,18,41,16],[32,20,41,18],[33,10,42,8],[33,16,42,14],[34,12,42,16,"data"],[34,16,42,20],[35,12,42,22,"timestamp"],[36,10,42,32],[36,11,42,33],[36,14,42,36,"JSON"],[36,18,42,40],[36,19,42,41,"parse"],[36,24,42,46],[36,25,42,47,"cached"],[36,31,42,53],[36,32,42,54],[37,10,43,8],[37,14,43,12,"Date"],[37,18,43,16],[37,19,43,17,"now"],[37,22,43,20],[37,23,43,21],[37,24,43,22],[37,27,43,25,"timestamp"],[37,36,43,34],[37,39,43,37,"CACHE_TTL"],[37,48,43,46],[37,50,43,48],[38,12,44,10,"console"],[38,19,44,17],[38,20,44,18,"log"],[38,23,44,21],[38,24,44,22],[38,57,44,55],[38,58,44,56],[39,12,45,10],[39,19,45,17,"data"],[39,23,45,21],[40,10,46,8],[41,8,47,6],[43,8,49,6],[44,8,50,6],[44,14,50,12,"response"],[44,22,50,20],[44,25,50,23],[44,31,50,29,"api"],[44,34,50,32],[44,35,50,32,"default"],[44,42,50,32],[44,43,50,33,"get"],[44,46,50,36],[44,47,50,37],[44,87,50,77],[44,88,50,78],[45,8,51,6],[45,14,51,12,"pages"],[45,19,51,17],[45,22,51,20,"response"],[45,30,51,28],[45,31,51,29,"data"],[45,35,51,33],[45,37,51,35,"pages"],[45,42,51,40],[46,8,53,6],[46,12,53,10,"pages"],[46,17,53,15],[46,19,53,17],[47,10,54,8],[48,10,55,8],[48,16,55,14,"AsyncStorage"],[48,28,55,26],[48,29,55,26,"default"],[48,36,55,26],[48,37,55,27,"setItem"],[48,44,55,34],[48,45,55,35,"PAGES_CACHE_KEY"],[48,60,55,50],[48,62,55,52,"JSON"],[48,66,55,56],[48,67,55,57,"stringify"],[48,76,55,66],[48,77,55,67],[49,12,56,10,"data"],[49,16,56,14],[49,18,56,16,"pages"],[49,23,56,21],[50,12,57,10,"timestamp"],[50,21,57,19],[50,23,57,21,"Date"],[50,27,57,25],[50,28,57,26,"now"],[50,31,57,29],[50,32,57,30],[51,10,58,8],[51,11,58,9],[51,12,58,10],[51,13,58,11],[52,10,59,8,"console"],[52,17,59,15],[52,18,59,16,"log"],[52,21,59,19],[52,22,59,20],[52,61,59,59],[52,62,59,60],[53,8,60,6],[54,8,62,6],[54,15,62,13,"pages"],[54,20,62,18],[54,24,62,22],[54,28,62,26],[55,6,63,4],[55,7,63,5],[55,8,63,6],[55,15,63,13,"error"],[55,20,63,18],[55,22,63,20],[56,8,64,6,"console"],[56,15,64,13],[56,16,64,14,"error"],[56,21,64,19],[56,22,64,20],[56,59,64,57],[56,61,64,59,"error"],[56,66,64,64],[56,67,64,65],[57,8,65,6],[57,15,65,13],[57,19,65,17],[58,6,66,4],[59,4,67,2],[59,5,67,3],[60,4,69,2],[61,4,70,2],[61,10,70,8,"getAppInfo"],[61,20,70,18,"getAppInfo"],[61,21,70,18],[61,23,70,46],[62,6,71,4],[62,10,71,8],[63,8,72,6],[64,8,73,6],[64,14,73,12,"cached"],[64,20,73,18],[64,23,73,21],[64,29,73,27,"AsyncStorage"],[64,41,73,39],[64,42,73,39,"default"],[64,49,73,39],[64,50,73,40,"getItem"],[64,57,73,47],[64,58,73,48,"INFO_CACHE_KEY"],[64,72,73,62],[64,73,73,63],[65,8,74,6],[65,12,74,10,"cached"],[65,18,74,16],[65,20,74,18],[66,10,75,8],[66,16,75,14],[67,12,75,16,"data"],[67,16,75,20],[68,12,75,22,"timestamp"],[69,10,75,32],[69,11,75,33],[69,14,75,36,"JSON"],[69,18,75,40],[69,19,75,41,"parse"],[69,24,75,46],[69,25,75,47,"cached"],[69,31,75,53],[69,32,75,54],[70,10,76,8],[70,14,76,12,"Date"],[70,18,76,16],[70,19,76,17,"now"],[70,22,76,20],[70,23,76,21],[70,24,76,22],[70,27,76,25,"timestamp"],[70,36,76,34],[70,39,76,37,"CACHE_TTL"],[70,48,76,46],[70,50,76,48],[71,12,77,10,"console"],[71,19,77,17],[71,20,77,18,"log"],[71,23,77,21],[71,24,77,22],[71,60,77,58],[71,61,77,59],[72,12,78,10],[72,19,78,17,"data"],[72,23,78,21],[73,10,79,8],[74,8,80,6],[76,8,82,6],[77,8,83,6],[77,14,83,12,"response"],[77,22,83,20],[77,25,83,23],[77,31,83,29,"api"],[77,34,83,32],[77,35,83,32,"default"],[77,42,83,32],[77,43,83,33,"get"],[77,46,83,36],[77,47,83,37],[77,86,83,76],[77,87,83,77],[78,8,84,6],[78,14,84,12,"appInfo"],[78,21,84,19],[78,24,84,22,"response"],[78,32,84,30],[78,33,84,31,"data"],[78,37,84,35],[78,39,84,37,"app"],[78,42,84,40],[79,8,86,6],[79,12,86,10,"appInfo"],[79,19,86,17],[79,21,86,19],[80,10,87,8],[81,10,88,8],[81,16,88,14,"AsyncStorage"],[81,28,88,26],[81,29,88,26,"default"],[81,36,88,26],[81,37,88,27,"setItem"],[81,44,88,34],[81,45,88,35,"INFO_CACHE_KEY"],[81,59,88,49],[81,61,88,51,"JSON"],[81,65,88,55],[81,66,88,56,"stringify"],[81,75,88,65],[81,76,88,66],[82,12,89,10,"data"],[82,16,89,14],[82,18,89,16,"appInfo"],[82,25,89,23],[83,12,90,10,"timestamp"],[83,21,90,19],[83,23,90,21,"Date"],[83,27,90,25],[83,28,90,26,"now"],[83,31,90,29],[83,32,90,30],[84,10,91,8],[84,11,91,9],[84,12,91,10],[84,13,91,11],[85,10,92,8,"console"],[85,17,92,15],[85,18,92,16,"log"],[85,21,92,19],[85,22,92,20],[85,64,92,62],[85,65,92,63],[86,8,93,6],[87,8,95,6],[87,15,95,13,"appInfo"],[87,22,95,20],[87,26,95,24],[87,30,95,28],[88,6,96,4],[88,7,96,5],[88,8,96,6],[88,15,96,13,"error"],[88,20,96,18],[88,22,96,20],[89,8,97,6,"console"],[89,15,97,13],[89,16,97,14,"error"],[89,21,97,19],[89,22,97,20],[89,62,97,60],[89,64,97,62,"error"],[89,69,97,67],[89,70,97,68],[90,8,98,6],[90,15,98,13],[90,19,98,17],[91,6,99,4],[92,4,100,2],[92,5,100,3],[93,4,102,2],[94,4,103,2],[94,10,103,8,"clearCache"],[94,20,103,18,"clearCache"],[94,21,103,18],[94,23,103,21],[95,6,104,4],[95,12,104,10,"AsyncStorage"],[95,24,104,22],[95,25,104,22,"default"],[95,32,104,22],[95,33,104,23,"multiRemove"],[95,44,104,34],[95,45,104,35],[95,46,104,36,"PAGES_CACHE_KEY"],[95,61,104,51],[95,63,104,53,"INFO_CACHE_KEY"],[95,77,104,67],[95,78,104,68],[95,79,104,69],[96,4,105,2],[97,2,106,0],[97,3,106,1],[98,2,108,0],[98,6,108,0,"_default"],[98,14,108,0],[98,17,108,15,"appService"],[98,27,108,25],[99,0,108,26],[99,3]],"functionMap":{"names":["<global>","getPages","getAppInfo","clearCache"],"mappings":"AAA;ECoC;GD8B;EEG;GF8B;EGG;GHE"},"hasCjsExports":false},"type":"js/module"}]}